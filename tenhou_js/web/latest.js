// Copyrights C-EGG inc.
(function(){var aa=function(){var b=[-2147483648,8388608,32768,128],d=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,
1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,
3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,
116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=[];return function(c){var g,e,f,m,n,k,l,h,w,E,z,C,F,y,D,da,ia,ra=!1,I,Ca=0,ib=0,Ab=0,Va=c.length,Da,Ea,Q,G,L,H,Bb,Cb,vb,wb,Xa,Ya,X,Y,ga,ha,Sa;g=1779033703;e=4089235720;f=3144134277;m=2227873595;n=1013904242;k=4271175723;l=2773480762;h=1595750129;
w=1359893119;E=2917565137;z=2600822924;C=725511199;F=528734635;y=4215389547;D=1541459225;da=327033209;ia=0;do{a[0]=ia;a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=a[16]=a[17]=a[18]=a[19]=a[20]=a[21]=a[22]=a[23]=a[24]=a[25]=a[26]=a[27]=a[28]=a[29]=a[30]=a[31]=a[32]=0;for(I=ib;Ca<Va&&128>I;++Ca)a[I>>2]|=c[Ca],I+=4;Ab+=I-ib;ib=I-128;Ca==Va&&(a[I>>2]|=b[I&3],++Ca);ia=a[32];Ca>Va&&112>I&&(a[31]=Ab<<3,ra=!0);for(I=32;160>I;I+=2)X=a[I-30],Y=a[I-29],Da=(X>>>1|Y<<31)^(X>>>
8|Y<<24)^X>>>7,Ea=(Y>>>1|X<<31)^(Y>>>8|X<<24)^(Y>>>7|X<<25),X=a[I-4],Y=a[I-3],Q=(X>>>19|Y<<13)^(Y>>>29|X<<3)^X>>>6,G=(Y>>>19|X<<13)^(X>>>29|Y<<3)^(Y>>>6|X<<26),X=a[I-32],Y=a[I-31],ga=a[I-14],ha=a[I-13],L=(ha&65535)+(Y&65535)+(Ea&65535)+(G&65535),G=(ha>>>16)+(Y>>>16)+(Ea>>>16)+(G>>>16)+(L>>>16),H=(ga&65535)+(X&65535)+(Da&65535)+(Q&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(Da>>>16)+(Q>>>16)+(H>>>16),a[I]=Q<<16|H&65535,a[I+1]=G<<16|L&65535;var ya=g,za=e,ua=f,va=m,ta=n,sa=k,Fa=l,Ga=h,Ha=w,Ia=E,Ja=z,Ka=C,
La=F,Ma=y,Na=D,Oa=da;vb=ua&ta;wb=va&sa;for(I=0;160>I;I+=8)Da=(ya>>>28|za<<4)^(za>>>2|ya<<30)^(za>>>7|ya<<25),Ea=(za>>>28|ya<<4)^(ya>>>2|za<<30)^(ya>>>7|za<<25),Q=(Ha>>>14|Ia<<18)^(Ha>>>18|Ia<<14)^(Ia>>>9|Ha<<23),G=(Ia>>>14|Ha<<18)^(Ia>>>18|Ha<<14)^(Ha>>>9|Ia<<23),Bb=ya&ua,Cb=za&va,Xa=Bb^ya&ta^vb,Ya=Cb^za&sa^wb,Sa=Ha&Ja^~Ha&La,H=Ia&Ka^~Ia&Ma,X=a[I],Y=a[I+1],ga=d[I],ha=d[I+1],L=(ha&65535)+(Y&65535)+(H&65535)+(G&65535)+(Oa&65535),G=(ha>>>16)+(Y>>>16)+(H>>>16)+(G>>>16)+(Oa>>>16)+(L>>>16),H=(ga&65535)+
(X&65535)+(Sa&65535)+(Q&65535)+(Na&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(Sa>>>16)+(Q>>>16)+(Na>>>16)+(H>>>16),X=Q<<16|H&65535,Y=G<<16|L&65535,L=(Ya&65535)+(Ea&65535),G=(Ya>>>16)+(Ea>>>16)+(L>>>16),H=(Xa&65535)+(Da&65535)+(G>>>16),Q=(Xa>>>16)+(Da>>>16)+(H>>>16),ga=Q<<16|H&65535,ha=G<<16|L&65535,L=(Ga&65535)+(Y&65535),G=(Ga>>>16)+(Y>>>16)+(L>>>16),H=(Fa&65535)+(X&65535)+(G>>>16),Q=(Fa>>>16)+(X>>>16)+(H>>>16),Na=Q<<16|H&65535,Oa=G<<16|L&65535,L=(ha&65535)+(Y&65535),G=(ha>>>16)+(Y>>>16)+(L>>>16),H=(ga&
65535)+(X&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(H>>>16),Fa=Q<<16|H&65535,Ga=G<<16|L&65535,Da=(Fa>>>28|Ga<<4)^(Ga>>>2|Fa<<30)^(Ga>>>7|Fa<<25),Ea=(Ga>>>28|Fa<<4)^(Fa>>>2|Ga<<30)^(Fa>>>7|Ga<<25),Q=(Na>>>14|Oa<<18)^(Na>>>18|Oa<<14)^(Oa>>>9|Na<<23),G=(Oa>>>14|Na<<18)^(Oa>>>18|Na<<14)^(Na>>>9|Oa<<23),vb=Fa&ya,wb=Ga&za,Xa=vb^Fa&ua^Bb,Ya=wb^Ga&va^Cb,Sa=Na&Ha^~Na&Ja,H=Oa&Ia^~Oa&Ka,X=a[I+2],Y=a[I+3],ga=d[I+2],ha=d[I+3],L=(ha&65535)+(Y&65535)+(H&65535)+(G&65535)+(Ma&65535),G=(ha>>>16)+(Y>>>16)+(H>>>16)+(G>>>
16)+(Ma>>>16)+(L>>>16),H=(ga&65535)+(X&65535)+(Sa&65535)+(Q&65535)+(La&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(Sa>>>16)+(Q>>>16)+(La>>>16)+(H>>>16),X=Q<<16|H&65535,Y=G<<16|L&65535,L=(Ya&65535)+(Ea&65535),G=(Ya>>>16)+(Ea>>>16)+(L>>>16),H=(Xa&65535)+(Da&65535)+(G>>>16),Q=(Xa>>>16)+(Da>>>16)+(H>>>16),ga=Q<<16|H&65535,ha=G<<16|L&65535,L=(sa&65535)+(Y&65535),G=(sa>>>16)+(Y>>>16)+(L>>>16),H=(ta&65535)+(X&65535)+(G>>>16),Q=(ta>>>16)+(X>>>16)+(H>>>16),La=Q<<16|H&65535,Ma=G<<16|L&65535,L=(ha&65535)+(Y&65535),
G=(ha>>>16)+(Y>>>16)+(L>>>16),H=(ga&65535)+(X&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(H>>>16),ta=Q<<16|H&65535,sa=G<<16|L&65535,Da=(ta>>>28|sa<<4)^(sa>>>2|ta<<30)^(sa>>>7|ta<<25),Ea=(sa>>>28|ta<<4)^(ta>>>2|sa<<30)^(ta>>>7|sa<<25),Q=(La>>>14|Ma<<18)^(La>>>18|Ma<<14)^(Ma>>>9|La<<23),G=(Ma>>>14|La<<18)^(Ma>>>18|La<<14)^(La>>>9|Ma<<23),Bb=ta&Fa,Cb=sa&Ga,Xa=Bb^ta&ya^vb,Ya=Cb^sa&za^wb,Sa=La&Na^~La&Ha,H=Ma&Oa^~Ma&Ia,X=a[I+4],Y=a[I+5],ga=d[I+4],ha=d[I+5],L=(ha&65535)+(Y&65535)+(H&65535)+(G&65535)+(Ka&65535),
G=(ha>>>16)+(Y>>>16)+(H>>>16)+(G>>>16)+(Ka>>>16)+(L>>>16),H=(ga&65535)+(X&65535)+(Sa&65535)+(Q&65535)+(Ja&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(Sa>>>16)+(Q>>>16)+(Ja>>>16)+(H>>>16),X=Q<<16|H&65535,Y=G<<16|L&65535,L=(Ya&65535)+(Ea&65535),G=(Ya>>>16)+(Ea>>>16)+(L>>>16),H=(Xa&65535)+(Da&65535)+(G>>>16),Q=(Xa>>>16)+(Da>>>16)+(H>>>16),ga=Q<<16|H&65535,ha=G<<16|L&65535,L=(va&65535)+(Y&65535),G=(va>>>16)+(Y>>>16)+(L>>>16),H=(ua&65535)+(X&65535)+(G>>>16),Q=(ua>>>16)+(X>>>16)+(H>>>16),Ja=Q<<16|H&65535,Ka=
G<<16|L&65535,L=(ha&65535)+(Y&65535),G=(ha>>>16)+(Y>>>16)+(L>>>16),H=(ga&65535)+(X&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(H>>>16),ua=Q<<16|H&65535,va=G<<16|L&65535,Da=(ua>>>28|va<<4)^(va>>>2|ua<<30)^(va>>>7|ua<<25),Ea=(va>>>28|ua<<4)^(ua>>>2|va<<30)^(ua>>>7|va<<25),Q=(Ja>>>14|Ka<<18)^(Ja>>>18|Ka<<14)^(Ka>>>9|Ja<<23),G=(Ka>>>14|Ja<<18)^(Ka>>>18|Ja<<14)^(Ja>>>9|Ka<<23),vb=ua&ta,wb=va&sa,Xa=vb^ua&Fa^Bb,Ya=wb^va&Ga^Cb,Sa=Ja&La^~Ja&Na,H=Ka&Ma^~Ka&Oa,X=a[I+6],Y=a[I+7],ga=d[I+6],ha=d[I+7],L=(ha&65535)+(Y&
65535)+(H&65535)+(G&65535)+(Ia&65535),G=(ha>>>16)+(Y>>>16)+(H>>>16)+(G>>>16)+(Ia>>>16)+(L>>>16),H=(ga&65535)+(X&65535)+(Sa&65535)+(Q&65535)+(Ha&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(Sa>>>16)+(Q>>>16)+(Ha>>>16)+(H>>>16),X=Q<<16|H&65535,Y=G<<16|L&65535,L=(Ya&65535)+(Ea&65535),G=(Ya>>>16)+(Ea>>>16)+(L>>>16),H=(Xa&65535)+(Da&65535)+(G>>>16),Q=(Xa>>>16)+(Da>>>16)+(H>>>16),ga=Q<<16|H&65535,ha=G<<16|L&65535,L=(za&65535)+(Y&65535),G=(za>>>16)+(Y>>>16)+(L>>>16),H=(ya&65535)+(X&65535)+(G>>>16),Q=(ya>>>16)+
(X>>>16)+(H>>>16),Ha=Q<<16|H&65535,Ia=G<<16|L&65535,L=(ha&65535)+(Y&65535),G=(ha>>>16)+(Y>>>16)+(L>>>16),H=(ga&65535)+(X&65535)+(G>>>16),Q=(ga>>>16)+(X>>>16)+(H>>>16),ya=Q<<16|H&65535,za=G<<16|L&65535;L=(e&65535)+(za&65535);G=(e>>>16)+(za>>>16)+(L>>>16);H=(g&65535)+(ya&65535)+(G>>>16);Q=(g>>>16)+(ya>>>16)+(H>>>16);g=Q<<16|H&65535;e=G<<16|L&65535;L=(m&65535)+(va&65535);G=(m>>>16)+(va>>>16)+(L>>>16);H=(f&65535)+(ua&65535)+(G>>>16);Q=(f>>>16)+(ua>>>16)+(H>>>16);f=Q<<16|H&65535;m=G<<16|L&65535;L=(k&65535)+
(sa&65535);G=(k>>>16)+(sa>>>16)+(L>>>16);H=(n&65535)+(ta&65535)+(G>>>16);Q=(n>>>16)+(ta>>>16)+(H>>>16);n=Q<<16|H&65535;k=G<<16|L&65535;L=(h&65535)+(Ga&65535);G=(h>>>16)+(Ga>>>16)+(L>>>16);H=(l&65535)+(Fa&65535)+(G>>>16);Q=(l>>>16)+(Fa>>>16)+(H>>>16);l=Q<<16|H&65535;h=G<<16|L&65535;L=(E&65535)+(Ia&65535);G=(E>>>16)+(Ia>>>16)+(L>>>16);H=(w&65535)+(Ha&65535)+(G>>>16);Q=(w>>>16)+(Ha>>>16)+(H>>>16);w=Q<<16|H&65535;E=G<<16|L&65535;L=(C&65535)+(Ka&65535);G=(C>>>16)+(Ka>>>16)+(L>>>16);H=(z&65535)+(Ja&65535)+
(G>>>16);Q=(z>>>16)+(Ja>>>16)+(H>>>16);z=Q<<16|H&65535;C=G<<16|L&65535;L=(y&65535)+(Ma&65535);G=(y>>>16)+(Ma>>>16)+(L>>>16);H=(F&65535)+(La&65535)+(G>>>16);Q=(F>>>16)+(La>>>16)+(H>>>16);F=Q<<16|H&65535;y=G<<16|L&65535;L=(da&65535)+(Oa&65535);G=(da>>>16)+(Oa>>>16)+(L>>>16);H=(D&65535)+(Na&65535)+(G>>>16);Q=(D>>>16)+(Na>>>16)+(H>>>16);D=Q<<16|H&65535;da=G<<16|L&65535}while(!ra);return[g,e,f,m,n,k,l,h,w,E,z,C,F,y,D,da]}}();function ba(){this.fa=624;this.ob=397;this.yc=2567483615;this.Db=2147483648;this.Cb=2147483647;this.B=Array(this.fa);this.ta=this.fa+1}function ca(b,d){b.B[0]=d>>>0;for(b.ta=1;b.ta<b.fa;b.ta++)d=b.B[b.ta-1]^b.B[b.ta-1]>>>30,b.B[b.ta]=(1812433253*((d&4294901760)>>>16)<<16)+1812433253*(d&65535)+b.ta,b.B[b.ta]>>>=0}
function ea(b,d,a){var c,g,e;ca(b,19650218);c=1;g=0;for(e=b.fa>a?b.fa:a;e;e--){var f=b.B[c-1]^b.B[c-1]>>>30;b.B[c]=(b.B[c]^(1664525*((f&4294901760)>>>16)<<16)+1664525*(f&65535))+d[g]+g;b.B[c]>>>=0;c++;g++;c>=b.fa&&(b.B[0]=b.B[b.fa-1],c=1);g>=a&&(g=0)}for(e=b.fa-1;e;e--)f=b.B[c-1]^b.B[c-1]>>>30,b.B[c]=(b.B[c]^(1566083941*((f&4294901760)>>>16)<<16)+1566083941*(f&65535))-c,b.B[c]>>>=0,c++,c>=b.fa&&(b.B[0]=b.B[b.fa-1],c=1);b.B[0]=2147483648}
function fa(b){var d,a=[0,b.yc];if(b.ta>=b.fa){var c;b.ta==b.fa+1&&ca(b,5489);for(c=0;c<b.fa-b.ob;c++)d=b.B[c]&b.Db|b.B[c+1]&b.Cb,b.B[c]=b.B[c+b.ob]^d>>>1^a[d&1];for(;c<b.fa-1;c++)d=b.B[c]&b.Db|b.B[c+1]&b.Cb,b.B[c]=b.B[c+(b.ob-b.fa)]^d>>>1^a[d&1];d=b.B[b.fa-1]&b.Db|b.B[0]&b.Cb;b.B[b.fa-1]=b.B[b.ob-1]^d>>>1^a[d&1];b.ta=0}d=b.B[b.ta++];d^=d>>>11;d^=d<<7&2636928640;d^=d<<15&4022730752;return(d^d>>>18)>>>0}ba.prototype.random=function(){return fa(this)*(1/4294967296)};function ja(b){if("254"==b)return"a";if("255"==b)return"r";if("136"==b)return"0z";var d=b>>2;return(27>d&&16==b%36?"0":d%9+1)+"mpsz".substr(d/9,1)}function ka(b){for(var d="",a=0;a<b.length;++a)d+=ja(b[a]);return d.replace(/\d(m|p|s|z)(\d\1)*/g,"$&:").replace(/(m|p|s|z)([^:])/g,"$2").replace(/:/g,"")}
function la(b){return b.replace(/(\d)(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{8})(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(\d?)(\d?)(\d?)(\d?)(\d?)(\d?)(\d)(\d)(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(m|p|s|z)(m|p|s|z)+/g,"$1").replace(/([^0-9]|^)[mpsz](\d[mpsz\d]*)/g,"$1$2")}
function ma(b){if(!b)return"";for(var d=[],a=0;34>a;++a)d[a]=0;return la(b).replace(/r/g,"255,").replace(/a/g,"254,").replace(/(\d)([mpsz])(?![mpsz])/g,function(c,b,e){b=~~b;if("z"==e&&0==b)return"136,";c="m"==e?0:"p"==e?1:"s"==e?2:3;return b?36*c+4*(b-1)+ ++d[9*c+(b-1)]%4+",":4*(9*c+4)+0+","}).replace(/,$/,"")};var na=function(){function b(c){var b=c&7,e=0,a=0;1==b||4==b?e=a=1:2==b&&(e=a=2);c>>=3;b=(c&7)-e;if(0>b)return!1;e=a;a=0;1==b||4==b?(e+=1,a+=1):2==b&&(e+=2,a+=2);c>>=3;b=(c&7)-e;if(0>b)return!1;e=a;a=0;1==b||4==b?(e+=1,a+=1):2==b&&(e+=2,a+=2);c>>=3;b=(c&7)-e;if(0>b)return!1;e=a;a=0;1==b||4==b?(e+=1,a+=1):2==b&&(e+=2,a+=2);c>>=3;b=(c&7)-e;if(0>b)return!1;e=a;a=0;1==b||4==b?(e+=1,a+=1):2==b&&(e+=2,a+=2);c>>=3;b=(c&7)-e;if(0>b)return!1;e=a;a=0;1==b||4==b?(e+=1,a+=1):2==b&&(e+=2,a+=2);c>>=3;b=(c&7)-e;
if(0>b)return!1;e=a;a=0;1==b||4==b?(e+=1,a+=1):2==b&&(e+=2,a+=2);c>>=3;b=(c&7)-e;if(0!=b&&3!=b)return!1;b=(c>>3&7)-a;return 0==b||3==b}function d(c,a){if(0==c){if(128<=(a&448)&&b(a-128)||65536<=(a&229376)&&b(a-65536)||33554432<=(a&117440512)&&b(a-33554432))return!0}else if(1==c){if(16<=(a&56)&&b(a-16)||8192<=(a&28672)&&b(a-8192)||4194304<=(a&14680064)&&b(a-4194304))return!0}else if(2==c&&(2<=(a&7)&&b(a-2)||1024<=(a&3584)&&b(a-1024)||524288<=(a&1835008)&&b(a-524288)))return!0;return!1}function a(c,
b){return c[b+0]<<0|c[b+1]<<3|c[b+2]<<6|c[b+3]<<9|c[b+4]<<12|c[b+5]<<15|c[b+6]<<18|c[b+7]<<21|c[b+8]<<24}return{Gb:function(c){var g=1<<c[27]|1<<c[28]|1<<c[29]|1<<c[30]|1<<c[31]|1<<c[32]|1<<c[33];if(16<=g)return!1;if(2==(g&3)&&2==c[0]*c[8]*c[9]*c[17]*c[18]*c[26]*c[27]*c[28]*c[29]*c[30]*c[31]*c[32]*c[33]||!(g&10)&&7==(2==c[0])+(2==c[1])+(2==c[2])+(2==c[3])+(2==c[4])+(2==c[5])+(2==c[6])+(2==c[7])+(2==c[8])+(2==c[9])+(2==c[10])+(2==c[11])+(2==c[12])+(2==c[13])+(2==c[14])+(2==c[15])+(2==c[16])+(2==c[17])+
(2==c[18])+(2==c[19])+(2==c[20])+(2==c[21])+(2==c[22])+(2==c[23])+(2==c[24])+(2==c[25])+(2==c[26])+(2==c[27])+(2==c[28])+(2==c[29])+(2==c[30])+(2==c[31])+(2==c[32])+(2==c[33]))return!0;if(g&2)return!1;var e=c[0]+c[3]+c[6],f=c[1]+c[4]+c[7],m=c[9]+c[12]+c[15],n=c[10]+c[13]+c[16],k=c[18]+c[21]+c[24],l=c[19]+c[22]+c[25],h=(e+f+(c[2]+c[5]+c[8]))%3;if(1==h)return!1;var w=(m+n+(c[11]+c[14]+c[17]))%3;if(1==w)return!1;var E=(k+l+(c[20]+c[23]+c[26]))%3;if(1==E||1!=(2==h)+(2==w)+(2==E)+(2==c[27])+(2==c[28])+
(2==c[29])+(2==c[30])+(2==c[31])+(2==c[32])+(2==c[33]))return!1;e=(1*e+2*f)%3;f=a(c,0);m=(1*m+2*n)%3;n=a(c,9);k=(1*k+2*l)%3;c=a(c,18);return g&4?!(h|e|w|m|E|k)&&b(f)&&b(n)&&b(c):2==h?!(w|m|E|k)&&b(n)&&b(c)&&d(e,f):2==w?!(E|k|h|e)&&b(c)&&b(f)&&d(m,n):2==E?!(h|e|w|m)&&b(f)&&b(n)&&d(k,c):!1},cb:function(c){var b=[],a=0;if(12<=(0!==c[0])+(0!==c[8])+(0!==c[9])+(0!==c[17])+(0!==c[18])+(0!==c[26])+(0!==c[27])+(0!==c[28])+(0!==c[29])+(0!==c[30])+(0!==c[31])+(0!==c[32])+(0!==c[33]))for(;34>a;++a)3>=c[a]&&
(++c[a],na.Gb(c)&&b.push(a),--c[a]);else{for(;27>a;++a)3>=c[a]&&(c[a]||0<a%9&&c[a-1]||8>a%9&&c[a+1])&&(++c[a],na.Gb(c)&&b.push(a),--c[a]);for(;34>a;++a)3>=c[a]&&c[a]&&(++c[a],na.Gb(c)&&b.push(a),--c[a])}return b},Oc:function(c){for(var b={},a=0;34>a;++a)c[a]&&(--c[a],b[a]=na.cb(c),++c[a]);return b}}}();var oa="門前清自摸和;立直;一發;槍槓;嶺上開花;海底摸月;河底撈魚;平和;斷么九;一盃口;自風 東;自風 南;自風 西;自風 北;場風 東;場風 南;場風 西;場風 北;役牌 白;役牌 發;役牌 中;兩立直;七對子;混全帶么九;一氣通貫;三色同順;三色同刻;三槓子;對對和;三暗刻;小三元;混老頭;二盃口;純全帶么九;混一色;清一色;人和;天和;地和;大三元;四暗刻;四暗刻單騎;字一色;綠一色;清老頭;九蓮寶燈;純正九蓮寶燈;國士無雙;國士無雙13面;大四喜;小四喜;四槓子;ドラ;裏ドラ;赤ドラ;親;門前;榮和;本場;明槓;暗槓;五;ガリ;セット;カラス;全ガリ;バンバン".split(";"),
pa="新人 ９級 ８級 ７級 ６級 ５級 ４級 ３級 ２級 １級 初段 二段 三段 四段 五段 六段 七段 八段 九段 十段 天鳳".split(" "),qa=" 滿貫 跳滿 倍滿 三倍滿 役滿".split(" "),wa={kaze4:"四風連打",yao9:"九種九牌",ron3:"三家和了",reach4:"四家立直",
kan4:"四槓散了",nm:"流局滿貫"},xa=[{800:"300-500",1100:"400-700",1200:"400-800",1500:"500-1000",1800:"600-1200",2E3:"700-1300",2300:"800-1500",2400:"800-1600",2700:"900-1800",3E3:"1000-2000",3500:"1200-2300",3900:"1300-2600",4400:"1500-2900",4800:"1600-3200",5400:"1800-3600",5900:"2000-3900",6E3:"2000-4000",9E3:"3000-6000",12E3:"4000-8000",18E3:"6000-12000",24E3:"8000-16000",48E3:"16000-32000",72E3:"24000-48000"},{1E3:500,1400:700,1600:800,2E3:1E3,2400:1200,2600:1300,
3E3:1500,3200:1600,3600:1800,4E3:2E3,4600:2300,5200:2600,5800:2900,6400:3200,7200:3600,7800:3900,8E3:4E3,12E3:6E3,16E3:8E3,24E3:12E3,32E3:16E3,64E3:32E3,96E3:48E3},{1100:"300-500",1500:"400-700",1600:"400-800",2E3:"500-1000",2400:"600-1200",2700:"700-1300",3100:"800-1500",3200:"800-1600",3600:"900-1800",4E3:"1000-2000",4700:"1200-2300",5200:"1300-2600",5900:"1500-2900",6400:"1600-3200",7200:"1800-3600",7900:"2000-3900",8E3:"2000-4000",12E3:"3000-6000",16E3:"4000-8000",24E3:"6000-12000",32E3:"8000-16000",
64E3:"16000-32000",96E3:"24000-48000"},{1500:500,2100:700,2400:800,3E3:1E3,3600:1200,3900:1300,4500:1500,4800:1600,5400:1800,6E3:2E3,6900:2300,7800:2600,8700:2900,9600:3200,10800:3600,11700:3900,12E3:4E3,18E3:6E3,24E3:8E3,36E3:12E3,48E3:16E3,96E3:32E3,144E3:48E3}];function Aa(b,d){return 0!=(0==b?0!=(d&1536)?~d&8:d&64:d&64)}function Ba(b){return(b&32)>>4|(b&128)>>7}
function Pa(b){return 0!=(b&2048)?"東天紅":(b&16?"三":"四")+"般上特鳳若銀琥孔".substr(Ba(b)+4*(0!=(b&1536)),1)+(b&8?"南":"東")+(0!=(b&1536)?(b&8?"":"速")+(~b&512?"祝０":b&1024?"祝５":"祝２"):(b&4?"":"喰")+(b&2?"":"赤")+(b&64?"速":"")+(b&256?"暗":"")+(b&512?"祝":""))}
var Qa=[0,0,0,0,0,0,0,0,-10,-20,-30,-40,-50,-60,-70,-80,-90,-100,-110,-120,0],Ra=[20,20,20,20,40,60,80,100,100,100,400,800,1200,1600,2E3,2400,2800,3200,3600,4E3,0],Ta=[1,3,0,7,9,11,0,15,65,0,0,0,73,0,0,0,129,131,0,135,137,139,0,143,193,0,0,0,201,0,0,0,33,35,0,39,41,43,0,47,97,0,0,0,105,0,0,0,161,163,0,167,169,171,0,175,225,0,0,0,233,0,0,0,17,25,145,153,49,57,177,185,81,89,209,217,113,121,241,249,1025,1033,513,521,1537,1545,1553,1561,1153,1161,641,649,1665,1673,1681,1689,1057,1065,545,553,1569,1577,
1585,1593,1185,1193,673,681,1697,1705,1713,1721,2065];function Ua(b,d,a){b.addEventListener(d,a,!1)}function Wa(b,d){for(var a in d)b.addEventListener(a,d[a],!1);return b}function Za(b,d,a){b.addEventListener(d,a,{once:!0,passive:!0,capture:!0})}function $a(b,d){if(b&&d)for(var a in d)b[a]=d[a];return b}function ab(b){b.sort(function(b,a){return b-a})}function bb(b,d){b.sort(function(b,c){return(d[b]<<8|b)-(d[c]<<8|c)})}
function p(b,d){if(void 0===b||""===b)return[];d=d||1;b.split&&(b=b.split(","));for(var a=0;a<b.length;++a)b[a]=1!=d&&""==b[a]?void 0:d*~~b[a];return b}function cb(b){for(var d=b.length-1;0<d;--d){var a=Math.floor(Math.random()*(d+1)),c=b[d];b[d]=b[a];b[a]=c}return b}function db(b){try{return decodeURIComponent(b)}catch(d){return b}}function eb(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}
function fb(b){b=b.split("&");var d={},a;for(a in b)if(b[a].length){var c=b[a].split("=");d[c.shift()]=decodeURIComponent(c.join("="))}return d}function gb(b,d,a){var c=new XMLHttpRequest;c.onload=function(){200==this.status?d(this.response):a&&a(this)};c.onerror=function(){a&&a(this)};c.open("GET",b,!0);c.send()}function hb(b,d){var a;return function(){clearTimeout(a);a=setTimeout(function(){a=null;b()},d)}}function jb(b,d){return("000"+d).slice(-b)}function kb(b){return(0<b?"+":"")+b}
var lb=1,q=window,mb=document,nb=mb.body,ob=0,pb=0,qb=0,rb=navigator.userAgent;rb.match(/iP(hone|od|ad)/)&&rb.match(/OS (\d+)_(\d+)/)&&(ob=RegExp.$1+"."+RegExp.$2);rb.match(/Android (\d\.\d)/)&&(pb=parseFloat(RegExp.$1));var qb=4.4>pb&&0<rb.indexOf(" Chrome/")&&0<rb.indexOf(" Version/"),sb="ontouchstart"in mb.documentElement&&!q.navigator.msPointerEnabled,tb=!!q.cordova,ub=tb||"standalone"in navigator&&navigator.standalone,xb=!1,r,t={};$a(t,fb(location.search.substr(1)));$a(t,fb(location.hash.substr(1)));
t.TW=t.tw=~~t.tw%4;t.ib=!(!t.wg&&!t.log);t.ub=!1;t.Vc=function(b){function d(a,c){var d=b.match(a);return d?d[1]:c}t.log=d(/\?log=([^&]*)/,"");t.TW=t.tw=~~d(/&tw=(\d)/,0);t.ts=~~d(/&ts=(\d+)/,0);t.wg=d(/\?wg=([^&]*)/,"");(t.log||t.wg)&&u.ma(11)};function yb(b,d,a,c,g){b=mb.createElement(b);a&&(b.className=a);$a(b,c);$a(b.style,g);return d?d.insertBefore(b,null):b}
function zb(b){for(var d=1;d<arguments.length;++d){var a=arguments[d];if(0===a)Array.prototype.push.apply(arguments,"cfg lang regid clearid idcont uname sx mvlb ok".split(" "));else if(1===a)Array.prototype.push.apply(arguments,"testplay haifu kansen openurl help hairi purchase".split(" "));else if(2===a)Array.prototype.push.apply(arguments,["iap","storePurchase","exit"]);else if(3===a)Array.prototype.push.apply(arguments,["rule","join","cancel","logout"]);else for(var a=mb.getElementsByName(a),c=
0;c<a.length;++c){var g=a[c];g&&(g.disabled=b)}}}function Db(b){if(!b)return!1;b=b.replace(/\?.*$/,"");return b.match(/^https?:\/\/(?:[%\w-]+\.)+[%\w-]+(?:\/[%\w-]+)+\.(?:jpg|png|gif)$/)}function Eb(b){if(!b)return!1;b=b.replace(/\?.*$/,"");return b.match(/^https?:\/\/(?:[%\w-]+\.)+[%\w-]+(?:\/[%\w-]+)+\.(?:json|txt)$/)}
var Fb=function(){var b=[],d=new XMLHttpRequest;d.onload=function(){b.length&&1!=d.readyState&&(d.open("POST","https://tenhou.net/3/err.cgi",!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(b.shift()))};return function(){for(var a=arguments[0],c=1;c<arguments.length;++c)a+=" "+arguments[c];b.push(a);d.onload()}}(),Gb="";q.onerror=function(b,d,a,c,g){b=b+" "+d+":"+a+":"+c+" "+g;Gb!=b&&Fb(b);Gb=b};var Hb=document.createElement("style");Hb.innerHTML="@font-face{font-family:cwTeX-Q-Kai-T;src: url(https://cdn.tenhou.net/3/res/font/cwTeXQKaiT-Medium_20200430.ttf) format('truetype');}@font-face{font-family:icons2;src: url(https://cdn.tenhou.net/3/res/font/icons_20200502.ttf) format('truetype');}*{-webkit-tap-highlight-color:rgba(0,0,0,0);line-height:1;}:focus{outline:0;}HTML{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}HTML{touch-action:pan-y;}BODY{font-family:sans-serif;overflow-x:hidden;-webkit-text-size-adjust:100%;}HR{border-color:#444;border-width:1px 0 0 0;border-style:solid;margin:0.5em 0;}TEXTAREA{margin:0px;word-break:break-all;}SELECT{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0.6em;}SELECT::-ms-expand{display:none;}BUTTON,SELECT,INPUT,.bth{height:2em;font-size:175%;margin:0;}BUTTON,SELECT,INPUT[type=checkbox]+LABEL,A.bt3{padding:0 0.5em;color:inherit;border:solid 1px #444;}BUTTON,SELECT,INPUT[type=checkbox]+LABEL{background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(167,147,127,0.4) 50%,rgba(31,31,31,0.4) 51%,rgba(0,0,0,0.4) 100%);}A.bt3{display:block;width:100%;height:100%;padding:0 1em;border:solid 1px #444;background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(47,47,47,0.4) 100%);}A.bt3:hover,SELECT:hover{background-color:#030;}SELECT:disabled,BUTTON:disabled{color:#888;background:#444;pointer-events:none;}OPTION{background-color:#FFF;color:#000;}BUTTON *{pointer-events:none;}.notxt{font-size:0px;}.sscl{-webkit-overflow-scrolling:touch;}.rot000{position:absolute;}.rot090{position:absolute;transform:rotate( 90deg);-webkit-transform:rotate( 90deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);}.rot180{position:absolute;transform:rotate(180deg);-webkit-transform:rotate(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);}.rot270{position:absolute;transform:rotate(270deg);-webkit-transform:rotate(270deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);}.ts0,sblink{text-shadow:#000 -1px 0px 0px, #000 1px 0px 0px, #000 1px 1px 1px,#000 -1px -1px 1px;}.tsv{text-shadow:#000 -1px -1px 0px, #000 0px 1px 0px, #000 3px 3px 0px;}.nosel{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none;}.tbl{display:table;}.tbc{display:table-cell;}.nobr{word-break:keep-all;white-space:nowrap;}.gray{color:#666;}.bgb40{background-color:rgba(0,0,0,0.4);}.bgb60{background-color:rgba(0,0,0,0.6);}.bgb80{background-color:rgba(0,0,0,0.8);}.bgb{background-color:#000;}.ra0{border-radius:0.6em;}.ra1{border-radius:0.6em 0 0 0.6em;}.ra2{border-radius:0 0.6em 0.6em 0;}.dan18,.dan19,.dan20{font-weight:bold;}.n2r{display:inline-block;width:2em;text-align:right;}._selected_{border-left:0.1em solid #CCC;}SELECT{padding-right:1em;}.select-wrapper{position:relative;display:inline-block;}.select-wrapper:after{content:'';position:absolute;right:0.5em;top:45%;width:0;height:0;border-left:0.3em solid transparent;border-right:0.3em solid transparent;border-top: 0.3em solid #FFF;pointer-events:none;}.select-wrapper>BUTTON:first-child{padding-right:1em;border-radius:0.6em;}.fixed-select{min-width:10em;max-width:90vw;max-height:85vh;overflow-y:auto;}.fixed-select .A{font-size:150%;color:#000;padding:0.5em;text-decoration:none;display:block;}.fixed-select .A{border-bottom:1px solid #DDD;cursor:pointer;}.fixed-select .A:nth-child(1){border-top:1px solid #DDD;}.fixed-select .A:hover{background-color:#CCC}.fixed-select .A DIV.desc{color:#666;font-size:50%;}.fixed-select .A *{pointer-events:none;}.vscl::-webkit-scrollbar{background:#CCC;width:0.5em;}.vscl::-webkit-scrollbar-thumb{background:#AAA;}INPUT[type=checkbox]{display:none;}INPUT[type=checkbox]+LABEL{position:relative;cursor:pointer;display:inline-block;border-radius:0.6em;}INPUT[type=checkbox]+LABEL{padding:0.5em 0.5em 0.5em 1.8em;}INPUT[type=checkbox]+LABEL::before{font-family:icons2;content:'';position:absolute;left:0.5em;top:25%;}INPUT[type=checkbox]:checked+LABEL::before{content:'';}INPUT[type=checkbox]:disabled+LABEL{color:#888;background:#444;pointer-events:none;}.bblink{animation: _bblink 0.5s ease 0s infinite alternate;}@keyframes _bblink{0%{background-color:rgba(255,255,255,0.3);}30%{background-color:rgba(0,0,0,0.3);}100%{background-color:rgba(0,0,0,0.3);}}.cblink{animation: _cblink 1.75s linear 0s infinite alternate;}@keyframes _cblink{0%{color:#FFF;}80%{color:#FFF;}100%{color:#666;}}.sblink{animation: _sblink 0.5s linear 0s infinite alternate;position:absolute;bottom:0;right:0.25em;color:#888;font-size:300%;pointer-events:none;}@keyframes _sblink{0%{color:transparent;}30%{color:#888;}100%{color:#888;}}.fadeinqs{animation:_fadein 0.25s ease 0s 1 normal;}.fadein2s{animation:_fadein 2s ease 0s 1 normal;}@keyframes _fadein{0%{opacity:0;}100%{opacity:1;}}.flip{perspective:100px;opacity:0;transform:rotateX(-90deg);transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flip.show{opacity:1;transform:none;transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flipinqs{animation:_flipin 0.25s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipinhs{animation:_flipin 0.5s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipin1s{animation:_flipin 1s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}@keyframes _flipin{0%{opacity:0;transform:rotateX(-90deg);}100%{opacity:1;transform:none;}}.flipinqs.hide{animation:_flipout 0.25s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}.flipinhs.hide{animation:_flipout 0.5s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}@keyframes _flipout{0%{opacity:1;transform:none;}100%{opacity:0;transform:rotateX(-90deg);}}.arrow-box-left,.arrow-box-right{position:relative;background:#FFF;color:#000;border-radius:0.2em;padding:0.5em;}.arrow-box-left:after{right:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-right-color:#FFF;border-width:0.5em;margin-top:-0.5em;}.arrow-box-right:after {left:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-left-color:#FFF;border-width:0.5em;margin-top:-0.5em;}#pftab TD,#rnktab TD{padding-top:0.35em;}#pftab SMALL,#rnktab SMALL{font-size:60%;}.trtab TD{padding:0.5em 0.25em;}";
nb.appendChild(Hb);function v(b){return"<span class=gray>"+b+"</span>"}function Ib(b){return"<span class=nobr>"+b+"</span>"}yb("SPAN",nb,"",{innerHTML:"FontLoader&#xe800;"},{position:"absolute",fontFamily:"cwTeX-Q-Kai-T,icons2",visibility:"hidden"});setInterval(function(){for(var b=mb.getElementsByClassName("sblink"),d=0;d<b.length;++d){var a=b[d],c=a.previousSibling;a.style.visibility=c.scrollTop+c.offsetHeight<c.scrollHeight-.25*a.offsetHeight?"":"hidden"}},1E3);var x=function(){function b(b){c&&(clearInterval(c),c=null);a&&a[b]&&0==a[b](d)||!d||(d.parentNode.removeChild(d),d=null)}var d,a,c;return{o:function(g,e,f,m,n,k,l){k=k||"OK";l=l||"CANCEL";1==arguments.length&&(e=1);a=[m,f];var h=d=yb("DIV",nb,"tbl fadeinqs",{},{position:"fixed",left:0,top:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.75)"});setTimeout(function(){e||Ua(h,"click",function(){b(0)});h=yb("DIV",h,"tbc",{},{textAlign:"center",verticalAlign:"middle"});h=yb("FORM",h,"",{innerHTML:"<div style='position:relative;font-size:150%;"+
(e?"padding:1em 0;":"")+"'>"+g+"</div><input type=button style='width:6em;' /><input type=submit style='width:6em;' />",onsubmit:function(){return!1}},{display:"inline-block",background:"#FFF",color:"#000",borderRadius:"0.6em",maxWidth:"90vw",padding:"1em"});var a=h.querySelectorAll("FORM>INPUT");a[0].onclick=function(){b(0)};a[0].style.display=e&2?"":"none";a[0].value=l;a[1].onclick=function(){b(1)};a[1].style.display=e&1?"":"none";a[1].value=k;if(pb&&tb)for(var d=0;d<a.length;++d)Wa(a[d],{focus:function(){Jb(1)},
blur:function(){Jb()}});a.length&&a[0].focus();if(n){Kb(8,0,0);var f=yb("DIV",h,"",{innerHTML:"<div style='position:absolute;right:0;bottom:0;padding:0 0.1em;font-size:70%;'></div>"},{color:"#000",position:"absolute",pointerEvents:"none"});c=setInterval(function(){var c=f.style,h=a[0].getBoundingClientRect();c.left=h.left+"px";c.top=h.top+"px";c.width=h.width+"px";c.height=h.height+"px";f.firstChild.innerHTML=--n;0<n&&Kb(7,0,0);0>n&&b(0)},1E3)}if(h=h.querySelector("._selected_"))h.parentNode.scrollTop=
h.offsetTop-(h.parentNode.offsetHeight-h.offsetHeight)/2},1)},Z:function(c,b,a,d,n){return x.o("<div class='fixed-select sscl' style='position:relative;"+(b||"")+"'>"+c+"</div><div class=sblink style='visibility:hidden;'>▼</div>",a,d,n)},$a:function(){return!!d}}}();
Ua(q,"click",function(b){var d=b.target;if(d.classList.contains("A")&&d.id&&d.parentNode.classList.contains("fixed-select"))if("A"==d.tagName&&b.preventDefault(),b=d.id.split("-"),A.b&&A[b[0]])A[b[0]](b[0],b[1]);else switch(b[0]){case "#tw":3==B.a?Lb.wb(b[0],b[1]):2==B.a&&Mb.wb(b[0],b[1]);break;case "#ts":Lb.hc(b[0],b[1]);break;case "#tj":Lb.ic(b[0],b[1]);break;case "#edit":if("M"==b[1])q.open("https://tenhou.net/6/?log="+t.log+"&tw="+~~t.tw);else if("T"==b[1])return alert("本機能はクローズド公開中のため使用できません")}});var J;
(function(){try{J=q.localStorage,J.setItem("a",1),J.removeItem("a")}catch(g){J={setItem:function(c,b){J[c]=b},removeItem:function(c){delete J[c]}};var b=navigator.languages,d=0;navigator.userAgent.match(/TwitterAndroid/)&&(d|=1);for(var a in b)b[a].match(/(ja|JP)/)&&(d|=2);b="";switch(d){case 0:b="This browser(private browsing etc.) won't let you save game logs, IDs or other settings.";break;case 1:b="The Twitter browser will not let you save your settings (game logs, IDs, etc). Open the menu and select Open in Browser.";break;
default:case 2:b="このブラウザ環境(プライベートブラウズなど)では、牌譜の記録やIDの保存などが行えません。";break;case 3:b="Twitterの専用ブラウザでは、設定の保存(牌譜の記録/IDの保存/など)が行えません。メニューの「ブラウザで開く」から通常のブラウザで開いてください。"}x.o(b)}d=
J.scro;if(tb&&q.screen&&q.screen.orientation&&q.screen.orientation.lock){b=screen.orientation;a=b.type;if(ob&&("landscape-primary"==a||"landscape-secondary"==a)){var c=mb.getElementById("loading");c&&(c.style.display="none");q.StatusBar.overlaysWebView(!0);q.StatusBar.hide();b.lock("portrait");"landscape-primary"==a?b.lock("landscape-secondary"):"landscape-secondary"==a&&b.lock("landscape-primary");c&&setTimeout(function(){c.style.display="table"},1E3)}ob&&2==d?b.lock("landscape-primary"==a?"landscape-secondary":
"landscape-secondary"==a?"landscape-primary":"landscape"):b.lock(1==d?"portrait":2==d?"landscape":"any")}})();function Nb(b,d,a){J&&(d!=a?J.setItem(b,d):J.removeItem(b))}(function(){function b(d){xb="mousedown"==d.type;d=J.desktop;1!=d&&2!=d&&(Nb("desktop",xb?3:0,0),d!==J.desktop&&Ob());q.removeEventListener("touchstart",b,!1);q.removeEventListener("mousedown",b,!1)}Wa(q,{touchstart:b,mousedown:b})})();J.nose&&(J.sevol="0",J.removeItem("nose"));var Pb={ja:{},en:{},zh:{},ko:{},ru:{},fr:{},it:{},es:{},vi:{},pt:{},de:{}},Qb=function(){function b(c){void 0!==c&&Nb("lang",c,d);a=(J.lang||d).split("-")[0];switch(a){case "JP":a="ja";break;case "EN":a="en"}return a}var d=(navigator.language||"ja").split("-")[0],a="";return{rb:b,Dc:function(c){function d(){--e||c()}a=b();var e=0;++e;Qb.Ib("en",d);++e;Qb.Ib("ja",d);++e;Qb.Ib(Qb.rb(),d)},Tc:function(c){var b=Pb[a];return b&&b[c]||Pb.en[c]||Pb.ja[c]||"[str:"+a+c+"]"},Ib:function(c,b){Pb[c]?Object.keys(Pb[c]).length?
b(c,Pb[c]):gb("https://cdn.tenhou.net/4/res/lang/string20210408_"+c+".json",function(a){try{var e=JSON.parse(a)}catch(k){return}a=e;var d=Pb[c];if(a.length)for(var g=0;g<a.length;g+=2)d[a[g+0]]=a[g+1];else for(g in a)d[g]=a[g];b(c,e)},function(c){if(c)throw c;}):b(c,{})}}}(),K=Qb.Tc;var Rb=108,Sb=yb("DIV",nb,"nosel",{},{display:"none",color:"#CCC",backgroundColor:"#444",height:Rb+"px"}),Tb=yb("DIV",nb,"nosel",{},{display:"none",overflow:"hidden",position:"absolute"}),Ub=yb("DIV",nb,"",{},{position:"absolute"});
sb&&!ub?Sb.innerHTML="<div style='width:100%;height:100%;display:table;pointer-events:none;'><div style='display:table-cell;text-align:center;vertical-align:middle;'>上にゆっくりスクロールしてください</div></div>":(Sb.style.height=Rb=0,nb.style.overflow="hidden");
function Vb(){function b(){a=null;var b=mb.documentElement.clientWidth,e=q.innerHeight,f=(~~q.orientation+360)%360,m=c[0];sb&&((~~f+360)%180&&(m=c[1]),pb&&b==m[1]&&(Tb.style.display=Sb.style.display="none",m[0]=m[1]=0),b<m[0]&&(b=m[0]),e<m[1]&&(e=m[1]));b==parseInt(Tb.style.width)&&e==parseInt(Tb.style.height)?(m[0]=b,m[1]=e,nb.style.height=parseInt(Sb.style.height)+e+"px",Tb.style.display=Sb.style.display="",Ob()):(d(),Jb(),q.scrollTo(0,parseInt(Sb.style.height)),Tb.style.width=b+"px",Tb.style.height=
e+"px")}function d(c){r=q.devicePixelRatio||1;ob&&(Tb.style.display=Sb.style.display="none");c&&"resize"==c.type||(nb.style.height=2*q.innerHeight+"px");clearTimeout(a);a=setTimeout(b,250)}var a,c=[[0,0],[0,0]];Ua(q,"orientationchange",ob?d:function(){Tb.style.display=Sb.style.display="none";var b=c[(~~((~~q.orientation+360)%360)+360)%180?1:0];b[0]=b[1]=0;d()});Ua(q,"resize",d);d()}
function Wb(b,d,a){var c=d/r+"px",g=a/r+"px";if(b.width!=d||b.height!=a)b.width=d,b.height=a;b=b.style;if(b.width!=c||b.height!=g)b.width=c,b.height=g}
function Xb(){M.a=2;M.a=3==B.a?J.check&8?3:~~J.yama:~~J.yama;0==M.a&&J.desktop&&(M.a=1);Yb();N.Sc();var b=Zb,d=$b;nb.parentNode.style.fontSize=~~((b-2*O[1])/r/30)+"px";ac.style.width=(b+(3==B.a&&Tb.offsetHeight<Tb.offsetWidth?(b-2*O[1])/8:0))/r+"px";ac.style.height=d/r+"px";Wb(bc.v.canvas,b,d);Wb(P.v.canvas,cc,d);Wb(dc.v.canvas,cc,d);b=-~~((cc-b)/2/r);P.v.canvas.style.marginLeft=dc.v.canvas.style.marginLeft=b+"px";ec.ga();R.L();fc.L();gc.style.left=~~(R[80]/r)+b+"px";gc.style.top=~~(R[81]/r)+"px";
d=hc.v.canvas;d.style.marginLeft=~~(R[32]/r)+b+"px";d.style.marginTop=~~(R[33]/r)+"px";Wb(d,R[34],R[35]);bc.Y();hc.Y();P.xb();S.L();u.L();A.L();ic.L();Ub.style.top=ac.offsetHeight+S.b.offsetHeight+"px";(b=mb.getElementById("loading"))&&b.parentNode.removeChild(b)}function Ob(){Ob=Xb;u.ma(11,q.tenhouEventInfo&&!mb.referrer.match(/^https?:\/\/tenhou.net\/0\/(\?|$)/))}
function Jb(b){var d=q.StatusBar;if(d){tb&&pb&&d.backgroundColorByHexString("#000");var a=mb.documentElement.clientWidth,c=q.innerHeight;!b&&c<a?(d.overlaysWebView(!0),d.hide()):(d.overlaysWebView(!1),d.show())}}tb&&Ua(mb,"resume",hb(function(){bc.Y();hc.Y();P.xb();var b=dc.v;b.clearRect(0,0,b.canvas.width+1,b.canvas.height+1)},1));var ac=yb("DIV",Tb,"nosel tbl",{},{margin:"0 auto",position:"relative"});function jc(b,d){var a=arguments;b.beginPath();b.moveTo(a[2],a[3]);for(var c=4;c<a.length;)switch(a[c++]){case 0:c+=2;break;case 1:b.lineTo(a[c++],a[c++]);break;case 2:b.arcTo(a[c++],a[c++],a[c+1],a[c+2],d)}b.closePath()}function kc(b,d,a,c,g){var e=~~(.5*T[0]);jc(b,e,d+e,a+g,2,d+c,a+g,2,d+c,a,2,d,a,2,d,a+g,0,d+c,a+g+.01)}
var bc=function(){function b(b,a,c,g,e){e&&(b.fillStyle=e,b.fillText(a,1,c+0),b.fillText(a,-1,c+0),b.fillText(a,0,c+1),b.fillText(a,0,c-1),b.fillText(a,1,c+1),b.fillText(a,-1,c+1),b.fillText(a,1,c-1),b.fillText(a,-1,c-1));g&&(b.fillStyle=g,b.fillText(a,0,c))}return{v:yb("CANVAS",ac,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),Y:hb(function(){var d=bc.v;if(d&&(d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,d.canvas.width+1,d.canvas.height+1),N.Fb.complete&&N.Fb.height&&d.drawImage(N.Fb,
0,0),-1!=B.na)){var a=Math.round(P.v.canvas.offsetLeft*r),c=R[16]+a,g=R[17],e=R[18],f=R[19],m=T[0],n=~~(.5*m);d.fillStyle="#000";kc(d,c,g,e,f);d.globalAlpha=.2;d.fill();d.globalAlpha=1;var k=3*O[1],l=3*U[0],h=[d];h.push(n,c,g+f);B.H[0]&&h.push(2,c,g+f+l,2,c+e+k,g+f+l,2,c+e+k,g+f+m,1,c+e,g+f+m);h.push(1,c+e,g+f);B.H[1]&&h.push(2,c+e+k,g+f,2,c+e+k,g-l,2,c+e+m,g-l,1,c+e+m,g);h.push(1,c+e,g);B.H[2]&&h.push(2,c+e,g-l,2,c-k,g-l,2,c-k,g-m,1,c,g-m);h.push(1,c,g);B.H[3]&&h.push(2,c-k,g,2,c-k,g+f+l,2,c-m,g+
f+l,1,c-m,g+f);jc.apply(this,h);d.globalAlpha=.15;d.fill();d.globalAlpha=1;for(c=0;4>c;++c)B.H[c]&&(d.setTransform(1,0,0,1,a,0),d.fillStyle="#000",e=48+4*c,g=d,kc(g,R[e+0],R[e+1],R[e+2],R[e+3]),g.globalAlpha=.15,g.fill(),g.globalAlpha=1,g=Math.min(R[e+2]/2,R[e+3]/2),d.textAlign="center",d.textBaseline="middle",d.setTransform(1,0,0,1,R[e+0]+~~(R[e+2]/2)+a,R[e+1]+~~(R[e+3]/2)),d.rotate(270*c*Math.PI/180),e=0==c||3==c?"rgba(255,255,255,0.25)":"rgba(191,191,191,0.25)",f=void 0,t.ub||(e=0==c||3==c?"rgba(255,255,255,0.80)":
"rgba(191,191,191,0.80)",f="rgba(0,0,0,0.50)"),m=-.1,1800<=B.Ra[c]&&(d.font="normal "+.3*g+"px sans-serif",b(d,"R"+~~B.Ra[c],-.55*g,e,f),m=0),d.font="normal "+.9*g+"px cwTeX-Q-Kai-T,icons2,serif",b(d,pa[B.Va[c]],g*m,e,f),d.font="normal "+.25*g+"px sans-serif",b(d,B.H[c],g*(.55+m),e,f));d.fillStyle="#000";d.setTransform(1,0,0,1,a,0);for(c=0;4>c;++c)B.H[c]&&(a=c?0:T[4],g=R[80+2*c],e=R[81+2*c],f=R[96+2*c],m=R[97+2*c],0==c&&(ty0=R[97]),n=d,kc(n,Math.min(g,f),Math.min(e,m)+a,Math.abs(g-f)+O[c],Math.abs(e-
m)+U[c]+T[c]-a),n.globalAlpha=.2,n.fill(),n.globalAlpha=1)}})}}();var P=function(){function b(c,b,a,e){if(a&&e){var h=P.v;h.clearRect(c,b,a,e);a=c+a;e=b+e;for(var k,l=0;k=R.sa[l];++l){var d=k.i;if(void 0!==d&&0!==k.u&&d.za.complete&&d.za.height){var f=k.ua.c+d.offsetX,g=k.ua.h-k.ua.Ca+d.offsetY;if(!(a<=f||e<=g)){var n=f+d.ka;if(!(n<=c)){var m=g+d.wa;if(!(m<=b)){var da=c-f;0<da?f=c:da=0;a<n&&(n=a);var n=n-f,ia=b-g;0<ia?g=b:ia=0;e<m&&(m=e);m-=g;h.globalAlpha=k.u;h.drawImage(d.za,d.Ya+da,d.Za+ia,n,m,f,g,n,m);k.da&&(d=k.la,h.globalAlpha=k.da,h.drawImage(d.za,d.Ya+da,
d.Za+ia,n,m,f,g,n,m))}}}}}h.globalAlpha=1}}function d(b,a,k,l){e&&f?(b<c?(e+=c-b,c=b):k+=b-c,e<k&&(e=k),a<g?(f+=g-a,g=a):l+=a-g,f<l&&(f=l)):(c=b,g=a,e=k,f=l)}var a=hb(function(){var c=P.v;c.clearRect(0,0,c.canvas.width+1,c.canvas.height+1);for(var a,k=0;a=R.sa[k];++k){var e=a.i;if(void 0!==e&&0!==a.u&&e.za.complete&&e.za.height){var h=a.ua.c+e.offsetX,d=a.ua.h-a.ua.Ca+e.offsetY;c.globalAlpha=a.u;c.drawImage(e.za,e.Ya,e.Za,e.ka,e.wa,h,d,e.ka,e.wa);if(a.da){var f=a.la;c.globalAlpha=a.da;c.drawImage(f.za,
f.Ya,f.Za,e.ka,e.wa,h,d,e.ka,e.wa)}}}P.Ka=b},1),c,g,e,f;return{v:yb("CANVAS",ac,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),xb:function(){(P.Ka=a)()},Aa:function(){c=g=e=f=0;P.Ka=d},Ba:function(){b(c,g,e,f);P.Ka=b},Ka:b}}();var hc=function(){function b(c,b){for(var a=hc.v,e=[],g=2;g<arguments.length;g+=5){a.font=arguments[g+0];var k=a.measureText(arguments[g+3]).width;e.push(k);c-=k/2}for(g=2;g<arguments.length;g+=5)a.font=arguments[g+0],a.fillStyle=d[arguments[g+1]],(k=d[arguments[g+2]])?(a.shadowBlur=2*r,a.shadowColor=k,a.shadowOffsetX=1*r,a.shadowOffsetY=1*r):(a.shadowBlur=0,a.shadowColor="#000",a.shadowOffsetX=0,a.shadowOffsetY=0),k=e.shift(),a.fillText(arguments[g+3],c+k/2,b+arguments[g+4]),c+=k}var d="#FFF #666 #000 #00F #F00 #AAA".split(" "),
a=0,c=0;return{v:yb("CANVAS",ac,"",{},{position:"absolute",display:"none"}).getContext("2d"),Y:function(d,e){void 0!==d&&(a=d);void 0!==e&&(c=e);var f=hc.v,g=f.canvas.width,n=f.canvas.height,k=Math.min(.18*g,.18*n);if(1==M.a||3==M.a)k*=.9;f.save();f.setTransform(1,0,0,1,0,0);f.clearRect(0,0,g+1,n+1);kc(f,1,1,g-2,n-2);t.ub?(f.fillStyle="#222",f.fill()):(f.globalAlpha=.75,f.fillStyle="#222",f.fill(),f.globalAlpha=1);f.strokeStyle="#111";f.lineWidth=1;f.stroke();var l=c,h=.24*k,w=.02*k,E=hc.v,z=E.canvas.width,
C=E.canvas.height,F=E.createLinearGradient(0,0,l&1?0:z,l&1?C:0);F.addColorStop(0,"rgba(0,127,0,0)");F.addColorStop(.12,"rgba(0,127,0,255)");F.addColorStop(.88,"rgba(0,127,0,255)");F.addColorStop(1,"rgba(0,127,0,0)");E.fillStyle=F;switch(l){case 0:E.fillRect(0,C-h-w,z,h);break;case 1:E.fillRect(z-h-w,0,h,C);break;case 2:E.fillRect(0,w,z,h);break;case 3:E.fillRect(w,0,h,C)}l="normal "+1.2*k+"px cwTeX-Q-Kai-T,icons2,serif";h="normal "+.8*k+"px cwTeX-Q-Kai-T,icons2,serif";w=.15*k;f.textAlign="center";
f.textBaseline="middle";f.setTransform(1,0,0,1,g/2,n/2);E=[[0,n/2-.7*k],[0,g/2-.7*k],[0,n/2-.7*k],[0,g/2-.7*k]];if(3!=a)if(0==a)for(z=0;4>z;++z)E[z].push(l,(4+z-B.na)%4?1:0,-1,B.fb[z]+" ",0,l,B.connected&1<<z?0:4,2,void 0===B.pa[z]?"-":B.pa[z]/100,0,h,1,-1,"00",w);else if(E[0].push(l,0,2,B.fb[0]+" ",0,l,0,2,void 0===B.pa[0]?"":B.pa[0]/100,0),E[1].push(l,0,2,void 0===B.pa[1]?"":kb((B.pa[1]-B.pa[0])/100),0),E[2].push(l,0,2,void 0===B.pa[2]?"":kb((B.pa[2]-B.pa[0])/100),0),E[3].push(l,0,2,void 0===B.pa[3]?
"":kb((B.pa[3]-B.pa[0])/100),0),~B.s&512)E[0].push(h,1,-1,"00",w);else for(z=0;4>z;++z)E[z].push(l,0,2," "+B.Zb[z],0);B.H[0]&&b.apply(this,E[0]);f.rotate(270*Math.PI/180);B.H[1]&&b.apply(this,E[1]);f.rotate(270*Math.PI/180);B.H[2]&&b.apply(this,E[2]);f.rotate(270*Math.PI/180);B.H[3]&&b.apply(this,E[3]);3==a?(f.setTransform(1,0,0,1,g/2,n/2),f.fillStyle="#FFF",b(0,0,l,0,2,"天鳳",0)):0==a?(f.setTransform(1,0,0,1,g/2,n/2-.75*k/2),f.fillStyle="#FFF",l="normal "+1.7*k+"px cwTeX-Q-Kai-T,icons2,serif",
h=B.R[0],b(0,0,l,0,~~(h/4)&1?4:3,"東南西北".substr(~~(h/4),1),0,l,0,h%4==(B.s&16?2:3)?4:2,h%4+1,0,l,1,-1,"局",0),z=(g-2.8*k)/2,f.beginPath(),f.moveTo(-z,.75*+k),f.lineTo(+z,.75*+k),l=f.createLinearGradient(-z,0,+z,0),l.addColorStop("0.0","rgba(15,15,15,0)"),l.addColorStop("0.5","rgba(15,15,15,1)"),l.addColorStop("1.0","rgba(15,15,15,0)"),f.strokeStyle=l,f.lineWidth=1,f.stroke(),f.setTransform(1,0,0,1,g/2,n/2+1.7*k/2-.75*k/2+.3*k),l="normal "+.75*k+"px cwTeX-Q-Kai-T,icons2,serif",
h="normal "+.5*k+"px cwTeX-Q-Kai-T,icons2,serif",w=.12*k,g=M.fc(c),b(0,0,l,0,g<(B.s&16?6:8)?4:2,g+" ",0,h,5,-1,"",w,l,0,2,B.R[1],0,h,5,-1,"",w,l,0,2,B.R[2],0)):(l="normal bold "+.75*k+"px sans-serif",f.setTransform(1,0,0,1,g/2,n/2),f.fillStyle="#FFF",b(0,0,l,0,2,4==B.a?"天鳳":Pa(B.s),0));f.restore()},ma:function(){}}}();
(function(){function b(c,b){hc.Y(b||1);if(a){var e=a;delete lc()[e];a=void 0}}function d(){b(0,2);a=mc(function(){a=void 0;hc.Y(0)},2E3)}var a=void 0;Wa(hc.v.canvas,{touchstart:function(){hc.Y(1)},touchend:d,touchcancel:function(){hc.Y(0)},mouseover:b,mouseout:d})})();var dc=function(){function b(b){var n=dc.v;0<e&&0<f&&n.clearRect(c,g,e,f);var k=c=g=e=f=0,l;for(l in d){var h=d[l];if(0>h.t)h.t+=b;else if(h.t<h.qa){var w=h.i,m=~~(h.Ta+(h.Mc-h.Ta)*h.t/h.qa),z=~~(h.zb+(h.Nc-h.zb)*h.t/h.qa),C=w.ka,F=w.wa;w.za.complete&&w.za.height&&(n.globalAlpha=h.u,n.drawImage(w.za,w.Ya,w.Za,C,F,m,z,C,F));h.t+=b;e&&f?(m<c?(e+=c-m,c=m):C+=m-c,e<C&&(e=C),z<g?(f+=g-z,g=z):F+=z-g,f<F&&(f=F)):(c=m,g=z,e=C,f=F)}else h.qb&&h.qb.ha(h.Fc),delete d[l];++k}n.globalAlpha=1;k||(nc(),a&&a.length&&
(a.shift()(),++k));return k}var d,a,c,g,e,f;return{v:yb("CANVAS",ac,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),aa:!1,ia:function(){a=[];d={};c=g=e=f=0;var b=dc.v;b.clearRect(0,0,b.canvas.width+1,b.canvas.height+1)},O:function(c,e,k,l,h,g,f,z,C,F){if(dc.aa)return c instanceof Function?c():e instanceof oc?e.ha(k):C&&C.ha(F),0;var w=lc();w.Gc||(w.Gc=b);if(c instanceof Function)return a.push(c),0;w=d[lb++]={};w.t=-c;e instanceof oc?(C=e,F=k,w.qa=0):(w.u=z,w.i=f,void 0===f&&Fb("animation src undefined"),
w.Ta=e,w.zb=k,w.Mc=l,w.Nc=h,0<g?(e=l-e,k=h-k,w.qa=~~(Math.sqrt(e*e+k*k)/(O[0]*g))):w.qa=-g);C&&(w.qb=C,w.Fc=F);return c+w.qa},Da:function(){for(;b(1E4););}}}();var fc=function(){for(var b=[],d=0;4>d;++d)b[d]=yb("DIV",ac,"nosel tbl ts0 rot"+jb(3,270*d%360),{},{fontSize:"80%",pointerEvents:"none",textAlign:"right",display:"none"});var a=[1,2,3,4,5,6,7,8,0,10,11,12,13,14,15,16,17,9,19,20,21,22,23,24,25,26,18,28,29,30,27,32,33,31];return{ia:function(){for(var c=0;4>c;++c)b[c].style.display="none"},nb:function(c){var d=b[c],e=V[16|c].length;if(e){for(var f=e,m=[],n=0;n<V[16|c].length;++n){var k=V[16|c][n];16==k&&(f+=1);m[k]=1}m[0]&&m[1]&&m[2]&&m[3]&&(f+=4);m[16]&&
m[17]&&m[18]&&m[19]&&(f+=4);m[32]&&m[33]&&m[34]&&m[35]&&(f+=4);m[120]&&m[121]&&m[122]&&m[123]&&(f+=4);for(n=5;n<B.R.length;++n)c=a[B.R[n]>>2],0!=(B.s&2048)?1==c?c=4:5==c&&(c=8):B.s&16&&1==c&&(c=8),c*=4,f+=~~m[c+0]+~~m[c+1]+~~m[c+2]+~~m[c+3];m="";0!=(B.s&2048)&&(m+=f+"<span style='font-size:50%;'>+</span><br>");d.style.display="";d.innerHTML="<div class=tbc style='vertical-align:bottom;padding:0 0.1em;'>"+(m+("<span style='font-size:60%;'>x</span>"+e+"<br>"))+"</div>"}else d.style.display="none"},
L:function(){for(var c=0;4>c;++c){var a=b[c].style;a.width=a.height=~~(Math.min(O[c],U[c])/r)+"px";var e=-(0==c?O[0]:pc[c]);a.left=~~((R[96+2*c]+-(1==c?U[1]:qc[c]))/r)+P.v.canvas.offsetLeft+"px";a.top=~~((R[97+2*c]+e)/r)+"px"}}}}(),sc=function(){function b(c){return"<span style='pointer-events:none;vertical-align:middle;'>"+c+"</span>"}function d(){for(var c in u)if(!(~c&262144)&&(u[c].parentNode.style.visibility=a[c]?"":"hidden",a[c]&&2===a[c].length)){var b=a[c][0],e=a[c][1];N.va(u[c],"",4,.8,b,
e);a[2098693]=a[c]={tag:"N",type:b>>2==e>>2?1:3,hai0:b,hai1:e}}}var a={};return{Jc:function(c,g){if(1==B.a||4==B.a){var e=0;a={};c&32&&(a[2359814]={tag:"REACH"});c&16&&(a[2359816]={tag:"N",type:7});c&64&&(a[2359815]={tag:"N",type:9});0<M.fc(0)&&4>M.bb-V[16].length-V[17].length-V[18].length-V[19].length&&(c|=2);var f=[];if(c&2)for(var m,n=(B.s&16?16:17)-1;m=R[2048|n];--n)if(void 0!==m.Ia.eb){for(var k=0;k<V[32].length&&V[32][k]!=m.Ia.eb;++k);k<V[32].length&&f.push({tag:"N",type:5,hai:V[32][k]})}if(c&
2)if(m=V[48],V[64])n=""+V[64],k=g>>2,4==m[k]&&(m[k]-=4,""+na.cb(m)==n&&f.push({tag:"N",type:4,hai:4*k}),m[k]+=4);else for(k=0;34>k;++k)4>m[k]||f.push({tag:"N",type:4,hai:4*k});f.length||(c&=-3);f.length&&(a[2098693]=a[401412]=f[0],N.va(u[401412],b(K(180))+" ",4,.7,f[0].hai),f.shift(),++e);f.length&&(a[2098693]=a[401416]=f[0],N.va(u[401416],b(K(180))+" ",4,.7,f[0].hai),f.shift(),++e);f.length&&(a[2098693]=a[401417]=f[0],N.va(u[401417],b(K(180))+" ",4,.7,f[0].hai),f.shift(),++e);if(c&128)if(0==(B.s&
2048)||V[64])m={tag:"N",type:10},V[64]&&(m.hai=g),a[2098693]=a[401414]=m,u[401414].innerHTML=K(185),++e;else{m=[];for(n=0;n<V[32].length;++n)if(f=V[32][n],k=f>>2,0==k||4==k||8==k||30==k)m[f]={tag:"N",type:10,hai:f};f=[401414,401415,401418,401419,401417];if(k=m[120]||m[121]||m[122]||m[123])a[2098693]=a[f[0]]=k,N.va(u[f[0]],b(K(181))+" ",4,.7,k.hai),f.shift(),++e;if(k=m[0]||m[1]||m[2]||m[3])a[2098693]=a[f[0]]=k,N.va(u[f[0]],b(K(181))+" ",4,.7,k.hai),f.shift(),++e;if(k=m[16])a[2098693]=a[f[0]]=k,N.va(u[f[0]],
b(K(181))+" ",4,.7,k.hai),f.shift(),++e;if(k=m[17]||m[18]||m[19])a[2098693]=a[f[0]]=k,N.va(u[f[0]],b(K(181))+" ",4,.7,k.hai),f.shift(),++e;if(k=m[32]||m[33]||m[34]||m[35])a[2098693]=a[f[0]]=k,N.va(u[f[0]],b(K(181))+" ",4,.7,k.hai),f.shift(),++e}d();u.S(512);u[2098693].parentNode.style.visibility=1==e?"":"hidden";u[3670533].parentNode.style.visibility=1<e?"":"hidden";1==e&&(u[2098693].innerHTML=c&128?K(185):c&2?K(184):"?");c&&Kb(8,0,0);return c}},Hc:function(c,g){if(1==B.a||4==B.a){for(var e=~~(g/
4/9),f=~~(g/4)%9,m={},n=0;n<V[32].length;++n){var k=V[32][n],l=~~(k/4);if(3>e&&2<=f&&l==9*e+f-2||3>e&&1<=f&&l==9*e+f-1||l==9*e+f||3>e&&7>=f&&l==9*e+f+1||3>e&&6>=f&&l==9*e+f+2)l|=M.tb(k)<<8,m[l]?m[l].push(k):m[l]=[k]}n=0;a={2360326:{tag:"N"}};c&8&&(a[2360328]={tag:"N",type:6});k=m[0|9*e+f]||[];l=m[256|9*e+f]||[];c&2&&3==k.length+l.length&&(N.va(u[409604],b(K(180))+" ",4,.8,(l.length?l:k)[0]),a[2098693]=a[409604]={tag:"N",type:2},++n);c&1&&(1==l.length&&2==k.length?(a[409606]=[k[0],k[1]],a[409607]=
[l[0],k[0]],n+=2):2<=k.length?(a[409607]=[k[0],k[1]],++n):1==l.length&&1==k.length&&(a[409607]=[l[0],k[0]],++n));if(c&4)for(var h=0;3>h;++h){var w=(h&1)<<8,E=(h&2)<<7;(k=m[w|9*e+f-2])&&(l=m[E|9*e+f-1])&&(a[h?409614:409610]=[k[0],l[0]],++n);(k=m[w|9*e+f-1])&&(l=m[E|9*e+f+1])&&(a[h?409613:409609]=[k[0],l[0]],++n);(k=m[w|9*e+f+1])&&(l=m[E|9*e+f+2])&&(a[h?409612:409608]=[k[0],l[0]],++n)}a[409607]&&!a[409606]&&(a[409606]=a[409607],delete a[409607]);a[409614]&&!a[409610]&&(a[409610]=a[409614],delete a[409614]);
a[409613]&&!a[409609]&&(a[409609]=a[409613],delete a[409613]);a[409612]&&!a[409608]&&(a[409608]=a[409612],delete a[409612]);d();u.S(1024);ic.o(0,u[2360326]);u[2098693].parentNode.style.visibility=1==n?"":"hidden";u[3671045].parentNode.style.visibility=1<n?"":"hidden";1==n&&(u[2098693].innerHTML=c&4?K(183):c&1?K(182):c&2?K(184):"?");c&&Kb(8,0,0)}},Ic:function(c){if(1==B.a||4==B.a)a={2360326:{tag:"N"}},c&8&&(a[2360328]={tag:"N",type:6}),d(),u.S(1024),ic.o(0,u[2360326]),u[2098693].parentNode.style.visibility=
u[3671045].parentNode.style.visibility="hidden",c&&Kb(8,0,0)},K:function(c){ic.$();u.S(256);rc();4==B.a?A.jc(a[c]):W.K(a[c])}}}();
function tc(b){var d=~~b.m,a=d&3,c;if(d&4){b[2]=3;c=(d&64512)>>10;var g=c%3;c=~~(c/3);c=4*(9*~~(c/7)+c%7);c=[c+0+((d&24)>>3),c+4+((d&96)>>5),c+8+((d&384)>>7)];c.splice(0,0,c.splice(g,1)[0])}else d&24?(b[2]=d&16?5:1,b[4]=(d&96)>>5,c=(d&65024)>>9,g=c%3,c=4*~~(c/3),c=[c+0,c+1,c+2,c+3],b[4]=c.splice(b[4],1)[0],c.splice(a^3,0,c.splice(g,1)[0]),d&16&&(c=[b[4]])):d&32?(b[2]=10,c=[(d&65280)>>8]):0==a?(b[2]=4,c=(d&65280)>>8&-4,c=[c+2,c+0,c+1,c+3]):(b[2]=2,d=(d&65280)>>8,c=d&-4,c=[c+0,c+1,c+2,c+3],c.splice(d&
3,1),c.splice(1==a?3:a^3,0,d));b[3]=a;b[0]=c};var u=function(){function b(c,b,a){var e=u[c];a?e.innerHTML="<span class=nobr style='pointer-events:none;"+(u.l[c]?"":"color:#888;")+"'>"+(u.l[c]?"":"")+b+"</span>":(e.innerHTML="<span style='pointer-events:none;"+(u.l[c]?"":"color:#888;")+"'>"+b+"<br>"+(u.l[c]?"":"")+"</span>",e.parentNode.style.fontSize="85%")}function d(c){c&&(u.l[c]=!u.l[c]);var a=J.desktop&1;b(1183749,K(157),a);b(1183750,K(158),a);b(1183751,K(159),a);b(1183752,K(160),a);b(1183753,K(161),a);1183750==c&&
u.l[1183750]&&(V.kb(0),V.jb())}function a(c){c&&(u.l[c]=!u.l[c]);b(1277961,K(162));b(1277957,K(163));b(1277960,K(164));b(1212429,K(165));J.check=J.check&-16|(u.l[1277961]?0:1)|(u.l[1277957]?0:2)|(u.l[1277960]?0:4)|(u.l[1212429]?8:0);1212429==c&&(M.a=J.check&8?3:~~J.yama,0==M.a&&J.desktop&&(M.a=1),Ob());c&&(3==B.a&&Lb.Oa(0),2==B.a&&Mb.wb())}function c(c){for(var b=1;b<arguments.length;++b)arguments[b].parentNode.style.visibility=c}return{b:yb("DIV",Tb,"nosel",{},{position:"absolute",display:"none",
color:"#FFF",fontFamily:"icons2,sans-serif",fontSize:"140%"}),a:0,l:{},ia:function(){for(var c=[2360326,"&times;",2098693,"",3670533," "+K(150),3671045," "+K(150),1572868,"",3678213,"&times;",3686405,"&times;",1675268,"&times;",2359816,K(151),2360328,K(152),2359814,K(153),401414,"",401415,"",401418,"",401419,"",2359815,K(154),401412,"",401416,"",401417,"",409610,"",409609,"",409608,"",409614,"",409613,"",409612,"",409606,"",409607,"",409604,"",1574918,"",1574917,"",425995,
"?",495623,K(156),1183749,"",1183750,"",1183751,"",1183752,"",1183753,"",1277961,"",1277957,"",1277960,"",1212429,"",1802246,K(167)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736714,K(168)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736718,K(169)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736716,K(155)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>"],b=0;b<c.length;b+=2){var a=c[b+0],d=yb("DIV",u.b,"tbl",{},{position:"absolute"});
u[a]=yb("DIV",d,"tbc"+(a&2097152?" bblink":""),{id:"m"+a,innerHTML:c[b+1]},{textAlign:"center",verticalAlign:"middle",pointerEvents:"none"});a&262144&&(d.style.display="none");a&524288&&(u[a].style.borderRadius="0.6em")}c=J.check;u.l[1277961]=!(c&1);u.l[1277957]=!(c&2);u.l[1277960]=!(c&4);u.l[1212429]=!!(c&8);u[1572868].classList.add("cblink")},S:function(b){u.a=126976==b?u.a&3840:b&126976?b|u.a&3840:b|u.a&102400;b=u.a&126976?u.a&126976:u.a&3840;256==b&&3==B.a&&(b=2048);for(var e in u)if(1572868!=
e){var f=u[e];f!=u.b&&f.tagName&&(f.parentNode!=u.b&&(f=f.parentNode),f.style.display=!b||~e&b?"none":"")}u[1572868].parentNode.style.display=u.a&126976?"none":"";e=J.desktop&1;if(4096==b||e)d(),c(1==B.a&&~B.s&1?"":"hidden",u[495623]),c("hidden",u[1183751]);32768==b||65536==b?(c(!tb&&t.ib?"hidden":"",u[495623]),a()):256==b&&c("hidden",u[2360326]);uc.Sa&&uc.Sa();if(1==B.a&&e){u[1572868].parentNode.style.display="none";b=[u[495623],u[1183749],u[1183750],u[1183752],u[1183753]];for(e=0;e<b.length;++e)b[e].parentNode.style.display=
"";d()}},L:function(){u.b.style.left=ac.offsetLeft+"px";u.b.style.top=ac.offsetTop+"px";var c=~~(R[82]/r),b=~~(R[81]/r),a=~~((R[82]-R[86]-O[1])/4/r),d=~~((R[81]-R[33])/2.5/r),d=Math.max(d,~~((U[4]+T[4])/r));3==B.a&&(Tb.offsetHeight<Tb.offsetWidth?c=~~(Zb/r)+~~(.5*a):b=~~($b/r)+d);var n=J.desktop&1,k;for(k in u){var l=u[k];if(l!=u.b&&l.parentNode){var h=l.style;l.parentNode.parentNode==u.b&&(h=l.parentNode.style);var w=((k&3)>>0)+1,E=(k&12)>>2;n&&2360326==k&&(w=1);h.left=c-a*w+"px";h.top=b-d*E+"px";
h.width=a+"px";h.height=d+"px";h.fontSize="";l.style.border="solid 1px "+(k&131072?"#222":"rgba(0,0,0,0.25)");k&131072?(l.classList.remove("ts0"),l.classList.add("bgb")):(l.classList.remove("bgb"),l.classList.add("ts0"))}}if(1==B.a){if(k=[u[1183749],u[1183753],u[1183752],u[1183751],u[1183750],null,u[495623]],n)for(a=~~(Zb/r/8),d=~~(U[1]/r),c=(R[80]+13*O[4])/r+P.v.canvas.offsetLeft,b=ac.offsetHeight-1*d,n=0;n<k.length;++n)k[n]&&(h=k[n].parentNode.style,h.left=c-a*(n+1)+"px",h.top=b+"px",h.width=a+
"px",h.height=d+"px",h.fontSize="50%",k[n].classList.remove("bgb"),k[n].classList.add("ts0"),k[n].style.borderStyle="none")}else 3==B.a&&(u[1574918].style.borderColor=u[1574917].style.borderColor=u[1572868].style.borderColor=3==B.a?"#444":"rgba(0,0,0,0.25)",Tb.offsetHeight<Tb.offsetWidth&&(n=~~(1.5*d),a=~~(.5*a),Tb.offsetWidth<c&&(c=~~Tb.offsetWidth,a=Tb.offsetWidth-~~(Zb/r)),h=u[1574918].parentNode.style,h.width=a+"px",h.height=n+"px",h.left=c-1*a+"px",h.top=b-d-2*n+"px",h=u[1574917].parentNode.style,
h.width=a+"px",h.height=n+"px",h.left=c-1*a+"px",h.top=b-d-1*n+"px",h=u[1572868].parentNode.style,h.width=a+"px",h.height=d+"px",h.left=c-1*a+"px",h.top=b-d-0*n+"px"))},ma:function(c,b){switch(c){case 2360326:ic.Yb();break;case 409606:case 409607:case 409604:case 409610:case 409609:case 409608:case 409614:case 409613:case 409612:case 401412:case 401416:case 401417:case 401414:case 401415:case 401418:case 401419:case 2359815:case 2360328:case 2359816:case 2359814:case 2098693:sc.K(c);break;case 3670533:u.S(8192);
break;case 3671045:u.S(16384);break;case 1572868:4==B.a?A.Vb(1):u.S(3==B.a?32768:2==B.a?65536:4096);break;case 3678213:case 3686405:case 1675268:u.S(126976);break;case 1574917:Lb.Oa(1);break;case 1574918:Lb.Oa(-1);break;case 1802246:u.S(126976);for(var e="",g=0;4>g;++g)B.H[g]&&(e+="<div class='A"+(0==g?" _selected_":"")+"' id='#tw-"+g+"'><span class=dan"+~~B.Va[g]+">"+pa[~~B.Va[g]]+"</span>"+(1800<B.Ra[g]?"R"+~~B.Ra[g]:"")+"　"+B.H[g]+"</div>");!1===u.l[14]&&(e+="<div class=A id='#tw-4'>("+K(166)+
" ON)</div>");!0===u.l[14]&&(e+="<div class=A id='#tw-4'>("+K(166)+" OFF)</div>");x.Z(e,"font-size:75%;text-align:left;",0);break;case 1736718:u.S(126976);Lb.ic();break;case 1736714:u.S(126976);Lb.hc();break;case 1183749:case 1183750:case 1183751:case 1183752:case 1183753:d(c);break;case 1277961:case 1277957:case 1277960:case 1212429:a(c);break;case 1736716:if(3!=B.a)break;u.S(126976);x.Z("<div class=A id='#edit-T'>TRANING editor</div><div class=A id='#edit-M'>MJLOG editor</div>","",0);break;case 425995:3==
B.a&&x.o("<div style='text-align:left;font-size:75%;'>"+K(205)+"</div>");break;case 495623:if(t.ib){location.reload();break}case 11:u.S(126976),-1!=B.na&&(t.ib||(delete t.log,delete t.wg),Lb.ga(),Mb.ga(),B.ga()),u.l[14]=!1,B.a=0,t.log?(B.a=3,W.$()):t.wg?B.a=2:(u.b.style.display="none",B.a=1),Ob(),b?A.o({tag:"SPLASH"}):t.log?(Lb.Ec(t.log),u.L(),S.L()):t.wg?(W.pb(),W.K({tag:"HELO",name:"NoName",sx:"M"})):(W.pb(),A.o({tag:495623==c?"AUTOLOGIN":"LOGIN"}))}}}}();var ic=function(){var b,d,a,c,g,e,f,m=yb("DIV",null,"nosel tbl ts0",{},{position:"absolute",pointerEvents:"none",fontFamily:"sans-serif",textAlign:"right"});m.innerHTML="<div class=tbc style='vertical-align:bottom;padding:0 0.1em;'></div>";return{Rc:function(){var b=(B.s&8?7:3)-(B.s&16?1:0);0==B.R[0]&&0==B.R[1]?(d=B.Pb,a=c=B.Qb):b<=B.R[0]?(d=B.Tb,a=c=B.Ub):(d=B.Rb,a=c=B.Sb)},o:function(c,k,l){m.firstChild.innerHTML="";k||(k=Z.ok);ic.L(k,l);1==B.a&&(("BUTTON"==f.tagName?f.parentNode:f instanceof oc?
ac:f).appendChild(m),b=0>c?-c+1E3:(c||d)+a+1E3,e=b-1E3,g=b-1E3,lc().count=function(a){if(0>g)return ic.$(),!1;b-=a;if(0<=b&&~~(1+g/1E3)==~~(1+b/1E3))return!0;g=b;0<=b?(0>c?Kb(1E3>b?0:3,0,0):3E3>b&&Kb(7,0,0),m.firstChild.innerText=~~(b/1E3)):ic.Yb();return!0})},L:function(c,b){c&&(f=c);f instanceof oc&&~f.ca&1&&(f=void 0);if(!f)for(var a=13;(f=R[1024|a])&&!(f.u&&R[1024|a].ca&1);--a);f&&(a=m.style,a.fontSize=nb.style.fontSize,f instanceof oc?(a.left=~~((b?f.c:f.I)/r)+P.v.canvas.offsetLeft+"px",a.top=
~~((b?f.h:f.J)/r)+"px",a.width=~~(O[4]/r)+"px",a.height=~~((U[4]+T[4])/r)+"px"):(a.left=f.offsetLeft+"px",a.top=f.offsetTop+"px",a.width=(f.offsetWidth||parseInt(f.parentNode.style.width))+"px",a.height=(f.offsetHeight||parseInt(f.parentNode.style.height))+"px"))},Yb:function(){if(f instanceof oc)B.Mb(f.X);else if(f&&f.name){if(!f.disabled)A[f.name]()}else ic.$(),sc.K(2360326)},gc:function(){a<c&&(a+=1E3)},Qc:function(){return f},$:function(){m.parentNode&&(b<a&&(a=1E3*~~(0>b?0:b/1E3)),e<b&&ic.gc(),
g=-1,m.parentNode.removeChild(m),f=void 0)}}}();for(var S={b:yb("DIV",ac,"",{},{position:"absolute"}),L:function(){var b=S.b.style,d=O[4]/r,a=~~Math.min(~~(2*d),(Tb.offsetHeight-$b/r)/2);3==B.a&&(a=0);if(xb||a<d||J.desktop&1)S.b.style.display="none";else switch(b.top=ac.offsetTop+(R[81]+U[4]+T[4])/r+"px",b.display="",~~J.cptype){default:case 1:var c=Math.min(2.25*a,Tb.offsetHeight-ac.offsetHeight);b.width=ac.offsetWidth+"px";b.height=c+"px";b.background="linear-gradient(to bottom, rgba(0,0,0,1.0) 0%,rgba(0,0,0,1.0) 50%,rgba(24,24,24,1.0) 100%)";
b.borderTop=b.borderBottom="solid 1px #222";for(var g=0;13>=g;++g)S[g].style.display="none";for(g=20;28>=g;++g)b=S[g].style,b.top="0px",b.width=3*d+"px",b.height=c-a+"px",b.display="";S.Jb(0);S[30].style.display=S[31].style.display="none";b=S[30].style;b.width="50%";b.height=1*a+"px";b.display="";b.marginTop=c-a+"px";b=S[31].style;b.width="50%";b.height=1*a+"px";b.display="";b.marginTop=c-a+"px";S[30].innerHTML="&#12296;";S[31].innerHTML="&#12297;";S[30].name="CP_L";S[31].name="CP_R";break;case 2:c=
2*d;b.width=7.5*c+1+"px";b.height=2*a+1+"px";b.background="";b.borderTop=b.borderBottom="none";for(var e=V[32],e=e&&e.length?3*~~(e.length/3)+1:13,g=20;28>=g;++g)S[g].style.display="none";for(g=0;13>=g;++g)b=S[g].style,b.width=c+1+"px",b.height=a+1+"px",b.top=a*(g&1)+"px",b.left=R[80]/r+d*g+"px",b.display=g<e?"":"none";S[30].style.display=S[31].style.display="none"}},Ua:function(b,d,a){var c=R[1024|b];if(c&&(c.oa(d,a,!0),!(c.ca&8))){a=!!(c.ca&1)&&c.u;if(!S[20].style.display){var g=O[4]/r;c.ca&6&&
S.Nb(R[80]/r+g*(b+.5))}g="";c.ca&4?(a&&ic.L(c),g=a?"#060":"#600"):c.ca&2&&(g=a?"#030":"#300");!g&&d&6||(S[0+b].style.backgroundColor=S[24].style.backgroundColor=g)}},Nb:function(b){var d=O[4]/r;b<R[80]/r+0*d&&(b+=3*d);R[80]/r+14*d<b&&(b-=3*d);b=(~~((b-R[80]/r)/d)+.5)*d+R[80]/r;for(var a=20;28>=a;++a)S[a].style.left=~~(b+3*d*(a-24-.5))+"px";return b},Jb:function(b){S.Nb(~~(S[24].offsetLeft+S[24].offsetWidth/2+O[4]/r*b))}},vc=0;13>=vc;++vc)S[vc]=yb("DIV",S.b,"",{},{position:"absolute",border:"solid 1px #333",
background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.15) 100%)"}),yb("DIV",S[vc],"",{},{width:"50%",height:vc&1?"25%":"20%",backgroundColor:vc&1?"#333":"#555",pointerEvents:"none"});S[13].parentNode.removeChild(S[13]);
for(vc=20;28>=vc;++vc)S[vc]=yb("DIV",S.b,"",{},{position:"absolute",borderLeftStyle:"none",borderLeft:"solid 1px #333",background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.10) 100%)"}),yb("DIV",S[vc],"",{},{position:"absolute",marginLeft:"50%",width:"1px",height:"50%",pointerEvents:"none",background:"linear-gradient(to bottom, rgba(195,0,0,1.0) 0%,rgba(255,0,0,1.0) 10%,rgba(0,0,0,0) 100%)"});S[28].style.borderRight="solid 1px #333";
S[30]=yb("BUTTON",S.b,"gray",{name:"CPda"},{background:"none"});S[31]=yb("BUTTON",S.b,"gray",{name:"CPok"},{background:"none"});S[30].style.borderRight="none";function Kb(){}function wc(){}function xc(){}var nc=function(){var b={};return function(d,a,c){if(arguments.length){for(var g in b)if(b[g]==d&&c-.008<g&&g<c+.008)return;b[c]=d;Kb(d,a,c)}else b={}}}();q.AudioContext=q.AudioContext||q.webkitAudioContext;
(function(){function b(c){function b(){mb.removeEventListener("touchend",c,!1);mb.removeEventListener("mousedown",c,!1);c&&(c(),c=void 0)}Ua(mb,"touchend",b);Ua(mb,"mousedown",b)}if(AudioContext){var d={},a=new AudioContext,c,g,e=function(b,h){var e=a.createBufferSource();e.buffer=d[b].Xb;e.connect(c);e.start?e.start(a.currentTime+h):e.noteOn(a.currentTime+h);return e},f=function(){Kb=function(b,a,h){if("0"!=J.sevol&&!dc.aa&&0!=b&&c){if(d[b])return e(b,h);switch(b){case 12:Kb(25,a,h);Kb(38,a,h);break;
case 13:Kb(26,a,h);Kb(38,a,h);break;case 14:Kb(27,a,h);Kb(38,a,h);break;case 15:Kb(28,a,h);Kb(38,a,h);break;case 16:Kb(29,a,h);Kb(38,a,h);break;case 17:Kb(30,a,h);Kb(38,a,h);break;case 18:Kb(31,a,h);Kb(39,a,h);break;case 19:Kb(32,a,h);Kb(39,a,h);break;case 20:Kb(33,a,h);Kb(37,a,h);break;case 21:Kb(34,a,h);Kb(37,a,h);break;case 22:Kb(35,a,h);Kb(37,a,h);break;case 23:Kb(36,a,h),Kb(37,a,h)}}}},m=0,n=function(c,b){++m;var h=new XMLHttpRequest;h.open("GET",c,!0);h.responseType="arraybuffer";h.onload=function(){200==
this.status&&a.decodeAudioData(this.response,function(c){for(var a in b)d[b[a]].Xb=c;--m||f()})};h.send()};ob&&yb("AUDIO",nb,"",{},{position:"absolute",display:"none"});wc=function(){c.gain.value=~~(J.sevol||5)/10};b(function(){var b=~~(J.sevol||5)/10;c=a.createGain?a.createGain():a.createGainNode();c.connect(a.destination);c.gain.value=b;g=a.createGain?a.createGain():a.createGainNode();g.connect(a.destination);g.gain.value=0;c.gain.value=.001;e(4,0);setTimeout(function(){c.gain.value=b},1E3)});var k=
function(){var c={},b;for(b in d)(c[d[b].url]=c[d[b].url]||[]).push(b);for(var a in c)n(a,c[a])};xc=function(){var c=[1,3,4,5,6,7,8,9,10,11,25,27,29,31,33,35,26,28,30,32,34,36,37,38,39,24,40,41],b;for(b in c)d[c[b]]={Xb:void 0,url:"https://cdn.tenhou.net/3/res/snd/"+jb(2,c[b])+".wav"};d[40].url=d[41].url=d[1].url;var a=J.se;Eb(a)?gb(a,function(c){try{a=JSON.parse(c)}catch(ra){alert(ra)}for(var b in a.se)d[b]&&(d[b].url=a.se[b].url);k()},function(c){console.log("err",c);k()}):k()};xc()}else{var l=
{};l[1]=l[8]=l[9]=l[10]=l[12]=l[13]=l[14]=l[15]=l[16]=l[17]=l[18]=l[19]=l[20]=l[21]=l[22]=l[23]=l[24]=1;for(var h=5,w=function(){this.currentTime&&(this.removeEventListener("timeupdate",arguments.callee,!1),this.pause(),Ua(this,"timeupdate",function(){this.endTime<this.currentTime&&(this.pause(),this.Lb=0)}),--h||(Kb=function(c,b,a){if(40==c||41==c)c=1;"0"==J.sevol||dc.aa||0==c||setTimeout(function(){for(var b=0;5>b&&(h=(h+1)%5,!z[h].paused&&l[z[h].Lb]&&!l[c]);++b);5!=b&&(b=z[h],b.paused||b.pause(),
b.currentTime=2*c,b.endTime=2*c+(1==c?3:1),b.Lb=c,b.play())},1E3*a)}))},E=~~(J.sevol||5)/10,z=[],C=0;5>C;++C)z[C]=yb("AUDIO",nb,"",{src:"https://cdn.tenhou.net/3/res/snd/se.m4a"},{position:"absolute",display:"none"}),z[C].endTime=0,z[C].Lb=0,z[C].volume=E,Ua(z[C],"timeupdate",w);wc=function(){for(var c=~~(J.sevol||5)/10,b=0;b<z.length;++b)z[b].volume=c};b(function(){for(var c=0;c<z.length;++c)z[c].play()});xc=function(){J.se&&x.o(K(0))}}})();
if(q.gr&&q.gr.eworx&&q.gr.eworx.AVAudioSessionAdapter){var yc=gr.eworx.AVAudioSessionAdapter;(new yc).setCategoryWithOptions(yc.Categories.PLAYBACK,yc.CategoryOptions.MIX_WITH_OTHERS,function(){},function(){})};var ec=function(){var b={M:[0,12,14,16,14,14,20,22,18,0,9,0],F:[0,13,15,17,15,15,21,23,19,0,9,0]};b[""]=b.C=b.M;var d={};return{b:yb("DIV",Tb,"",{},{position:"absolute",pointerEvents:"none",top:"0px"}),O:function(a,c,g){if(!dc.aa){var e=K(190)[c];if(e){var f=10*-a,m=yb("SPAN",ec.b,"tsv nosel",{innerHTML:e},{position:"absolute",fontWeight:"bold",color:"#FFF",opacity:0,whiteSpace:"nowrap"}),n=ac.offsetWidth/40,k=~~(R[64+2*a]/r)+ac.offsetLeft+P.v.canvas.offsetLeft,l=~~(R[65+2*a]/r)+ac.offsetTop,h=m.style,
w=lb++;g&1&&(d[w]=!0);~g&2&&(h.display="none");lc()[w]=function(e){if(!m.parentNode)return 0;if(0>f)return f+=e,0<f&&(f=0),1;0==f&&g&4&&(Kb(b[B.Ta[a]][c],a,0),++f);f+=e;if(250>f)return h.opacity=f/250,h.fontSize=n*(4+(250-f)/250*4)+"px",h.left=k-m.offsetWidth/2+"px",h.top=l-m.offsetHeight/2+"px",1;if(750>f){if(1==h.opacity)return 1;h.opacity=1;h.fontSize=4*n+"px";h.left=k-m.offsetWidth/2+"px";h.top=l-m.offsetHeight/2+"px";return 1}return d[w]?(f-=e,1):1250>f?(h.opacity=(1250-f)/500,1):(m.parentNode.removeChild(m),
0)}}}},ga:function(){for(;ec.b.firstChild;)ec.b.removeChild(ec.b.firstChild)},Eb:function(){d={}}}}();var zc=function(){function b(){d=0}var d=0,a;Wa(q,{touchstart:b,touchend:b,touchcancel:b,mousedown:b,mouseup:b,mouseover:b,mouseout:b,keydown:b,blur:b});return{Xc:function(c){xb&&2==B.a&&(d=0);d||(d=c);c=36E5-(c-d);0>c&&(location.reload(),d=c=0);2E4>c?(a||(a=yb("DIV",ac,"ts0",{},{position:"absolute",left:"0px",top:"0px"})),a.innerText="ENTERING POWERSAVING MODE "+~~(c/1E3)):a&&(a.parentNode.removeChild(a),a=null)}}}();var Lb=function(){function b(c){if(c){var a=/<([a-zA-Z0-9]+)[^>]*>|[^<]+|<\/(.*)>/g,h=a.exec(c);if(h){var e={};e.tag=h[1];for(var k=/ ([a-zA-Z0-9]+)="([^"]*)"/g,d;d=k.exec(h[0]);)e[d[1]]=d[2];for(;(h=a.exec(c))&&!h[2];)e.childNodes||(e.childNodes=[]),e.childNodes.push(h[1]?b(h[0]):~~h[0]);return e}}}function d(c){for(var b=-1,a=f;0<=--a;){switch(g[a].tag){case "INIT":return a+1;case "N":c=g[a][2];if(2==c||4==c||5==c)b=-1;break;case "D":case "E":case "F":case "G":if(-1!=b)return b;break;case "T":case "U":case "V":case "W":c||
(b=a)}c=!1}return-1}function a(c,a){a&&(g=b(a).childNodes);if(a&&g){for(var h=!1,k=0;40>k;++k){var d=J["log"+k];try{d=JSON.parse(d)}catch(ia){continue}if(d.log==c){h=!0;break}}h||(u.l[14]=void 0);for(var l,k=0;k<g.length;++k){switch(g[k].tag){case "SHUFFLE":l=M.Lc(g[k].seed);break;case "GO":W.ra(g[k])}if("UN"==g[k].tag)break}for(e=[];k<g.length;++k){var d=g[k],n=[0,0,0,0],m=k;switch(d.tag){case "INIT":e.push(k);break;case "RYUUKYOKU":if("ron3"==d.type)for(h=0;4>h;++h)d["hai"+h]&&(n[h]=6);break;case "AGARI":for(;d=
g[k],n[~~d.who]=d.who==d.fromWho?7:6,d.paoWho&&(n[~~d.paoWho]=11),k+1<g.length&&"AGARI"==g[k+1].tag;++k);break;case "N":tc(d);n[~~d.who]=d[2];break;default:Lb.lb(d)}if(n[0]||n[1]||n[2]||n[3])g.splice(m,0,{tag:"VOICE",type:n}),++k}if(l)for(k=0;k<e.length;++k){var d=g[e[k]],h=p(d.seed),h=6==h[3]&&0==h[4],y;l&&(y=d[5]=l(~~d.oya,h));if(y)if(h){if(B.s&16)for(D=0;6>D;++D)y[D]|=1280;for(h=0;h<(B.s&16?3:4);++h){for(D=0;4>D;++D)y[34*h+D]|=1280;for(;34>D;++D)y[34*h+D]|=h+1<<8}for(var n=0,D=e[k]+1;D<g.length&&
"INIT"!=g[D].tag;++D)d=g[D],"N"!=d.tag||4!=d[2]&&2!=d[2]&&5!=d[2]&&10!=d[2]||(h=~~d.who,y[n/4*34+n%4^1]|=h+1<<8,++n)}else{for(var da=!1,m=13*(B.s&16?3:4),n=0,h=-1,D=e[k]+1;D<g.length&&"INIT"!=g[D].tag;++D)switch(d=g[D],d.tag){case "N":da=4==d[2]||2==d[2]||5==d[2]||10==d[2];break;case "T":case "U":case "V":case "W":h=d.tag.charCodeAt(0)-84,y[da?n++^1:y.length-1-m++]|=h+1<<8,da=!1}for(d=B.s&16?3:4;m<y.length-14-n;++m)h=(h+1)%d,y[y.length-1-m]|=h+1<<8;for(;m<y.length;++m)y[y.length-1-m]|=1280}}for(k=
0;k<g.length;++k)Mb.vb(t.tw,g[k]);for(k=0;"INIT"!=g[k].tag;++k)switch(g[k].tag){case "BYE":case "SHUFFLE":case "GO":break;case "UN":case "TAIKYOKU":W.ra(g[k]);break;default:throw console.log(k,g[k]);}f=e[~~t.ts];delete t.ts}else x.o(K(2003),1,function(){t.ib?location.reload():delete t.log})}function c(c){var b=c.split("-");if(4!=b.length)return c;if(120==b[3].charCodeAt(0)){c=parseInt(b[3].substr(1,4),16);var a=parseInt(b[3].substr(5,4),16),e=parseInt(b[3].substr(9,4),16),d=0;"2010041111gm"<=b[0]&&
(d=~~("3"+b[0].substr(4,6))%(34-~~b[0].substr(9,1)-1));b[3]=jb(4,(c^a^n[d+0]).toString(16))+jb(4,(a^n[d+0]^e^n[d+1]).toString(16))}return b.join("-")}var g,e,f,m={D:!0,E:!0,F:!0,G:!0,T:!0,U:!0,V:!0,W:!0,N:!0,RYUUKYOKU:!0,VOICE:!0},n=[22136,52719,55146,42104,59591,46934,9248,28891,49597,52974,62844,4015,18311,50730,43056,17939,64838,38145,27008,39128,35652,63407,65535,23473,35164,55230,27536,4386,64920,29075,42617,17294,18868,2081];return{lb:function(c){var b=c.tag;if(1<b.length){var a=c.tag.charCodeAt(1);
48<=a&&57>=a&&(c[0]=~~b.substr(1),c.tag=b.substr(0,1))}return c},Ec:function(b){b=c(b);gb("https://tenhou.net/0/log/?"+b,function(c){a(b,c)},function(){a(b)})},Oa:function(c){if(g){if(0==arguments.length){for(var b=f;0<=b&&"INIT"!=g[b].tag;--b);if(0<=b)return Lb.$b(g,b,f-b)}else if(0>=c){var a=d(0>c);if(-1==a)return;if(0>c&&f==a+1)for(a=a-1==e[0]?g.length-1:a-2;"AGARI"==g[a-1].tag;--a);for(var k=[],b=0;b<e.length&&!(a<e[b]);++b);for(var n=e[b-1],b=n;b<a;++b)k.push(g[b]);W.ra(Lb.$b(g,n,a-n));f=a;1==
a-n&&Ac.set()}else if(Z.ok&&!Z.ok.disabled){A.ok();return}if(!(g.length<=f))for(dc.Da(),b=!1;!b&&f<g.length;++f){switch(g[f].tag){case "REACH":2!=g[f].step&&(b=!0);break;case "AGARI":f+1<g.length&&"AGARI"!=g[f+1].tag&&(b=!0);break;default:m[g[f].tag]&&(b=!0)}W.ra(g[f])}}},ga:function(){f=0;g=void 0},ic:function(c,b){if(g&&g.length)if(c)f=~~b+1,Lb.Oa(0);else{for(var a=-1,d=f;0<=d&&(-1==a&&"T"==g[d].tag&&(a=d),"INIT"!=g[d].tag);--d);if(!(0>d)){var e="",k=0;for(++d;d<g.length;++d){json=g[d];if("INIT"==
json.tag)break;"T"==json.tag&&(e+="<div class='A"+(d==a?" _selected_":"")+"' id='#tj-"+d+"'>"+ ++k+"巡目</div>")}x.Z(e,"",0)}}},hc:function(c,b){if(g&&g.length)if(c)f=~~b+1,Lb.Oa(0);else{for(var a=0,d=f;0<=d;--d)if("INIT"==g[d].tag){a=d;break}for(var e="",k=-1,l="",d=0;d<g.length;++d){var n=g[d];switch(n.tag){case "INIT":k=p(n.seed);l=k[0];l="東南西北".substr(~~(l/4),1)+(l%4+1)+v("局")+k[1]+v("本場");k=d;break;case "RYUUKYOKU":var m=wa[n.type],e=e+("<div class='A"+
(k==a?" _selected_":"")+"' id='#ts-"+k+"'>"+l+"<br>流局"+(m?" "+m:"")+"</div>");break;case "AGARI":var m=~~n.who,D=~~n.fromWho,n=p(n.ten),e=e+("<div class='A"+(k==a?" _selected_":"")+"' id='#ts-"+k+"'>"+l+"<br>"+v(m==D?"ツモ:":"ロン:")+B.H[m]+" "+n[1]+(m!=D?"<br>"+v("放銃:")+B.H[D]:"")+"</div>")}}x.Z(e,"font-size:70%;text-align:left;",0)}},wb:function(c,b){var a=~~b;if(4==a)u.l[14]=!u.l[14];else if(4>a){for(var d=0;d<g.length;++d)Mb.vb(a,g[d]);t.tw=(t.tw+a)%4}for(d=
0;d<g.length;++d)if("UN"==g[d].tag){W.ra(g[d]);bc.Y();Lb.Oa(0);break}},$b:function(c,b,a){var d=c[b];if("INIT"!=d.tag)return null;for(var e=[],h=p(d.hai0);h.length;)e[h.pop()]=1;for(h=p(d.hai1);h.length;)e[h.pop()]=2;for(h=p(d.hai2);h.length;)e[h.pop()]=3;for(h=p(d.hai3);h.length;)e[h.pop()]=4;for(var k=p(d.seed),l=p(d.ten),h=p(d.chip),f=~~d.oya,n=d[5],g=[[],[],[],[]],m=[[],[],[],[]],ra=-1;b<c.length&&a;++b,--a)switch(d=c[b],d.tag){case "D":case "E":case "F":case "G":var I=d.tag.charCodeAt(0)-68,
Ca=d[0]==ra,ra=d[0];e[ra]=0;Ca&&m[I].push(254);m[I].push(ra);break;case "T":case "U":case "V":case "W":I=d.tag.charCodeAt(0)-84;ra=d[0];e[ra]=I+1;break;case "N":for(var ra=-1,I=~~d.who,Ca=~~d.m,ib=d[3],Ab=d[0],Va=0;Va<Ab.length;++Va)e[Ab[Va]]=0;5!=d[2]&&4!=d[2]&&10!=d[2]&&(ib=m[(I+ib)%4],ib.pop(),254==ib[ib.length-1]&&ib.pop());if(5==d[2]){for(Va=0;Va<g[I].length&&g[I][Va]!=(Ca^24);++Va);if(Va==g[I].length)throw console.log("Log2ReiniXML INVALID KAKAN");g[I][Va]=Ca}else g[I].unshift(Ca);break;case "REACH":I=
~~d.who;Ca=~~d.step;2==Ca?(d=p(d.ten),d.length?l=d:l[I]-=10):(1==Ca?m[I].push(255):(m[I].push(255),l[I]-=10),++k[2]);break;case "DORA":k.push(~~d.hai)}d=c[b];"AGARI"==d.tag&&d.who==d.fromWho&&(e[~~d.machi]=0);c={tag:"REINIT",seed:""+k,ten:""+l,oya:f,hai0:[],hai1:[],hai2:[],hai3:[]};for(b=0;136>b;++b)e[b]&&c["hai"+(e[b]-1&3)].push(b);n&&(c[5]=n);h.length&&(c.chip=h);for(I=0;4>I;++I)g[I].length&&(c["m"+I]=g[I]);for(I=0;4>I;++I)m[I].length&&(c["kawa"+I]=m[I]);return c}}}();var Bc={},N=function(){function b(b,a){var d;if(2==b&&99==a)return N[4195];var e=0,k=N[4096|100*b+a];k||(k=N[4096|100*b+a]=Wa(new Image,{load:P.xb,error:function(){Fb("IMAGE ONERROR",e++,this.src);10>e&&setTimeout(function(){k.src=k.src},2E3)}}));d=d||(99==a?"":c);var l=O[b];1==b&&99==a&&(l=O[0]);8==b&&99==a&&(l=O[0]);var h="https://p.mjv.jp/5/img/vieww"+b+jb(2,a)+jb(3,l)+("000000ffffff000000"==d?"":d)+".png";620>=O[0]&&(""==d||"000000ffffff000000"==d)&&(h="https://cdn.tenhou.net/3/res/img/20201203/vieww"+
b+jb(2,a)+jb(3,l)+".png");l&&k.src!=h&&(k.src=h);return k}function d(b,c,a){for(var d=3;d<arguments.length;++d){var e=arguments[d],l=e>>8&7;N[e]=$a(N[e]||{},{za:b,Ya:c%10*O[l],Za:(U[l]+T[l])*~~(c/10),ka:O[l],wa:U[l]+T[l],offsetX:0,offsetY:0,ac:a});if(5==l||7==l)N[e].offsetY+=U[l%4]+T[l%4]-(U[l]+T[l]);5==l&&(N[e].offsetX+=O[l%4]-O[l])}}function a(b,c,a,d,k){for(var e=5;e<arguments.length;++e){var h=arguments[e],f=h>>8&7;Bc[h]=$a(Bc[h]||{},{za:b,Ya:c,Za:a,ka:d,wa:k,offsetX:Cc[f],offsetY:U[f]+T[f]-k});
if(5==f||7==f)Bc[h].offsetY+=U[f%4]+T[f%4]-(U[f]+T[f]);5==f&&(Bc[h].offsetX+=O[f%4]-O[f])}}var c,g;return{Fb:Wa(new Image,{load:bc.Y,error:function(){Fb("IMAGE ONERROR",this.src)}}),Sc:function(){g="000100070";Db(J.backgroundImage)?(t.ub=!1,bc.v.canvas.style.background="url('https://cdn.tenhou.net/4/res/img/1/_bg9_1024x0768_080000.png') center center /cover no-repeat,url('"+J.backgroundImage+"') center center /cover no-repeat"):(J.backgroundImage&&J.backgroundImage.match(/^([0-9]{9})$/)&&(g=J.backgroundImage),
t.ub=!0,bc.v.canvas.style.background="url('https://cdn.tenhou.net/4/res/img/1/_bg9_1024x0768_080000.png') center center /cover no-repeat,url('https://cdn.tenhou.net/4/res/img/3/_bg0_1024x0768_"+g+".jpg') center center /cover no-repeat");c="000000ffffff000000";J.msk&&J.msk.match(/^([0-9a-f]{6})$/)&&(c=RegExp.$1+c.substr(6));d(b(5,48),0,-1,1328);d(b(7,48),0,-1,1840);for(var e=0;4>=e;++e){for(var f=b(e,0),m=0;34>m;++m){var n=10*(~~(m/9)+1)+m%9+1;d(f,n-10,m,e<<8|n)}d(f,0,4,e<<8|51);d(f,10,13,e<<8|52);
d(f,20,22,e<<8|53)}f=N[4096];d(f,30,-1,48,560);d(f,38,-1,49,561);d(f,39,-1,50,562);f=N[4196];d(f,30,-1,304,816);d(f,38,-1,305,817);d(f,39,-1,306,818);f=N[4296];d(f,30,-1,1584);d(f,38,-1,60,572);f=N[4396];d(f,38,-1,316,828);f=N[4496];d(f,30,-1,1084);d(f,38,-1,1073);d(f,39,-1,1074);for(e=0;8>e;e+=2){f=b(e,99);m=O[e]+T[e];n=0;if(0==e||2==e)n=~~(47*m/43);if(4==e||6==e)n=~~(24*m/43);var k=~~(T[e]/12*5);a(f,0,0,m-Cc[e],n,e<<8|0);a(f,0,n-k,2*k,k,e<<8|3,e<<8|2)}var e=U[1]+T[1],m=2*~~(47*(O[0]+T[0])/43),n=
T[0]/12,k=T[0]+~~(5*n),l,f=b(8,99);l=0;a(f,0,l+m-U[0],k,U[0],1,513);a(f,0,l+~~(17*n),k,U[0],5,517);a(f,0,l,k,U[0]+~~(12*n),4,516);a(f,0,l+m-U[1],k,U[1],257,769,1281,1793);a(f,0,l+~~(17*n),k,U[1],261,773,1285,1797);a(f,0,l,k,U[1]+~~(12*n),260,772,1284,1796);f=b(1,99);l=0;a(f,0,l,k,e,256,768,1280,1792);a(f,0,l+e-~~(5*n),2*~~(5*n),~~(5*n),259,771,1283,1795,258,770,1282,1794)},va:function(b,c,a,d){var e=N[4096|100*a];if(e.complete||!e.height){var l=O[a],h=U[a]+T[a],f=l*(arguments.length-4),g=1*h;b.innerHTML=
c+"<canvas width="+f+" height="+g+" style='width:"+f/r+"px;height:"+g/r+"px;pointer-events:none;vertical-align:middle;'></canvas>";f=b.getElementsByTagName("CANVAS")[0].getContext("2d");f.clearRect(0,0,f.canvas.width+1,f.canvas.height+1);f.globalAlpha=d;for(g=4;g<arguments.length;++g){var n=arguments[g],m;M.tb(n)?(m=0,n=~~(n/4/9)):(n=M.Xa[n],48==n&&(n=40),m=n%10,n=~~(n/10)-1);f.drawImage(e,m*l,n*h,l,h,l*(g-4),0,l,h)}}}}}();var Mb=function(){function b(b,c){var a=c.split(",");8==a.length?a=[a[(0+b)%4*2+0],a[(0+b)%4*2+1],a[(1+b)%4*2+0],a[(1+b)%4*2+1],a[(2+b)%4*2+0],a[(2+b)%4*2+1],a[(3+b)%4*2+0],a[(3+b)%4*2+1]]:16==a.length&&(a=[a[(0+b)%4*2+0],a[(0+b)%4*2+1],a[(1+b)%4*2+0],a[(1+b)%4*2+1],a[(2+b)%4*2+0],a[(2+b)%4*2+1],a[(3+b)%4*2+0],a[(3+b)%4*2+1],a[(0+b)%4*2+8],a[(0+b)%4*2+9],a[(1+b)%4*2+8],a[(1+b)%4*2+9],a[(2+b)%4*2+8],a[(2+b)%4*2+9],a[(3+b)%4*2+8],a[(3+b)%4*2+9]]);return a.join(",")}function d(b){if(!g.length)return 0;
a+=b;if(a<c)return 1;b=g.shift();b.tag?W.ra(b):c+=b;return 1}var a,c,g=[],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=["","","",""],m=["","","",""];return{vb:function(c,a){if(!c)return a;var d=a.tag,e=d.charCodeAt(1);if(1==d.length||48<=e&&57>=e)e=d.charCodeAt(0),78==e?a.who=(4+~~a.who-c)%4:68<=e&&71>=e?a.tag="DEFG".substr((4+(e-68)-c)%4,1)+d.substr(1):84<=e&&87>=e&&(a.tag="TUVW".substr((4+(e-84)-c)%4,1)+d.substr(1));else switch(d){case "UN":d=[a.n0,a.n1,a.n2,a.n3];a.n0=
d[(c+0)%4];a.n1=d[(c+1)%4];a.n2=d[(c+2)%4];a.n3=d[(c+3)%4];a.dan&&(d=a.dan.split(","),a.dan=d.concat(d.splice(0,c)).join(","));a.rate&&(d=a.rate.split(","),a.rate=d.concat(d.splice(0,c)).join(","));a.sx&&(d=a.sx.split(","),a.sx=d.concat(d.splice(0,c)).join(","));a.rc&&(d=a.rc.split(","),a.rc=d.concat(d.splice(0,c)).join(","));a.gold&&(d=a.gold.split(","),a.gold=d.concat(d.splice(0,c)).join(","));break;case "TAIKYOKU":case "KANSEN":a.oya=(4+~~a.oya-c)%4;break;case "REINIT":d=[a.m0,a.m1,a.m2,a.m3],
a.m0=d[(c+0)%4],a.m1=d[(c+1)%4],a.m2=d[(c+2)%4],a.m3=d[(c+3)%4],d=[a.kawa0,a.kawa1,a.kawa2,a.kawa3],a.kawa0=d[(c+0)%4],a.kawa1=d[(c+1)%4],a.kawa2=d[(c+2)%4],a.kawa3=d[(c+3)%4];case "INIT":a.oya=(4+~~a.oya-c)%4;d=[a.hai0,a.hai1,a.hai2,a.hai3];a.hai0=d[(c+0)%4];a.hai1=d[(c+1)%4];a.hai2=d[(c+2)%4];a.hai3=d[(c+3)%4];d=a.ten.split(",");a.ten=d.concat(d.splice(0,c)).join(",");void 0!=a.chip&&(d=a.chip.split(","),a.chip=d.concat(d.splice(0,c)).join(","));break;case "REACH":a.who=(4+~~a.who-c)%4;a.ten&&(d=
a.ten.split(","),a.ten=d.concat(d.splice(0,c)).join(","));break;case "RYUUKYOKU":d=[a.hai0,a.hai1,a.hai2,a.hai3];a.hai0=d[(c+0)%4];a.hai1=d[(c+1)%4];a.hai2=d[(c+2)%4];a.hai3=d[(c+3)%4];a.sc=b(c,a.sc);void 0!=a.owari&&(a.owari=b(c,a.owari));break;case "AGARI":a.who=(4+~~a.who-c)%4;a.fromWho=(4+~~a.fromWho-c)%4;void 0!=a.paoWho&&(a.paoWho=(4+~~a.paoWho-c)%4);a.sc=b(c,a.sc);void 0!=a.owari&&(a.owari=b(c,a.owari));break;case "VOICE":d=a.type;a.type=d.concat(d.splice(0,c));break;case "BYE":a.who=(4+~~a.who-
c)%4}if(a.childNodes)for(d=a.childNodes,e=0;e<d.length;++e)d[e].tag&&Mb.vb(c,d[e]);return a},wc:function(c){if(c=c.childNodes){dc.aa=!0;for(var a=0;a<c.length;++a)W.ra(Lb.lb(c[a]));W.ra({tag:"INITBYLOG"})}else dc.aa=!1;return 1},Bc:function(b){lc().ad||(a=c=0,lc().ad=d);b=b.childNodes;for(var e=0;e<b.length;++e)b[e].tag&&Lb.lb(b[e]);Array.prototype.push.apply(g,b);return 1},Kc:function(){for(var c=0;c<e.length;++c)e[c]=0;for(c=0;4>c;++c)m[c]=f[c]=""},ga:function(){for(;g.length;)g.pop()},wb:function(c,
b){if(c){var a=~~b;4==a?u.l[14]=!u.l[14]:4>a&&(t.tw=(t.tw+a)%4)}Mb.ga();B.ga();W.pb();W.K({tag:"HELO",name:"NoName",sx:"M"})},nc:function(c){var b=""+V[48|c];if(m[c]!=b&&(m[c]=b,V[64|c]=na.cb(V[48|c]),b=""+V[64|c],f[c]!=b)){f[c]=b;for(c=0;c<e.length;++c)e[c]=0;for(b=0;4>b;++b)if(V[64|b])for(c=0;c<V[64|b].length;++c)e[V[64|b][c]]=1;for(c=0;c<R.sa.length;++c)b=R.sa[c],b.i&&b.oa&&b.oa(-1025,e[b.i.ac]?1024:0,!0)}},oc:function(c){c.i&&c.oa&&c.oa(-1025,e[c.i.ac]?1024:0,!0)}}}();var Z={};function Dc(b,d){for(var a=[b],c=d||{};a.length;){b=a.pop();for(var g=0;g<b.childNodes.length;++g)a.push(b.childNodes[g]);b.id?c[b.id]=b:b.name&&(c[b.name]=b)}Z=c}
var A=function(){var b,d=[],a={SPLASH:1,LOGIN:1,LOBBY:1,STORE:1};return{b:null,o:function(c,a){A.b?"RYUUKYOKU"==b.tag&&"OWARI"==c.tag||"AGARI"==b.tag&&"OWARI"==c.tag||"AGARI"==b.tag&&"AGARI"==c.tag?d.push(c):A.$(c,a):(b=c,A.b=yb("DIV",ac,"tbc",{},{position:"relative",textAlign:"center",verticalAlign:"middle"}),A.b.innerHTML="<div style='background-color:rgba(0,0,0,0.85);color:#FFF;border:solid 1px #444;padding:1em 0.5em;'></div>",A.L(),A[b.tag](b,A.b.firstChild),a&&a())},L:function(){if(A.b){var c=
~~(O[1]/r);if(c){a[b.tag]&&(c=0);var d=A.b.style;d.paddingLeft=c+"px";d.paddingRight=~~(ac.offsetWidth-Zb/r+c)+"px"}}},$:function(c,b){function a(){for(var a in Z)delete Z[a];A.b&&(A.b.parentNode.removeChild(A.b),A.b=null,Z={});c instanceof Function?c():c&&A.o(c);uc.Sa&&uc.Sa();b&&b()}A.b&&"none"!=A.b.style.display?lc().dd=Ec(a):a()},ga:function(){d=[]},nop:function(){},ok:function(c){zb(!0,"ok");ic.$();d.length?A.$(d.shift()):"TRAINING"==b.tag?A.Yc(c):"SPLASH"==b.tag?u.ma(11):"LOGIN"==b.tag||"AUTOLOGIN"==
b.tag?(J.gpid?(W.K({tag:"HELO",name:J.uname||"NoName",sx:J.sx||"M",gpid:J.gpid}),J.removeItem("gpid")):("ID########-########"!=Z.uname.value&&Nb("uname",Z.uname.value,"NoName"),W.K({tag:"HELO",name:J.uname||"NoName",sx:J.sx||"M"})),zb(!0,0)):"OWARI"==b.tag?(2!=B.a||t.ib||delete t.wg,u.ma(495623)):"NINTEI"==b.tag?A.Hb():(1==B.a&&W.K({tag:"NEXTREADY"}),3==B.a&&Lb.Oa(1))},exit:function(){u.ma(495623)}}}();$a(A,function(){function b(c,b){return c?"<span style='color:"+(0<c?"#0FF":"#F00")+";'>"+(0<c?"+":"")+c+(void 0!=b?b:"")+"</span>":""}function d(c,a,d,g){for(var e=c.sc?p(c.sc):[],f=[],h=0;4>h;++h)f[h]="<span style='font-weight:bold;color:#888;'>"+B.fb[h]+"</span> ",e.length||(f[h]+=pa[B.Va[h]]+(1800>B.Ra[h]?"":" <span style='color:#888;'>R</span>"+~~B.Ra[h])+"<br>"),f[h]+="<span style='font-weight:bold;color:#CCC;'>"+eb(B.H[h])+"</span><br>";h=2.4;if(8==e.length||16==e.length)f[0]+=100*e[0]+(e[1]?
" "+b(100*e[1]):""),f[1]+=100*e[2]+(e[3]?" "+b(100*e[3]):""),f[2]+=100*e[4]+(e[5]?" "+b(100*e[5]):""),f[3]+=100*e[6]+(e[7]?" "+b(100*e[7]):"");16==e.length&&(++h,f[0]+="<br>"+e[8]+"枚"+(e[9]?" "+b(e[9],"枚"):""),f[1]+="<br>"+e[10]+"枚"+(e[9]?" "+b(e[11],"枚"):""),f[2]+="<br>"+e[12]+"枚"+(e[9]?" "+b(e[13],"枚"):""),f[3]+="<br>"+e[14]+"枚"+(e[9]?" "+b(e[15],"枚"):""));e="";c.ba&&(e=p(c.ba),e=v("")+e[0]+" "+v("")+e[1]);return"<table cellpadding=0 cellspacing=0 width=100% style='text-align:center;'><tr><td rowspan=1 style='width:33%;height:"+
h/2+"em;font-family:icons2,sans-serif;'>"+e+"</td><td rowspan=2 style='width:34%;'><div id=sc2 style='height:"+1*h+"em;padding:0.2em 0;"+(B.H[2]?"border:solid 1px #222;'>"+f[2]:"'>")+"</div></td><td rowspan=1 style='width:33%;height:"+h/2+"em;' class=gray>"+Pa(B.s)+"</td></tr><tr><td rowspan=2><div id=sc3 style='height:"+1*h+"em;padding:0.2em 0;"+(B.H[3]?"border:solid 1px #222;'>"+f[3]:"'>")+"</div></td><td rowspan=2><div id=sc1 style='height:"+1*h+"em;padding:0.2em 0;"+(B.H[1]?"border:solid 1px #222;'>"+
f[1]:"'>")+"</div></td></tr><tr><td rowspan=2><div id=sc0 style='height:"+1*h+"em;padding:0.2em 0;"+(B.H[0]?"border:solid 1px #222;'>"+f[0]:"'>")+"</div></td></tr><tr><td rowspan=1 id=info0 style='height:"+h/2+"em;'>"+(a||"")+"</td><td rowspan=1 id=info2 style='height:"+h/2+"em;'>"+(g||"")+"</td></tr><tr><td></td><td rowspan=1 id=info1 style='position:relative;'>"+(d||"")+"</td><td></td></tr></table>"}function a(c,a){return B.H[a].length?"<tr><td align=center style='border:solid 1px #222;padding:0.5em;'>"+
eb(B.H[a])+"<table cellpadding=0 cellspacing=0 align=center><tr><td align=right style='width:6em;'>"+100*c[2*a+0]+"</td><td align=right style='width:5em;'>"+b(c[2*a+1].toFixed(1))+"</td>"+(16==c.length?"<td align=right style='width:4em;'>"+b(c[2*a+8],"枚")+"</td>":"")+"<td style='width:3em;'></td></tr></table></td></tr>":""}function c(c,b){for(var a,d=0;a=Z["yaku"+d];++d)a.childNodes[0].style.opacity=a.childNodes[1].style.opacity=0;Z.sc0.style.opacity=Z.sc1.style.opacity=Z.sc2.style.opacity=Z.sc3.style.opacity=
Z.total.style.opacity=0;Z.ok.disabled=!0;var e=!!c.doraHaiUra;e&&(Z.info2.style.opacity=0);var f=!!c.yakuman,h=-(f?3E3:750),g=0;lc().bd=function(c){if(0>h)return h+=c,0<h&&(h=0),1;0==h&&Kb(f&&0==g?41:11,0,0);var a=Math.min(1,h/(f?3E3:600)),k=Z["yaku"+g];k.childNodes[0].style.opacity=k.childNodes[1].style.opacity=a;g==d-1&&(e&&(Z.info2.style.opacity=a),Z.sc0.style.opacity=Z.sc1.style.opacity=Z.sc2.style.opacity=Z.sc3.style.opacity=Z.total.style.opacity=a);h+=c;1==a&&(g++,h=-(~B.s&2048&&e&&g==d-1?1200:
250));return g<d?1:(b(),0)}}var g={TAIKYOKU:"對局",SAIKAI:"再開",KANSEN:"觀戰"};return{TAIKYOKU:function(c,a){var b="TAIKYOKU"==c.tag;a.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>"+g[c.tag]+"</div>"+d(c,"",b?"<button name=ok style='padding:0 2em;'>OK</button>":"<button disabled style='font-size:150%'>"+decodeURIComponent(c.msg||"WAIT")+"</button>");Dc(a);b&&ic.o(-B.mb-5E3)},AGARI:function(a,b){var e="";Kb(10,0,0);a.ten=p(a.ten);a.chip=p(a.chip);
for(var f=a.who!=a.fromWho,g=0,l=0;l<a.chip.length;l+=2)g+=a.chip[l+1];var g=g?g+v(f?"枚":"枚∀"):"",h;h=f?a.ten[1]+v("点"):xa[(B.s&16?0:2)+(B.na==a.who?1:0)][a.ten[1]]+v(B.na==a.who?"点∀":"点");var e=e+"<div id=total style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:250%;'>",w=[];if(a.yakuman){a.yakuman=p(a.yakuman);e+=v("役滿")+h+g;for(l=0;l<a.yakuman.length;l+=1)w.push([oa[a.yakuman[l]],2*l<a.chip.length?a.chip[2*l+1]+v("枚"):""]);for(l*=2;l<a.chip.length;l+=
2)w.push([oa[a.chip[l+0]],a.chip[l+1]+v("枚")])}else{a.yaku=p(a.yaku);for(var E=qa[a.ten[2]],z=0,l=0;l<a.yaku.length;l+=2)z+=a.yaku[l+1];if(30==a.ten[0]&&4==z||60==a.ten[0]&&3==z)!f&&B.s&16?a.ten[1]==(B.na==a.who?8E3:6E3)&&(E=qa[1]):a.ten[1]==(B.na==a.who?12E3:8E3)&&(E=qa[1]);~B.s&2048&&(e+=(E?"":a.ten[0]+v("符")+z+v("飜"))+v(E)+h+g);for(f=l=0;l<a.yaku.length;l+=2)g=a.yaku[l+1]+v(B.s&2048?"点":"飜"),f<a.chip.length&&a.yaku[l+0]==a.chip[f+0]&&(g+=a.chip[f+1]+v("枚"),f+=2),w.push([oa[a.yaku[l+
0]],g])}e+="</div><table cellpadding=0 cellspacing=0 style='width:100%;font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:150%;'><tr>";l=4>w.length?0:Math.ceil(w.length/2);for(f=0;f<w.length;++f){if(0==f||f==l)e+="<td width=50% align=center valign=top><table cellpadding=0 cellspacing=0>";e+="<tr id=yaku"+f+">";e+="<td align=left style='position:relative;'>"+w[f][0]+"</td>";e+="<td align=left style='position:relative;'>　"+w[f][1]+"</td>";e+="</tr>";if(f==l-1||f==w.length-1)e+="</table></td>"}e+=
"</tr></table>";w=p(a.doraHai);for(l=a.doraHaiUra?p(a.doraHaiUra):[];5>w.length;)w.push(136);for(;5>l.length;)l.push(136);e+=d(a,"","<button name=ok style='width:100%;padding:0 1em;'>OK</button>","");b.innerHTML=e;Dc(b);N.va(Z.info0,"",0,1,w[0],w[1],w[2],w[3],w[4]);N.va(Z.info2,"",0,1,l[0],l[1],l[2],l[3],l[4]);3!=B.a&&c(a,function(){Z.ok.disabled=!1;if(!a.owari){var c=(B.s&8?7:3)-(B.s&16?1:0);ic.o(0==B.R[0]&&0==B.R[1]?-B.mb:c<=B.R[0]?-B.Bb:-B.Ab)}})},RYUUKYOKU:function(a,c){c.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>"+
(a.type?wa[a.type]:"流局")+"</div>"+d(a)+"<button name=ok style='padding:0 2em;'>OK</button>";Dc(c);2!=B.a||a.owari||(Z.ok.disabled=!0);if(!a.owari){var b=(B.s&8?7:3)-(B.s&16?1:0);ic.o(0==B.R[0]&&0==B.R[1]?-B.mb:b<=B.R[0]?-B.Bb:-B.Ab)}},OWARI:function(c,b){B.ga();bc.Y();var d;d=c.sc;d=d.split(",");for(var e=0;e<d.length;++e)d[e]=Number(d[e]);var f,e=[0,1,2,3];for(f=1;4>f;++f)if(!(d[2*e[f-1]+1]>=d[2*e[f]+1])){var g=e[f];e[f]=e[f-1];e[f-1]=g;f=0}f="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>終局</div><table cellpadding=0 cellspacing=0 width=75% align=center style='text-align:center;'>"+
a(d,e[0]);f+=a(d,e[1]);f+=a(d,e[2]);f+=a(d,e[3]);f+="</table>";lc().Pc=Fc(1500);b.innerHTML=f+"<button name=ok style='padding:0 2em;'>OK</button>";Dc(b)}}}());A.KANSEN=A.SAIKAI=A.TAIKYOKU;$a(A,function(){function b(a){var c=Z.panes.childNodes,b=c.length;f=(f+a+b)%b;for(a=0;a<b;++a)c[a].style.display=a==f?"":"none";Z.paneDisp.innerHTML=c[f].firstChild.innerHTML+v(" / "+K(10))}function d(){M.a=~~J.yama;0==M.a&&J.desktop&&(M.a=1);Ob();B.ga();B.connected=15;B.s=1;B.UN({tag:"UN",n0:"COM",n1:"COM",n2:"COM",n3:"COM",sx:",,,"});B.ia({tag:"REINIT",seed:"2,1,1,5,5,57",ten:"123,234,345,456",oya:"0",hai0:"1,3,6,16,21,41,49,53,75,116,117,121,135",hai1:"1,3,6,16,21,41,49,53,75,116,117,121,135",
kawa0:"46,125,82,128,73,94,66,130,131,55,5,126,38,124",kawa1:"108,120,11,74,76,50,42,78,67,70",kawa2:"119,32,29,65,2,104,5,126,38,124",kawa3:"122,127,4,112,107,77,129,69,109,106,123"});R.L();J.desktop&1?(u.b.style.display="",u[1572868].innerHTML="",u.S(126976)):u.b.style.display="none"}function a(a){Nb("hideid",~~a.target.checked,0)}function c(){Z.cfgDefaultSE.checked?(Z.cfgUseDefaultSE0.style.display="none",Z.cfgSE.value="",g()):Z.cfgUseDefaultSE0.style.display=""}function g(){var a=Z.cfgSE.value;
Eb(a)?(J.se=a,xc()):(J.removeItem("se"),xc(),a&&x.o(K(35)))}function e(a){Nb("autowin",~~a.target.checked,0)}var f=0,m={iH:0,iS:10,iV:7,hR:0,hG:0,hB:0},n=8;return{CONFIG:function(f,l){bc.v.canvas.style.visibility="";d();var h;h="<div id=paneDisp style='font-size:125%;pointer-events:none;'>　</div><hr><div id=panes style='height:12em;'>"+("<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+K(11)+"</span><span class=bth>"+K(14)+":</span><div class=select-wrapper><button name=sco></button></div><br>"+
v(K(16))+"<br><br><input type=checkbox id=cfgSelShowID /><label class=bth for=cfgSelShowID>"+K(17)+"</label><br>"+v(K(18))+"<br></div>");h+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+K(12)+"</span><span class=bth>"+K(19)+":</span><div class=select-wrapper><button name=cpt></button></div><br>"+v(K(21))+"<br><br><span class=bth>"+K(22)+":</span><div class=select-wrapper><button name=dtp></button></div><br>"+v(K(23))+"<br></div>";h+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+
K(12)+"</span><span class=bth>"+K(26)+":</span><div class=select-wrapper><button name=lth></button></div><br>"+v(K(27))+"<br><br><br><span class=bth>"+K(24)+":</span><div class=select-wrapper><button name=yam></button></div><br></div>";h+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+K(13)+"</span><br><input type=checkbox id=cfgDefaultSE /><label class=bth for=cfgDefaultSE>"+K(29)+"</label> <div class=select-wrapper><button name=sevol></button></div><br><br><div id=cfgUseDefaultSE0>"+
K(30)+"<input name=cfgSE style='width:100%;font-size:125%;'/><br></div></div>";h+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+K(31)+"</span><br><input type=checkbox id=cfgUseDefaultIMG /><label class=bth for=cfgUseDefaultIMG>"+K(32)+"</label><br><br><div id=cfgUseDefaultIMG1><div class=select-wrapper><button name=iH style='width:4em;'></button></div><div class=select-wrapper><button name=iS style='width:4em;'></button></div><div class=select-wrapper><button name=iV style='width:4em;'></button></div><br>"+
v(K(34))+"<br></div><div id=cfgUseDefaultIMG0>"+K(33)+":"+v("(.jpg|.png|.gif)")+"<input name=cfgBGIMG style='width:100%;font-size:125%;'/><br></div></div>";h+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+K(36)+"</span><br><br><div class=bth>"+K(37)+":</div><div class=select-wrapper><button name=hR style='width:4em;'></button></div><div class=select-wrapper><button name=hG style='width:4em;'></button></div><div class=select-wrapper><button name=hB style='width:4em;'></button></div><br></div>";
h+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+K(41)+"</span><br><input type=checkbox id=cfgDefaultAutoWin /><label class=bth for=cfgDefaultAutoWin>"+K(42)+"</label> <br><br></div>";l.innerHTML=h+"</div><hr><button name=cfgPrev class=ra1 style='width:33%;'>&laquo;</button><button name=cfgNext class=ra2 style='width:33%;'>&raquo;</button><button name=cfgClose style='width:34%;'>CLOSE</button>";Dc(l);Z.cfgSelShowID.checked=!!J.hideid;Z.sco.disabled=!tb;Ua(Z.cfgSE,
"change",g);Ua(Z.cfgBGIMG,"change",A["#iV"]);Ua(Z.cfgSelShowID,"change",a);Ua(Z.cfgDefaultSE,"change",c);Ua(Z.cfgDefaultAutoWin,"change",e);Ua(Z.cfgUseDefaultIMG,"change",A["#iV"]);J.se?Z.cfgSE.value=J.se:Z.cfgDefaultSE.checked=!0;Db(J.backgroundImage)?Z.cfgBGIMG.value=J.backgroundImage:Z.cfgUseDefaultIMG.checked=!0;Z.cfgDefaultAutoWin.checked=!!J.autowin;A["#sco"]();A["#yam"]();A["#sevol"]();A["#cpt"]();A["#hB"]();A["#iV"]();A["#dtp"]();A["#lth"]();b(0);c()},hB:function(a){for(var c="iH"==a.name?
36:16,b="",d=0;d<c;++d)b+="<div class=A id='#"+a.name+"-"+d+"'>"+d+(d==m[a.name]?"<div class=desc>(default)</div>":"")+"</div>";x.Z(b,"",0)},"#iV":function(a,c){var b=J.backgroundImage,d="000100070";b&&b.match(/^\d{9}$/)&&(d=b);var e=~~d.substr(0,3),f=~~d.substr(3,3),g=~~d.substr(6,3);if(Z.cfgUseDefaultIMG.checked){Z.cfgUseDefaultIMG0.style.display="none";Z.cfgUseDefaultIMG1.style.display="";if(a)switch(d=10*~~c,a){case "#iH":e=d;break;case "#iS":f=d;break;case "#iV":g=d}d=jb(3,e)+jb(3,f)+jb(3,g);
Nb("backgroundImage",d,"000100070")}else Z.cfgUseDefaultIMG0.style.display="",Z.cfgUseDefaultIMG1.style.display="none",(d=Z.cfgBGIMG.value)?Db(d)?J.backgroundImage=d:a&&a.target==Z.cfgBGIMG&&x.o(K(35)):J.removeItem("backgroundImage");b!=J.backgroundImage&&Ob();Z.iH.innerHTML=v("H:")+~~(e/10);Z.iS.innerHTML=v("S:")+~~(f/10);Z.iV.innerHTML=v("V:")+~~(g/10)},"#hB":function(a,c){var b=J.msk,d=b||"000000",e=parseInt(d.substr(0,2),16),f=parseInt(d.substr(2,2),16),g=parseInt(d.substr(4,2),16);if(a)switch(d=
17*~~c,a){case "#hR":e=d;break;case "#hG":f=d;break;case "#hB":g=d}d=jb(2,e.toString(16))+jb(2,f.toString(16))+jb(2,g.toString(16));Nb("msk",d,"000000");Z.hR.innerHTML=v("R:")+~~(e/17);Z.hG.innerHTML=v("G:")+~~(f/17);Z.hB.innerHTML=v("B:")+~~(g/17);b!=J.msk&&Ob()},sco:function(){x.Z("<div class=A id='#sco-0'>"+K(15)[0]+"</div><div class=A id='#sco-1'>"+K(15)[1]+"</div><div class=A id='#sco-2'>"+K(15)[2]+"</div>","",0)},"#sco":function(a,c){var b=J.scro,b=~~(a?c:b);Nb("scro",b,0);tb&&q.screen.orientation.lock&&
q.screen.orientation.lock(1==b?"portrait":2==b?"landscape":"any");Z.sco.innerHTML=K(15)[b]},yam:function(){x.Z("<div class=A id='#yam-0'>"+K(25)[0]+"</div><div class=A id='#yam-1'>"+K(25)[1]+"</div><div class=A id='#yam-2'>"+K(25)[2]+"</div>","",0)},"#yam":function(a,c){var b=J.yama,e=~~(a?c:b);Nb("yama",e,0);Z.yam.innerHTML=K(25)[e];b!=e&&d()},sevol:function(a){for(var c="",b=~~(J.sevol||5),d=0;10>=d;++d)c+="<div class='A"+(d==b?" _selected_":"")+"' id='#"+a.name+"-"+d+"'>"+d+(0==d?"<div class=desc>(off)</div>":
5==d?"<div class=desc>(default)</div>":"")+"</div>";x.Z(c,"",0)},"#sevol":function(a,c){var b=~~(J.sevol||5),b=~~(a?c:b);Nb("sevol",b,5);Z.sevol.innerHTML=K(28)+":"+b;wc();arguments.length&&(console.log(n),Kb(n,0,0),n=(n+1)%25,0!=n&&2!=n||n++)},cpt:function(){x.Z("<div class=A id='#cpt-0'>"+K(20)[0]+"</div><div class=A id='#cpt-1'>"+K(20)[1]+"</div><div class=A id='#cpt-2'>"+K(20)[2]+"</div>","",0)},"#cpt":function(a,c){var b=~~(a?c:J.cptype);Nb("cptype",b,0);S.L();Z.cpt.innerHTML=K(20)[b]},dtp:function(){x.Z("<div class=A id='#dtp-0'>"+
K(25)[0]+"</div><div class=A id='#dtp-1'>"+K(25)[1]+"</div><div class=A id='#dtp-2'>"+K(25)[2]+"</div>","",0)},"#dtp":function(a,c){var b=J.desktop;3==b&&(b=0);var e=~~(a?c:b);Z.dtp.innerHTML=K(25)[e];0==e&&xb&&(e=3);Nb("desktop",e,0);b!=e&&d()},lth:function(){x.Z("<div class=A id='#lth-0'>"+K(25)[0]+"</div><div class=A id='#lth-1'>"+K(25)[1]+"</div><div class=A id='#lth-2'>"+K(25)[2]+"</div>","",0)},"#lth":function(a,c){var b=J.lthai,e=~~(a?c:b);Nb("lthai",e,0);Z.lth.innerHTML=K(25)[e];b!=e&&d()},
cfgPrev:function(){b(-1)},cfgNext:function(){b(1)},cfgClose:function(){u.ma(11)}}}());A["#iH"]=A["#iS"]=A["#iV"];A.iH=A.iS=A.iV=A.hR=A.hG=A.hB;A["#hR"]=A["#hG"]=A["#hB"];$a(A,function(){function b(a,c){for(var b=0;b<c.length;++b){var d=c[b],f="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;'>",m="javascript:void(0)",f=f+"<table cellpadding=0 cellspacing=0 width=100% height=100%><tr>",f=f+("<td rowspan=3 class=gray width=6% >"+(b+1)+".</td>");if(d){var m="https://tenhou.net/0/?log="+d.log+"&tw="+(4-~~d.oya)%4,f=f+"<td colspan=2>",f=f+(v(K(200)+" | ")+d.log.substr(4,2)+"/"+d.log.substr(6,2)+v(" | ")),f=f+Pa(d.type),n=d.lobby;
n&&(f+=" "+(1E4>n?"L":"C")+jb(4,n));var f=f+"</td>",f=f+"</tr><tr>",n=d.uname,k=~~d.oya;if(d=d.sc){for(var d=d.split(","),l=0;l<d.length;++l)d[l]=Number(d[l]);for(l=0;4>l;++l)f+="<td width=47% >",n[l]&&(f=l?f+("ABCD".substr((l+4-k)%4,1)+":"):f+(0+~~(n[1]&&d[3]>d[1])+~~(n[2]&&d[5]>d[1])+~~(n[3]&&d[7]>d[1])+1+"位 "),f+=eb(n[l])+"("+kb(d[2*l+1].toFixed(1))+")"),f+="</td>",1==l&&(f+="</tr><tr>")}else if(n)for(l=0;4>l;++l)f+="<td width=47% >"+eb(n[l])+"</td>",1==l&&(f+="</tr><tr>")}f+="</tr></table>";
f+="</div>";f+="<a href='"+m+"' class=bt3 target=_blank></a>";yb("DIV",a,"",{innerHTML:f},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=A.logOpen}yb("DIV",a,"gray",{innerHTML:K(201)},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}function d(a,c){var d=c.split("\n");d[e-1]||d.pop();for(var e=0;e<d.length;++e){var f=d[e].split(" "),m=f[0],n=~~f[1];d[e]={type:parseInt(m.split("-")[1],16),lobby:~~m.split("-")[2],log:m,oya:(4-n)%4,uname:[f[2+(0+n)%4],f[2+(1+n)%4],f[2+
(2+n)%4],f[2+(3+n)%4]],sc:[0,f[6+(0+n)%4],0,f[6+(1+n)%4],0,f[6+(2+n)%4],0,f[6+(3+n)%4]].join()}}a.innerHTML="";e=yb("DIV",a,"",{innerHTML:"<a class=bt3 href='https://tenhou.net/mjlog.html' target=_blank style='padding:1em 0;'>"+K(204)+"</a>"},{textAlign:"center"});e.childNodes[0].onclick=function(){A.lc(a);return!1};e=yb("DIV",a,"bt3",{innerHTML:K(203)},{textAlign:"center",padding:"0.5em 0"});b(a,d.reverse())}return{lc:function(a){a.innerHTML="";yb("DIV",a,"",{innerHTML:"<a class=bt3 href='https://tenhou.net/mjlog.html' target=_blank style='padding:1em 0;'>"+
K(202)+"</a>"},{textAlign:"center"}).childNodes[0].onclick=function(){a.innerHTML="<br>L O A D I N G ...";gb("https://tenhou.net/0/log/find.cgi?un="+J.uname+"&raw=1",function(c){d(a,c)},function(){alert("DOWNLOAD ERROR")});return!1};for(var c=[],g=~~J.lognext,e=0;40>e;++e){var f=(g+40-1-e)%40;try{c.push(JSON.parse(J["log"+f]))}catch(m){}}b(a,c)},logOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)&&(a=a.target,a=a.href.split(/\?log=|&tw=/),1!=a.length))return t.log=a[1],t.TW=t.tw=
~~a[2],t.ts=0,u.ma(11),!1}}}());$a(A,function(){function b(){Z.wgF0.innerText=g&2?"四":g&4?"三":"－";Z.wgF1.innerText=g&8?"東":g&16?"南":"－";Z.wgF2.innerText=g&32?"雀":g&64?"特":g&128?"鳳":"－"}function d(){var b=Z.klist;b.innerHTML="";var d=0;if(c)for(var m=0;m<c.length;++m){var n="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;'>",n=n+"<table cellpadding=0 cellspacing=0 width=100% height=100%>",n=n+("<tr><td rowspan=3 class=gray width=6%>"+
(d+1)+".</td>"),k,l=c[m],h=~~l[3];if(g&6){if(~h&16&&~g&2)continue;if(h&16&&~g&4)continue}if(g&24){if(~h&8&&~g&8)continue;if(h&8&&~g&16)continue}if(g&224&&0==a){if(0!=(h&1536)&&~g&32)continue;if(!(h&3584)&&2==Ba(h)&&~g&64)continue;if(!(h&3584)&&3==Ba(h)&&~g&128)continue}k="https://tenhou.net/0/?wg="+l[0];for(var w=[l[4],l[7],l[10],l[13]],E=0;4>E;++E)w[E]&&(w[E]=decodeURIComponent(escape(atob(w[E]))));for(var z=[~~l[5],~~l[8],~~l[11],~~l[14]],C=[~~l[6],~~l[9],~~l[12],~~l[15]],n=n+("<td colspan=2>"+
v(K(210)+" | ")+l[2]+v(" | ")+Pa(h)+"</td></tr><tr>"),E=0;4>E;++E)w[E]&&(n+="<td width=47%>",n+="<span class=dan"+z[E]+">"+pa[z[E]]+"</span>"+v("R")+C[E]+v("/")+w[E],n+="</td>",1==E&&(n+="</tr><tr>"));n+="</tr></table>";n+="</div>";n+="<a href='"+k+"' class=bt3 target=_blank></a>";yb("DIV",b,"",{innerHTML:n},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=A.wgOpen;++d}d||(b.innerHTML="<br>"+K(211));yb("DIV",b,"gray",{innerHTML:K(212)},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}
var a,c,g=128;return{$c:function(e){a=e;gb("https://mjv.jp/0/wg/"+(1E4>a?jb(4,a):a)+".js",function(a){if(c=a.substr(3,a.length-3-2))try{c=JSON.parse(c)}catch(m){return}if(c)for(a=0;a<c.length;++a)c[a]=c[a].split(",");d()});d();b();Z.wgF2.style.display=0==a?"":"none"},wgF0:function(){g=g&-7|(g&2?4:g&4?0:2);b();d()},wgF1:function(){g=g&-25|(g&8?16:g&16?0:8);b();d()},wgF2:function(){g=g&-225|(g&32?64:g&64?128:g&128?0:32);b();d()},wgOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey))return a=
a.target,t.wg=a.href.split("?wg=")[1],t.TW=t.tw=0,u.ma(11),!1}}}());var Gc=[1,65,9,73,17,81,25,89,129,193,137,201,145,209,153,217,33,97,41,105,49,113,57,121,161,225,169,233,177,241,185,249,1057,545,1569,1065,553,1577,1585,1593],Hc=[7,3,15,11,135,131,143,139,39,35,47,43,167,163,175,171];function Ic(b){var d=b%10;b%=100;return 1==d&&11!=b?K(281)[0]:2==d&&12!=b?K(281)[1]:3==d&&13!=b?K(281)[2]:K(281)[3]}
$a(A,function(){function b(a){function c(a){return a.replace(RegExp("[^ⒶⒷⒸⒹⒺⒻⒼⒽⒾⒿⓀⓁⓂⓃⓄⓅⓆⓇⓈⓉⓊⓋⓌⓍⓎⓏⓐⓑⓒⓓⓔⓕⓖⓗⓘⓙⓚⓛⓜⓝⓞⓟⓠⓡⓢⓣⓤⓥⓦⓧⓨⓩ]","g"),"")}var b=A[0];return(a=c(a))&&a!=c(b)}function d(){return(""+(J.rule||"")).split(",")}function a(){function a(a,
c){var d=b[a].childNodes[1];d.className="";d.innerHTML=c}function c(c,b,d){a(c,b==d?"1.00":(b/d).toFixed(3).substr(1))}if(Z.pftab){Z.pftab.style.display="none";Z.pftab_.style.display="";for(var b=Z.pftab.getElementsByTagName("TR"),e=1;e<b.length;++e)if(!(2>b[e].childNodes.length)){var h=b[e];h.style.borderBottom="1px solid #444";h=b[e].childNodes[0];h.className="gray";h.style.textAlign="left";h=b[e].childNodes[1];h.innerHTML="-";h.className="gray";h.style.textAlign="right"}b[16].childNodes[0].innerHTML=
"";if(e=~~d()[4]){var f,h=4,g=0,k="";switch(E(e)){case 4:h=4;g=0;f=A[17];k=K(240);break;case 3:h=3;g=0;f=A[16];k=K(241);break;case 601:h=4;g=0;f=A[18];break;case 602:h=4;g=2;f=A[19];break;case 603:h=4;g=5;f=A[20];break;case 611:h=4;g=0;f=A[21];break;case 612:h=4;g=2;f=A[22];break;case 613:h=4;g=5;f=A[23];break;case 623:h=3;g=5;f=A[24];break;case 633:h=3,g=5,f=A[25]}b[16].childNodes[0].innerHTML=k;f&&(Z.pftab.style.display="",Z.pftab_.style.display="none",k=~~f[4]+~~f[5]+~~f[6]+~~f[7])&&(c(1,f[4],
k),c(2,f[5],k),c(3,f[6],k),4==h&&c(4,f[7],k),c(5,f[8],k),a(6,k),a(7,(0<f[3]?"+":"")+(f[3]/k).toFixed(1)),a(8,((1*~~f[4]+2*~~f[5]+3*~~f[6]+4*~~f[7])/k).toFixed(2)),0!=(e&1536)&&(e=1*f[3]+f[0]*g,a(9,(0<e?"+":"")+(e/k).toFixed(1)),a(10,(~~f[0]/k).toFixed(2))),c(11,f[10],f[9]),c(12,f[11],f[9]),c(13,f[12],f[9]),c(14,f[13],f[9]),a(15,~~f[2]))}}}function c(a){function c(a){for(var c,b=1;b<arguments.length;++b)c=f[a].childNodes[b],c.className="",c.innerHTML=arguments[b]}function b(a,b,d){c(a,b,(d?d:"- ")+
v(Ic(d)))}function e(a,b,d,e){c(a,b==d?"1.00":(b/d).toFixed(3).substr(1),(e?e:"- ")+v(Ic(e)))}var h=Z.rnktab;if(h){Z.rnktab.style.display="none";Z.rnktab_.style.display="";for(var f=h.getElementsByTagName("TR"),g=1;g<f.length;++g){var h=f[g],k=h.childNodes;if(!(2>k.length)){16!=g&&18!=g&&(h.style.borderBottom="solid 1px #444");k[0].style.textAlign="left";k[0].className="gray";for(var l=1;l<k.length;++l)h=k[l],h.className="gray",h.style.textAlign="right",h.style.paddingLeft="0.5em",1!=g&&6!=g&&(h.innerHTML=
"-")}}c(18,v("-"));h=~~d()[3];W.Na!=h&&(W.Na=h,W.K('<PXR V="'+h+'" />'));if(h&&(Z.rnktab.style.display="",Z.rnktab_.style.display="none",a&&(a=a.v2.split(","),15==a.length||21==a.length))){var g=~~a[0],k=~~a[1],l=~~a[2],m=~~a[3],n=g+k+l+m,w=a[4],I;switch(E(h)){case 4:I=A[17][2];break;case 3:I=A[16][2];break;case 601:I=A[18][2];break;case 602:I=A[19][2];break;case 603:I=A[20][2];break;case 611:I=A[21][2];break;case 612:I=A[22][2];break;case 613:I=A[23][2];break;case 623:I=A[24][2];break;case 633:I=
A[25][2]}var y=~~a[6],z=~~a[7],D=~~a[8],C=~~a[9],F=~~a[10],da=~~a[11],ia=~~a[12],ra=~~a[13],Sa=~~a[14];if(n){var ya=h&16?30*g+0*k+-30*l:30*g+10*k+-10*l+-30*m,za=h&16?1*g+2*k+3*l:1*g+2*k+3*l+4*m,ua=g+k,va=h&16?l:m;b(2,kb(w),z);b(7,kb((w/n).toFixed(1)),D);b(3,kb(ya),C);b(8,(za/n).toFixed(2),F);e(11,g,n,da);~h&16&&e(12,ua,n,ia);e(13,va,n,ra)}if(21==a.length){var w=a[15],da=a[16],ta=~~a[17],sa=~~a[18],ia=~~a[19],ra=~~a[20];b(4,kb(w),ta);b(9,kb((w/n).toFixed(1)),sa);b(5,kb(da),ia);b(10,kb((da/n).toFixed(2)),
ra)}w="-";15==a.length&&D&&(w=z+D+C+F);21==a.length&&sa&&(w=ta+sa);b(15,~~I,Sa);b(16,w,y);c(18,g+v(" + ")+k+v(" + ")+l+(h&16?"":v(" + ")+m)+v(" = ")+n)}}}function g(a){a=a.rankingcs.split(",");var c="",b=K(256),d=K(263),e="",h="-",f=[],g="- -";a[0]=a[0]||y.ranking;if("sc3m"==a[0]||"sc3c0m"==a[0]||"sc3c2m"==a[0]||"sc3c5m"==a[0])b=K(257),"sc3c2m"==a[0]&&(d=K(264)),"sc3c5m"==a[0]&&(d=K(265)),e=K(259),a[8]&&(g=a[8]),a[6]&&(h=kb(Number(a[6]).toFixed(1))),a[3]&&f.push(kb(Number(a[3]).toFixed(1))),a[2]&&
f.push(kb(Number(a[2]).toFixed(1))),a[1]&&f.push(kb(Number(a[1]).toFixed(1))),f.length&&f.push("= "+kb((1*a[1]+1*a[2]+1*a[3]).toFixed(1)));else if("sc5m"==a[0]||"sc5c0m"==a[0]||"sc5c2m"==a[0]||"sc5c5m"==a[0])b=K(258),"sc5c2m"==a[0]&&(d=K(264)),"sc5c5m"==a[0]&&(d=K(265)),e=K(260),a[9]&&(g=a[9]),a[7]&&(h=kb(Number(a[7]).toFixed(1))),a[5]&&f.push(kb(Number(a[5]).toFixed(1))),a[4]&&f.push(kb(Number(a[4]).toFixed(1))),a[3]&&f.push(kb(Number(a[3]).toFixed(1))),a[2]&&f.push(kb(Number(a[2]).toFixed(1))),
a[1]&&f.push(kb(Number(a[1]).toFixed(1))),f.length&&f.push("= "+kb((1*a[1]+1*a[2]+1*a[3]+1*a[4]+1*a[5]).toFixed(1)));f=f.length?f.join(" "):"--";c+="<div style='display:inline-block;text-align:left;'>"+v(K(255))+"　"+b+"<br>"+v(K(261))+"　"+h+"　"+v(K(262))+"　"+d+"</div>";c+="<div style='font-size:375%;padding:0.1em 0;'>"+g+Ic(g)+"</div>";c+=v(e)+" "+f+"<br>";Z.csranking.innerHTML=c}function e(){if(N[4096]&&N[4096].complete&&N[4196]&&N[4196].complete&&N[4296]&&N[4296].complete&&N[4396]&&
N[4396].complete&&N[4496]&&N[4496].complete)return!0;x.o(K(215));return!1}function f(a){var c=Z.panes.childNodes,b=c.length;ia=(ia-1+a+b-1)%(b-1)+1;for(a=1;a<b;++a)c[a].style.display=a==ia?"":"none";Z.paneDisp.innerHTML=c[ia].firstChild.innerHTML;Z.panePrev.innerHTML=2>ia?"&laquo;":"　";Z.paneNext.innerHTML=2>ia?"&raquo;":"　";Z.hdr.style.display=c[ia].classList.contains("nohdr")?"none":"";c=c[ia].classList;c.contains("init_tlist")&&(c.remove("init_tlist"),A.qc(Z.tlist));c.contains("init_hlist")&&
(c.remove("init_hlist"),A.lc(Z.hlist));c.contains("init_klist")&&(c.remove("init_klist"),A.$c(F))}function m(a){return(new Date(a.substr(0,4),a.substr(4,2)-1,a.substr(6,2),a.substr(8,2),a.substr(10,2),a.substr(12,2))).getTime()}function n(a){return a.replace(/(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)/,function(a,c,b,d,e,h){return c+"."+b+"."+d+"("+K(250)[(new Date(c,b-1,d)).getDay()]+") "+e+":"+h})}function k(){var a=A[1];Z.expdisp.innerHTML=v(K(218)+":")+(a?a.replace(/(\d\d\d\d)(\d\d)(\d\d)/,"$1.$2.$3"):"- - - -")}
function l(){var a=~~y.players,c=~~y.premiumonly,b=~~y.joinfee,d=y.rule,e=parseInt(d[2],16),h;h=""+(e&8?"東南":"東風")+(e&16?"サンマ":"戦")+" "+(e&4?"喰ナシ":"喰あり")+(e&2?"赤ナシ":"赤あり")+" ";Aa(F,e)&&(h+="速");e&256&&(h+="暗");e&512&&(h+="祝");var f="",g=~~d[3],k=~~d[4],l=~~d[5],m=~~d[6];y.Ea=!!y.join;if(y.Ea){var w=(e&16?A[16]:A[17])[0];g&&k?y.Ea=g<=w&&w<=k:g?y.Ea=g<=w:k&&(y.Ea=w<=k)}y.Ea&&(e=(e&16?A[16]:
A[17])[2],l&&m?y.Ea=l<=e&&e<=m:l?y.Ea=l<=e:m&&(y.Ea=e<=m));g&&k&&g==k?f+=pa[g]+"限定":g&&k?f+=pa[g]+"～"+pa[k]:g?f+=pa[g]+"以上":k&&(f+=pa[k]+"以下");f.length&&(l||m)&&(f+=" & ");l&&m?f+="R"+l+"～R"+m:l?f+="R"+l+"以上":m&&(f+="R"+m+"以下");f.length||(f+="段位R指定なし");f+="<br>";f=b?f+"だれでもOK":c?f+(a?"固定 "+a+" 名(有効期限3日以上)":"有効期限3日以上"):
f+(a?"固定 "+a+" 名":"だれでもOK");a=b?"有効期限"+b+"日分":a?"- - -":c?"なし":"無料";d=""+("<div style='font-size:150%;padding-top:0.25em;'>"+db(y.title)+"</div><hr><table cellpadding=0 cellspacing=0 style='margin:0 auto;text-align:left;'><tr><td><table cellpadding=0 cellspacing=0><tr><td colspan=3>"+v(K(251)+"JST")+"<br></td></tr><tr><td>"+v(K(252))+"</td><td>&nbsp;</td><td>"+n(d[0])+"</td></tr><td>"+v(K(253))+"</td><td></td><td>"+
n(d[1])+"</td></tr></td></tr><tr><td colspan=3 style='padding-top:0.25em;'>"+v(K(254))+"<br>"+h+"</td></tr></table></td><td style='padding:0 0 0 1em;'><table cellpadding=0 cellspacing=0><tr><td>"+v(K(266))+"<br>"+a+"<br></td></tr><tr><td style='padding-top:0.25em;'>"+v(K(267))+"<br>"+f+"</td></tr></table></td></tr></table>");Z.csmain.innerHTML=d;W.K("<DATE />")}function h(){ra=void 0;Z.joincs0&&W.K("<DATE />")}function w(a){return"<div style='margin:0.5em 0;'><div class=select-wrapper><button name=rule id=rule"+
a+" style='width:11.5em;text-align:left;'></button></div><button name=join id=join"+a+" disabled>"+K(216)+"</button></div>"}function E(a){if(0!=(a&1536))switch(a){case 1057:return 601;case 545:return 602;case 1569:return 603;case 1065:return 611;case 553:return 612;case 1577:return 613;case 1585:return 623;case 1593:return 633}else return a&16?3:4}function z(a){return a?(Pa(a)+"　　　").substr(0,6)+"&nbsp;&nbsp;"+D[a]:"SELECT GAME"}function C(a){return a.replace(/,/g,"</td><td>").replace(/\|/g,
"</td></tr><tr><td>").replace(/>\(/g,"><table cellpadding=0 cellspacing=0 width=100% style='border-collapse:collapse;'><tr><td>").replace(/\)</g,"</td></tr></table><")}var F,y,D={n:[],ab:[],Wa:[]},da={},ia=location.search.match(/^\?(C[0-9]{8})/)?2:1,ra;return{Hb:function(){da={};location.search.match(/^\?L([1-9][0-9]{3})/)?(W.K({tag:"LOBBY",id:RegExp.$1}),F=~~RegExp.$1):location.search.match(/^\?(C[0-9]{8})/)?(F=~~("1"+RegExp.$1.substr(1,4)),W.K({tag:"CS",lobby:RegExp.$1})):(F=0,A.o({tag:"LOBBY"}))},
LOBBY:function(b,d){bc.v.canvas.style.visibility="";W.Na=0;if(t.tr||t.tredit)return A.TRAINING({file:t.tr||t.tredit},d);var e="",h=A[17],m=A[16];A[2]||h.length||m.length?(h.length||(h=[0,0,1500]),m.length||(m=[0,0,1500]),h="<tr><td class=gray>四麻:</td><td>"+pa[h[0]]+"</td><td class=gray>R</td><td>"+~~h[2]+"</td><td style='padding:0 0 0 0.25em;'>"+h[1]+"</td><td class=gray>/</td><td>"+Ra[~~h[0]]+"</td><td class=gray>pt</td></tr>",m="<tr><td class=gray>三麻:</td><td>"+pa[m[0]]+"</td><td class=gray>R</td><td>"+
~~m[2]+"</td><td style='padding:0 0 0 0.25em;'>"+m[1]+"</td><td class=gray>/</td><td>"+Ra[~~m[0]]+"</td><td class=gray>pt</td></tr>"):(h="<tr><td class=gray>"+K(219)+"</td></tr>",m="");e=e+"<div id=panes style='height:16em;'>"+("<div id=hdr><table cellpadding=0 cellspacing=0 style='width:100%;white-space:nowrap;text-align:right;'><tr><td><table cellpadding=0 cellspacing=0 style='width:100%;'><tr><td style='text-align:left;'>"+v(K(220)+":")+"<span id=lnn0>"+~~D.n[0]+"</span> "+v(K(221)+":")+"<span id=lnn2>"+
~~D.n[2]+"</span> "+v(K(222)+":")+"<span id=lnn3>"+~~D.n[3]+"</span> </td></tr><tr><td><span id=iddisp>"+eb(A[0])+"</span> <span id=expdisp></span></td></tr></table></td><td rowspan=2 style='width:1px;padding-left:0.25em;'><table cellpadding=0 cellspacing=0 align=right>"+h+m+"</table></td></tr></table><div style='display:none;'></div><hr></div>");e+="<div style='display:none;padding:1em 1em;'><span style='display:none;'>　</span><div id=lbinfo style='height:3em;'>"+v((tb?"":K(230))+" "+K(231))+
"</div><br><div class=select-wrapper><button name=testplay>"+K(217)+"</button></div><br><br><br>"+v(K(232))+"</div>";1E4>F?e+="<div style='display:none;padding:0.25em 0;'><span style='display:none;'>"+(0==F?"対戦":"個室L"+jb(4,F))+"</span>"+w(0)+w(1)+w(2)+"</div>":2E4>F&&(e+="<div style='display:none;'><span style='display:none;'>大会C"+jb(4,F%1E4)+"</span><div id=csmain style='height:9em;'></div><span style='font-size:150%;padding:0 1em;'>"+v(K(268))+"<span id=lnj0>"+~~D.ab[0]+
"</span>"+v(K(270))+" "+v(K(269))+"<span id=lng0>"+~~D.Wa[0]+"</span>"+v(K(270))+"</span>",e+="<button name=join id=joincs0 disabled>　</button></div>");1E4<=F&&2E4>F&&(e+="<div style='display:none;'><span style='display:none;'>大会C"+jb(4,F%1E4)+"</span><div id=csranking style='height:9em;'></div><span style='font-size:150%;padding:0 1em;'>"+v(K(268))+"<span id=lnj1>"+~~D.ab[0]+"</span>"+v(K(270))+" "+v(K(269))+"<span id=lng1>"+~~D.Wa[0]+"</span>"+v(K(270))+"</span>",e+="<button name=join id=joincs1 disabled>　</button></div>");
0==F?e+=C("<div style='display:none;'><span style='display:none;'>"+K(282)+"</span>"+w(3)+"<table cellpadding=0 cellspacing=0 id=rnktab style='margin:0 auto;'><tr><td valign=top style='min-width:10em;'>(,"+K(283)[0]+","+K(283)[1]+"|"+K(283)[2]+",,|"+K(283)[3]+",,|"+K(283)[4]+",,|"+K(283)[5]+",,)</td><td style='width:0.5em;'></td><td valign=top style='min-width:7em;'>(,"+K(283)[6]+","+K(283)[7]+"|,,|,,|,,|,,)</td><td rowspan=2 style='width:1em;'></td><td rowspan=2 valign=top style='min-width:11em;'>("+
K(283)[8]+",,|"+K(283)[9]+",,|"+K(283)[10]+",,|<div style='border-bottom:1px solid transparent;'>&nbsp;</div>|"+K(283)[12]+",,|"+K(283)[13]+",,)</td></tr><tr><td colspan=3 align=right style='padding:0;'><table cellpadding=0 cellspacing=0 style='border-collapse:collapse;'><tr><td style='padding-right:0.5em;'>"+K(283)[14]+",</td></tr></table></tr></table><div id=rnktab_><br><br>"+v(K(280))+"</div></div>"):(e+="<div style='display:none;'><span style='display:none;'>"+(1E4>F?"個室L":"大会C")+
jb(4,F%1E4)+"</span><div style='height:8.5em;border:1px solid #444;text-align:left;margin-bottom:0.5em;position: relative;'><button name=chatInput style='font-size:100%;position:absolute;right:0;top:8.5em;'>&middot;&middot;&middot;</button><div id=chat style='height:100%;font-size:75%;overflow-y:scroll;user-select:text;'><div>#ENTER LOBBY "+F+"</div></div></div>",1E4>F?e+=w(3):2E4>F&&(e+="<span style='font-size:150%;padding:0 1em;'>"+v(K(268))+"<span id=lnj2>"+~~D.ab[0]+"</span>"+v(K(270))+" "+v(K(269))+
"<span id=lng2>"+~~D.Wa[0]+"</span>"+v(K(270))+"</span><button name=join id=joincs2 disabled>　</button>"),e+="</div>");0==F&&(e+=C("<div style='display:none;'><span style='display:none;'>"+K(284)+"</span>"+w(4)+"<table cellpadding=0 cellspacing=0 id=pftab style='margin:0 auto;'><tr><td valign=top style='min-width:6.5em;'>("+K(285)[0]+",|"+K(285)[1]+",|"+K(285)[2]+",|"+K(285)[3]+",|"+K(285)[4]+",)</td><td style='width:1em;'></td><td valign=top style='min-width:8em;'>("+K(285)[5]+",|"+K(285)[6]+
",|"+K(285)[7]+",|"+K(285)[8]+",|"+K(285)[9]+",)</td><td style='width:1em;'></td><td valign=top style='min-width:6.5em;'>("+K(285)[10]+",|"+K(285)[11]+",|"+K(285)[12]+",|"+K(285)[13]+",|"+K(285)[14]+",)</td></tr><tr><td colspan=5 class=gray style='font-size:75%;padding:0.2em;'></td></tr></table><div id=pftab_><br><br>"+v(K(280))+"</div></div>"));e+="<div class='nohdr init_hlist' style='display:none;height:100%;'><span style='display:none;'>"+K(200)+"</span><div style='position:relative;height:100%;'><div class=sscl id=hlist style='position:relative;height:100%;border:solid 1px #222;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>";
e+="<div class='nohdr init_klist' style='display:none;height:100%;'><span style='display:none;'>"+K(210)+"</span><div style='position:relative;height:100%;'><div class=sscl id=klist style='position:relative;height:100%;border:solid 1px #222;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div><button name=wgF0 class='ra0 bgb' style='position:absolute;left:0em;bottom:0em;'>－</button><button name=wgF1 class='ra0 bgb' style='position:absolute;left:2em;bottom:0em;'>－</button><button name=wgF2 class='ra0 bgb' style='position:absolute;left:4em;bottom:0em;'>－</button></div></div>";
e=e+"<div class='nohdr init_tlist' style='display:none;height:100%;'><span style='display:none;'>Trainingβ</span><div style='position:relative;height:100%;'><div class=sscl id=tlist style='position:relative;height:100%;border:solid 1px #222;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>"+("<div style='display:none;padding:2em 0'><span style='display:none;'>Tools</span> <button name=openurl>OpenURL</button> <button name=help>"+K(286)+"</button> <button name=hairi>"+
K(287)+"</button><br><br><button name=purchase>"+K(288)+"</button><br></div>");qb&&(e+="<div style='display:none;'><span style='display:none;'>Caution</span><div style='padding:1em 4em;'>"+K(213)+"</div></div>");e+="</div><hr>";h=!!Object.keys(da).length;d.innerHTML=e+("<table cellpadding=0 cellspacing=0 style='width:100%;'><tr><td style='position:relative;vertical-align:middle;'><div id=paneDisp style='position:absolute;font-size:300%;width:100%;padding:0.25em 0;pointer-events:none;'>　</div><button name=panePrev class=ra1 style='font-size:300%;width:50%;height:1.5em;'>　</button><button name=paneNext class=ra2 style='font-size:300%;width:50%;height:1.5em;'>　</button></td><td style='width:9.5em;'><button name=cancel style='width:100%;height:2.5em;"+
(h?"":"display:none;")+"'>CANCEL</button><button name=logout style='width:100%;height:2.5em;"+(h?"display:none;":"")+"'>LOGOUT</button></td></tr></table>");Dc(d);A["#rule0"]();a();c();k();f(0);1E4<=F&&2E4>F&&(l(),g({rankingcs:""}),W.Na=-1,W.K('<PXR V="-1" />'))},xc:function(a){D.n=a.n.split(",");D.ab=a.j.split(",");D.Wa=a.g.split(",");Z.lnn0&&(Z.lnn0.innerText=~~D.n[0],Z.lnn2.innerText=~~D.n[2],Z.lnn3.innerText=~~D.n[3],A["#rule0"]());for(a=0;3>a;++a)Z["lnj"+a]&&(Z["lnj"+a].innerText=~~D.ab[0]),Z["lng"+
a]&&(Z["lng"+a].innerText=~~D.Wa[0]);return 1},tc:function(a){var c=a.lobby;c&&(4==c.length?(F=~~c,A.o({tag:"LOBBY"})):9==c.length&&(F=~~("1"+c.substr(1,4))));var c=mb.getElementById("chat"),b=a.text;b&&b.length&&(b=decodeURIComponent(b));var d=a.hidden;if(c&&b&&b.length&&"1"!=d){var d=a.uname,e=a.color&&a.color.match(/[0-9A-Fa-f]{6}/)?"#"+a.color:d?"":"#FF0";d&&d.length&&(b=decodeURIComponent(d)+": "+b);a=mb.createElement("DIV");e&&(a.style.color=e);a.innerText=b;d=c.scrollHeight;e=c.scrollTop+1.1*
c.clientHeight;c.appendChild(a);d<=e&&(c.scrollTop=c.scrollHeight)}if(b&&b.match(/^\/prompt /)){var c=b.split(" "),h=c[1],b=~~c[2],g=c[3],k=c[4];a="";for(d=5;d<c.length;++d)a+=c[d]+(d!=c.length-1?" ":"");a=eb(a).replace(/&lt;br&gt;/g,"<br>");x.o(a,3,function(){W.K({tag:"CHAT",text:"/prompt "+h+" "+g})},function(){W.K({tag:"CHAT",text:"/prompt "+h+" "+k})},b,g,k)}else"/attention please"==b&&(ia=4,f(0));return 1},uc:function(a){a&&(y=a,y.rule=(""+(y.rule||"")).split(","),y.csrule=(""+(y.csrule||"")).split(","),
y.join=~~y.join,y.joinfee=~~y.joinfee,y.players=~~y.players,y.premiumonly=~~y.premiumonly);if(Z.joincs0)return l(),1;A.o({tag:"LOBBY"},function(){W.Da()})},vc:function(a){var c=Z.joincs0;if(!c)return 1;a=m(a.t);var d=m(y.rule[0]),e=m(y.rule[1]);if(e<=a)c.innerText=K(277),c.disabled=!0;else if(b(db(y.title)))c.innerText=K(276),c.disabled=!0;else if(y.Ea)if(a<d){var f=(d-a)/1E3;c.innerText=K(278)[0]+(86400<f?(f/24/60/60).toFixed(1)+K(278)[1]:3600<f?(f/60/60).toFixed(1)+K(278)[2]:60<f?(f/60).toFixed(1)+
K(278)[3]:5*~~(f/5)+K(278)[4]);c.disabled=!0}else parseInt(y.csrule[0],16)&1073741824?(c.innerText="- - -",c.disabled=!0):(f=parseInt(y.rule[2],16),c.innerText=K(216),c.disabled=!!da[f]);else y.joinfee?(c.innerText=K(274),c.disabled=!1):y.premiumonly?(c.innerText=K(275),c.disabled=!1):(c.innerText=K(276),c.disabled=!0);Z.joincs1.innerText=Z.joincs2.innerText=c.innerText;Z.joincs1.disabled=Z.joincs2.disabled=c.disabled;ra||(ra=setTimeout(h,a<d-6E4||e<a||d<a&&a<e-3E4?3E4:5E3));return 1},zc:c,Ac:function(a){Z.joincs0&&
g(a)},panePrev:function(){f(-1)},paneNext:function(){f(1)},testplay:function(){x.Z("<div class=A id='#testplay-64'>"+Pa(64)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ 速)</div></div><div class=A id='#testplay-0'>"+Pa(0)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ)</div></div><div class=A id='#testplay-16'>"+Pa(16)+"<div class=desc>(３人打 東風 喰断アリ 赤アリ)</div></div><div class=A id='#testplay-1536'>"+
Pa(1536)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id='#testplay-1552'>"+Pa(1552)+"<div class=desc>(３人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id='#testplay-2064'>東天紅 三麻β<div class=desc>(３人打 東天紅)</div></div>","font-size:80%;text-align:left;",0)},"#testplay":function(a,c){if(e()){var b=
~~c;zb(!0,3,1);Z.cancel.style.display="";Z.logout.style.display="none";W.K({tag:"JOIN",t:F+","+b})}},rule:function(a){A["#rule0"]("#"+a.id)},"#rule0":function(b,e){for(var h=0;h<Ta.length;++h)D[Ta[h]]=~~D.ab[h]+":<div class=n2r>"+~~D.Wa[h]+"</div>";var f=[],g=A[2],k=A[17],l=A[16],m="";b&&void 0===e&&(m+="<div class=A id='"+b+"-0'>SELECT GAME</div>");for(var n=Gc.concat(~~J.swar?Hc:[]),h=0;h<n.length;++h){var w=!0,y=n[h],C=y&16?l:k;if(!F)switch(Ba(y)+4*(0!=(y&1536))){case 0:w=13<=C[0]&&1800<=C[2]?
!1:!0;break;case 1:w=16<=C[0]&&2E3<=C[2]?!1:9<=C[0]||60<=g;break;case 2:w=13<=C[0]&&1800<=C[2]?!0:!1;break;case 3:w=16<=C[0]&&2E3<=C[2]?g:!1;break;case 6:w=13<=C[0]&&1800<=C[2]?g:!1}else if(1E4>F&&Ba(y)+4*(0!=(y&1536)))continue;w?(f[y]=1,m&&(m+="<div class='A nobr'id='"+b+"-"+y+"'>"+z(y)+"</div>")):m&&"#rule3"==b&&(m+="<div class='A nobr' id='"+b+"-"+y+"'>"+Pa(y)+"</div>")}b&&"#rule3"!=b&&m&&!F&&(9<=k[0]||60<=g||(m+="<div class=A id='"+b+"-128'>※四麻上級卓</div>"),9<=l[0]||
60<=g||(m+="<div class=A id='"+b+"-144'>※三麻上級卓</div>"),13<=k[0]&&1800<=k[2]||(m+="<div class=A id='"+b+"-32'>※四麻特上卓</div>"),13<=l[0]&&1800<=l[2]||(m+="<div class=A id='"+b+"-48'>※三麻特上卓</div>"),13<=k[0]&&1800<=k[2]&&g||(m+="<div class=A id='"+b+"-1056'>※四麻雀荘戦</div>"),13<=l[0]&&1800<=l[2]&&g||(m+="<div class=A id='"+b+"-1072'>※三麻雀荘戦</div>"),16<=k[0]&&
2E3<=k[2]&&g||(m+="<div class=A id='"+b+"-160'>※四麻鳳凰卓</div>"),16<=l[0]&&2E3<=l[2]&&g||(m+="<div class=A id='"+b+"-176'>※三麻鳳凰卓</div>"));b&&void 0===e&&(m+="<div class=A id='"+b+"-showall'>※喰断ナシON/OFF</div>");if(m)x.Z(m,"text-align:left;",0);else if(b&&"showall"==e)Nb("swar",~~!~~J.swar,0);else{g=d();5>g.length&&(g=[1,9]);if(b){if(g[~~b.slice(-1)]==e)return;g[~~b.slice(-1)]=~~e}for(h=0;5>h;++h)if(Z["rule"+h]&&Z["join"+
h]){y=~~g[h];if(0==(y&2048)&&~y&1){switch(y){case 128:case 144:x.o(K(223));break;case 32:case 48:x.o(K(224));break;case 160:case 176:x.o(K(225));break;case 1056:case 1072:x.o(K(226))}y=0}3==h&&y&&!f[y]?(g[h]=y,Z["join"+h].disabled=!0,Z["rule"+h].innerHTML=Pa(y)):(f[y]||(y=0),da[y]||(Z["join"+h].disabled=!y),g[h]=y,Z["rule"+h].innerHTML=z(y))}J.rule=g;"#rule3"==b&&c();"#rule4"==b&&a()}},join:function(a){if(e()){var c;if("joincs0"!=a.id&&"joincs1"!=a.id&&"joincs2"!=a.id){var b=d();c=b[~~a.id.slice(-1)];
for(a=0;5>a;++a)c==b[a]&&Z["rule"+a]&&(Z["rule"+a].disabled=Z["join"+a].disabled=!0)}else if(y.Ea)c=parseInt(y.rule[2],16),Z.joincs0.disabled=Z.joincs1.disabled=Z.joincs2.disabled=!0;else{if(y.joinfee){var h=J.uname;if(!h||!h.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){x.o(K(272));return}x.o(K(273).replace("###",y.joinfee),3,function(){gb("https://b.mjv.jp/csreg?lobby="+F+"&uname="+h,function(a){a=fb(a);B.ERR({code:a.res});1027==a.res&&(A[1]=a.expire,k(),A.Hb())})});return}if(y.premiumonly){h=J.uname;
if(!h||!h.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){x.o(K(271));return}B.ERR({code:1020});return}}zb(!0,1);Z.cancel.style.display="";Z.logout.style.display="none";W.K({tag:"JOIN",t:F+","+c});da[c]=1}},openurl:function(){x.o(K(289)+"<br><input type=text size=20 style='font-size:100%;'/>",3,function(a){a=a.getElementsByTagName("INPUT")[0];t.Vc(a.value)})},cancel:function(){zb(!1,"rule","join",1);Z.cancel.style.display="none";Z.logout.style.display="";da={};A["#rule0"]();W.K({tag:"JOIN"})},logout:function(){zb(!0,
3,1);u.ma(11)},purchase:function(){var a=J.uname;a&&a.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?tb&&store?A.o({tag:"STORE"}):q.open("https://tenhou.net/reg/?ID"+RegExp.$1,"_blank"):x.o("ログイン画面の「新規ID」からIDを取得してください")},hairi:function(){q.open("https://tenhou.net/2/",tb?"_system":"_blank")},help:function(){q.open("https://tenhou.net/man/",tb?"_system":"_blank")},chatInput:function(){x.o("CHAT:<input type=text size=15 style='font-size:100%;'/>",
3,function(a){a=a.getElementsByTagName("INPUT")[0];(a=a.value)&&W.K({tag:"CHAT",text:a})})},Uc:function(a){if(Z.hdr&&!Z.joincs0){var c=Z.hdr.childNodes;if(c&&!(2>c.length))if(a&&"join"==a.name){var b=c[1];a=~~d()[~~a.id.slice(-1)];var e=~~A[17][0],h=~~A[16][0],f="";if(!(a&3584)){var g=[0,0,0,0];switch(Ba(a)){case 0:g[0]=20;g[1]=10;break;case 1:g[0]=40;g[1]=10;break;case 2:g[0]=50;g[1]=20;break;case 3:g[0]=60,g[1]=30}a&16?(g[0]+=g[1],g[1]=0,g[2]=Qa[h]):g[3]=Qa[e];a&8&&(g[0]*=1.5,g[1]*=1.5,g[2]*=1.5,
g[3]*=1.5);f+=pa[a&16?h:e]+v("[");f=a&16?f+(v("1"+Ic(1))+"+"+g[0]+"   "+v("2"+Ic(2))+"+"+g[1]+"   "+v("3"+Ic(3))+(0>g[2]?"":"+")+g[2]):f+(v("1"+Ic(1))+"+"+g[0]+"   "+v("2"+Ic(2))+"+"+g[1]+"   "+v("3"+Ic(3))+"+0   "+v("4"+Ic(4))+(0>g[3]?"":"+")+g[3]);f+=v("]")+" "}f+=Ib((0!=(a&2048)?"１局":a&8?"東南":"東風")+(a&3584?"打ち切り":a&16?"+3局サドンデス":"+4局サドンデス"));f+=" "+Ib(v("ウマ")+(0!=(a&2048)?"×":
0!=(a&1536)?a&16?"0-30":"10-30":a&16?"0-20":"10-20"));f+=" "+Ib(v("1本場")+(0!=(a&2048)?"--":0!=(a&1536)&&~a&8?a&16?"1000":"1500":a&16?"200":"300"));f+=" "+Ib(v("明槓ドラ")+(a&3584?"先":"後"));f+=" "+Ib(v("喰断")+(a&4?"×":"○"));f+=" "+Ib(v("祝儀")+(~a&512?"×":a&1024?"1枚5000点":"1枚2000点"));f+=" "+Ib(v("東西場")+(0!=(a&1536)&&~a&8?"○":"×"));f+=" "+Ib(v("和了止め")+"○");f+=" "+
Ib(v("聴牌止め")+"○");0!=(a&1536)&&(f+=" "+Ib(v("段位変動")+"ナシ"));b.innerHTML=f;c[0].style.display="none";c[1].style.display=""}else c[1].innerHTML="",c[0].style.display="",c[1].style.display="none"}},Zc:function(a){var c=d();c[3]=c[4]=a;J.rule=c}}}());A["#rule1"]=A["#rule2"]=A["#rule3"]=A["#rule4"]=A["#rule0"];$a(A,function(){function b(){Z.uname.value=J.uname&&19==J.uname.length&&(~~J.hideid||J.gpid)?"ID########-########":J.uname||"NoName"}var d=new Image;setTimeout(function(){d.src="https://cdn.tenhou.net/3/res/img/bglogow_0921x0651.png"},1);return{LOGIN:function(a,c){var g="";location.search.match(/^\?(L[1-9][0-9]{3})/)?g=v(K(300))+RegExp.$1:location.search.match(/^\?(C[0-9]{8})/)&&(g=v(K(301))+RegExp.$1.substr(0,5));c.style.border="";g=""+("<div style='position:relative;'><div class=select-wrapper style='float:left;'><button name=lang></button></div><button name=cfg style='float:right;font-family:cwTeX-Q-Kai-T,icons2,serif;''></button><img src='"+
d.src+"' width="+~~(3.683*O[1]*2.3/r)+" height="+~~(2.604*O[1]*2.3/r)+" style='margin:0.5em 0;'/><span style='position:absolute;bottom:2em;'>"+g+"</span></div><div id=pane0><table cellpadding=0 cellspacing=0 width=100%><tr><td><input name=uname size=22 style='margin:0;padding:0;color:#fff;background:none;text-align:center;border:solid 1px #444;width:100%;'/></td><td width=1><div class=select-wrapper><button name=sx></button></div></td><td width=1><button name=ok style='padding:0 1em;'>OK</button></td></tr></table><button name=clearid>"+
K(320)+"</button><div class=select-wrapper><button name=mvlb>"+(g?K(326):K(325))+"</button></div></div><div id=pane1><button class=w100 name=ok>"+K(310)+"</button><br><button name=regid>"+K(311)+"</button><button name=idcont>"+K(312)+"</button><br></div>");c.innerHTML=g;Dc(c);Z.pane0.style.display=Z.pane1.style.display="none";Z["pane"+(J.uname?0:1)].style.display="";A["#sx"]();A["#lang"]();b();pb&&tb&&Wa(Z.uname,{focus:function(){Jb(1)},blur:function(){Jb()}});"AUTOLOGIN"==a.tag||J.gpid?(A.b.style.display=
"none",A.ok()):bc.v.canvas.style.visibility="hidden"},NINTEI:function(a,c){lc().Pc=Fc(3E3);var b=a.nintei,d="%E6%96%B0%E4%BA%BA %EF%BC%99%E7%B4%9A %EF%BC%98%E7%B4%9A %EF%BC%97%E7%B4%9A %EF%BC%96%E7%B4%9A %EF%BC%95%E7%B4%9A %EF%BC%94%E7%B4%9A %EF%BC%93%E7%B4%9A %EF%BC%92%E7%B4%9A %EF%BC%91%E7%B4%9A %E5%88%9D%E6%AE%B5 %E4%BA%8C%E6%AE%B5 %E4%B8%89%E6%AE%B5 %E5%9B%9B%E6%AE%B5 %E4%BA%94%E6%AE%B5 %E5%85%AD%E6%AE%B5 %E4%B8%83%E6%AE%B5 %E5%85%AB%E6%AE%B5 %E4%B9%9D%E6%AE%B5 %E5%8D%81%E6%AE%B5 %E5%A4%A9%E9%B3%B3%E4%BD%8D".split(" "),
f=!1,m=-1,n="",k="20201010";b.match(/%E3%82%B5%E3%83%B3%E3%83%9E/)&&(f=!0);b.match(/ ((?:%[0-9A-F]{2})+)%0A%0A/)&&(m=d.indexOf(RegExp.$1));b.match(/%0A%0A([^ ]+) %E6%AE%BF%0A/)&&(n=decodeURIComponent(RegExp.$1));b.match(/%0A%0A(\d{4})%E5%B9%B4(\d{2})%E6%9C%88(\d{2})%E6%97%A5%0A/)&&(k=RegExp.$1+RegExp.$2+RegExp.$3);b=decodeURIComponent(b);0<m&&n&&(b=(f?K(361):K(360)).replace(/\$UNAME/g,n).replace(/\$DAN/g,decodeURIComponent(d[m])).replace(/\$YYYY/g,k.substr(0,4)).replace(/\$MM/g,k.substr(4,2)).replace(/\$DD/g,
k.substr(6,2)));b=b.replace(/\n/g,"<br>");c.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>認定</div><div style='text-align:left;margin:1em 0;display:inline-block;'>"+b+"</div><button name=ok style='padding:0 2em;'>OK</button>";Dc(c)},clearid:function(){x.o(K(331),3,function(){J.removeItem("uname");b();Z.pane0.style.display="none";Z.pane1.style.display=""})},sx:function(){x.Z("<div class=A id='#sx-M'>"+K(323)+"</div><div class=A id='#sx-F'>"+K(324)+"</div>",
"",0)},"#sx":function(a,c){"F"==(a?c:"F"==J.sx?"F":"")?(Z.sx.innerHTML=K(322),J.sx="F"):(Z.sx.innerHTML=K(321),J.removeItem("sx"))},lang:function(){var a="",c;for(c in Pb)a+="<div class=A id='#lang-"+c+"'>"+c+"</div>";x.Z(a,"",0)},"#lang":function(a,c){var b=Qb.rb(),d=a?c:Qb.rb();Z.lang.innerHTML=d;Qb.rb(d);b!=d&&location.reload()},cfg:function(){A.o({tag:"CONFIG"})},mvlb:function(){x.Z("<a class=A href='?L0000' >"+K(340)+K(341)+"</a><a class=A href='?C00112233' >"+K(342)+K(343)+"</a><a class=A href='?C00223344' >"+
K(344)+K(345)+"</a><a class=A href='?C00334455' >"+K(346)+K(347)+"</a><div class=A id='#sellb' >"+K(348)+K(349)+"</div><a class=A href='https://tenhou.net/make_lobby.html' target=_blank>"+K(350)+K(351)+"</a>","font-size:80%;",0)},"#sellb":function(){var a="0000";location.search.match(/^\?(L[1-9][0-9]{3}|C[0-9]{8})/)&&(a=RegExp.$1.substr(1));x.o(K(330)+"<div style='font-size:75%;'>"+K(300)+"L<span style='color:#F00;'>8141</span> / "+K(301)+"C<span style='color:#F00;'>00112233</span></div><input type=text size=15 value='"+
a+"' style='font-size:100%;'/><br>",3,function(a){a=a.getElementsByTagName("INPUT")[0];a=a.value;a.match(/^L?(\d{4})$/)?location.href="?L"+RegExp.$1:a.match(/^C?(\d{8})$/)&&(location.href="?C"+RegExp.$1)})},regid:function(){x.o(K(313)+"<br><input type=text size=22 style='font-size:100%;'/><br>",3,function(a){a=a.getElementsByTagName("INPUT")[0];var c=a.value;if(c)return gb("https://b.mjv.jp/regid?q=1&uname="+encodeURIComponent(c),function(a){a=fb(a);0!=a.res?B.ERR({code:a.res}):(c=decodeURIComponent(a.uname),
x.o(c+"<br><br>"+K(314),3,function(){gb("https://b.mjv.jp/regid?uname="+encodeURIComponent(c),function(a){a=fb(a);1012!=a.res?B.ERR({code:a.res}):(J.uname=Z.uname.value=a.id,x.o(K(1012)),Z.pane0.style.display="",Z.pane1.style.display="none")})}))}),!0})},idcont:function(){x.o(K(327)+"<br><input type=text size=22 value='ID00000000-aabbccdd' style='font-size:100%;margin:0.25em'/><br><div id=info></div><small class=gray>"+K(328)+"</small>",3,function(a){a=a.getElementsByTagName("INPUT")[0];var c=a.value;
a=mb.getElementById("info");if("ID00000000"!=c.substr(0,10)&&c.match(/^ID[0-9A-F]{8}\-[0-9a-zA-Z]{8}$/))a.innerHTML="";else return a.innerHTML="<span style='font-size:75%;color:#F00'>"+K(329)+"</span>",!1;J.uname=c;b();Z.pane0.style.display="";Z.pane1.style.display="none";return!0})}}}());A.AUTOLOGIN=A.LOGIN;$a(A,{SPLASH:function(b,d){for(var a=q.tenhouEventInfo,c=4>a.length?2:5,g=.5>Math.random()?0:2,e="<table cellpadding=0 cellspacing=0 align=center width=100% style='font-size:0;'><tr>",f=0;f<c;++f){var m=a.splice(Math.floor(Math.random()*a.length),1)[0],n=f!=g&&5==c?1:2,e=e+("<td rowspan="+n+" colspan="+n+" width="+25*n+"% ><a href='https://tenhou.net"+m.href+"' target=_blank><img src='https://cdn.tenhou.net"+(m.img?m.img:m.href+"title.jpg")+"' border=0 style='width:100%;'/></a></td>");2==f&&(e+="</tr><tr>");
a.length<c-f-1&&a.push(m)}e+="</tr></table><div style='padding:0.75em 0;'><small>";q.info&&(e+=q.info);q.tenhouAnnounce&&(e+=q.tenhouAnnounce);a=location.href.replace(/^https?:/,"tenhouapp:");c="https://tenhou.net/4/"+location.search;e+="</small></div><div style='position:relative;'><button disabled name=ok style='width:6em;'>OK</button>";tb||(e+="<a href='"+a+"' style='position:absolute;border:1px solid #444;border-radius: 0.2em;top:0.75em;padding:0.5em;color:#888;right:0;'>アプリで開く</a>");
tb||(e+="<div style='position:absolute;left:0;top:1.25em;'><span style='position:absolute;color:#F00;font-weight:bold;font-size:75%;top:-2em;'>NEW!</span><a href='"+c+"' style='border:1px solid #444;border-radius:0.2em;padding:0.5em;color:#888;'>Desktop4K版で開く</a></div>");d.innerHTML=e+"</div>";Dc(d);setTimeout(function(){Z.ok.disabled=!1},1E3)}});$a(A,function(){var b;return{STORE:function(d,a){b=-1;var c;c=""+("<div><br><br>"+K(362)+"<br><br><div class=select-wrapper><button name=iap>SELECT PRODUCT</button></div><br><br><button name=storePurchase style='width:8em;'>"+K(363)+"</button><br></div><br><br><hr><button name=exit style='width:6em;'>CLOSE</button>");a.innerHTML=c;Dc(a)},storePurchase:function(){if(-1!=b){var d=J.uname;d.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)&&(d=RegExp.$1,store.order(b).then(function(){zb(!0,2)}).error(function(a){zb(!1,
2);x.o("STORE ERROR "+a.code+": "+a.message)}))}},iap:function(){var b="",a;for(a in store.products){var c=store.products[a];c.valid&&(b+="<div class=A id='#iap-"+a+"'>"+Ib(c.title)+"<br>"+c.price+"</div>")}x.Z(b,"font-size:75%;",0)},"#iap":function(d,a){var c=store.products[~~a];b=c.id;Z.iap.innerHTML=c.title+" "+c.price}}}());
tb&&Ua(mb,"deviceready",function(){if(1.3>(q.storeVersion||0)){var b="net.tenhou.catalog20170119.";store.register({id:b+"ex30",type:store.CONSUMABLE});store.register({id:b+"ex60",type:store.CONSUMABLE});store.register({id:b+"ex120",type:store.CONSUMABLE});store.register({id:b+"ex180",type:store.CONSUMABLE});store.register({id:b+"ex300",type:store.CONSUMABLE})}else b="net.tenhou.catalog20170211.",store.register({id:b+"ex30",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex60",type:store.NON_RENEWING_SUBSCRIPTION}),
store.register({id:b+"ex120",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex180",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex300",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex600",type:store.NON_RENEWING_SUBSCRIPTION});store.when("product").approved(function(b){J.uname.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?(store.validator="https://tenhou.net/reg/via_cordova.cgi?id="+RegExp.$1,b.verify()):b.finish()});store.when("product").verified(function(b){b.finish()});
store.when("product").finished(function(){zb(!1,2)});store.when("product").cancelled(function(){zb(!1,2)});store.error(function(b){"6777001"==b.code||"6777002"==b.code?store=void 0:Fb("------ error",JSON.stringify(b));zb(!1,2)});store.ready(function(){});store.refresh()});$a(A,function(){function b(a){return a.replace(/\s+$/,"")}function d(a){return la(a).replace(/(\d)([mpsz])(?![mpsz])/g,function(a,b,c){a=("m"==c?10:"p"==c?20:"s"==c?30:40)+~~b;10==a&&(a=51);20==a&&(a=52);30==a&&(a=53);40==a&&(a=69);b=~~(.6*O[0]);return"<img src='https://p.mjv.jp/6/img/edit"+jb(3,b)+0+jb(2,a)+".png' style='background:"+(69==a?"#444":"#EEE")+";vertical-align:middle;' width='"+b/r+"px' />"})}function a(a){var b=a>>2;return(27>b&&16==a%36?"0":b%9+1)+"mpsz".substr(b/9,1)}function c(a){Z.trtitle.innerHTML=
l.title||"天鳳トレーニング";Z.trprogress.innerHTML="<span class=gray style='float:right;font-weight:bold;'>"+(a?"A":"Q")+jb(2,k?k[0]+1:1)+"/"+jb(2,k?k.container.length:1)+"</span>";Z.trmain.innerHTML=d((l[a?"explanation":"question"]||"").replace(/\n/g,"<br>"));Z.trmain.style.height=(a?14:8)+"em";Z.ok.disabled=!1;switch(a){case 0:E=!1;A.b.classList.remove("hide");Z.ok.innerHTML="OK";W.pb();B.ga();B.connected=15;a=A[17]||"";W.ra({tag:"UN",n0:A[0]||"自家",n1:"下家",
n2:"対面",n3:"上家",dan:~~a[0]+",0,0,0",rate:parseFloat(a[2])+",0,0,0",sx:("F"==J.sx?"F":"M")+",M,M,M"});B.na=0;bc.Y();var b=[p(ma(l.hai0)),p(ma(l.hai1)),p(ma(l.hai2)),p(ma(l.hai3))];a=[];l.packet&&Array.prototype.push.apply(a,JSON.parse(JSON.stringify(l.packet)));2==b[0].length%3&&a.push({tag:"T"+b[0].pop()});var c=(l.seed?l.seed:"0,0,0,0,0,").split(",");l.kyoku&&(c[0]=l.kyoku);l.honba&&(c[1]=l.honba);l.nagare&&(c[2]=l.nagare);l.dora&&(c[5]=c[5]=ma(l.dora));W.ra({tag:"TRAININGINIT",
seed:""+c,ten:l.ten,oya:~~l.oya,hai0:""+cb(b[0]),m0:l.m0,kawa0:ma(l.kawa0),hai1:""+cb(b[1]),m1:l.m1,kawa1:ma(l.kawa1),hai2:""+cb(b[2]),m2:l.m2,kawa2:ma(l.kawa2),hai3:""+cb(b[3]),m3:l.m3,kawa3:ma(l.kawa3)});for(b=0;b<a.length;++b)W.ra(Lb.lb(a[b]));break;case 1:Z.ok.innerHTML="NEXT"}A.Vb(1)}function g(a){h?a():gb("https://tenhou.net/3/tr/auth.cgi?"+J.uname,function(b){h=b;a()},function(){B.ERR({code:1200})})}function e(a){l=k=void 0;w=a.match(/\.json$/)?a:"free-sample.json";gb("https://tenhou.net/3/tr/"+
w+"?"+h,function(b){try{l=JSON.parse(b)}catch(da){alert("JSONに不具合があるため読み込めませんでした\n\n"+da);return}if("membersonly"==l.error||"subscribe"==l.error){b=J.uname;if(!b||!b.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return B.ERR({code:1200});"membersonly"==l.error?x.o("この問題は有料会員に公開されています。<br><br>会費のお支払いをお願いいたします。",
3,A.purchase,A.exit):x.Z("<div style='margin:0.5em;'>購読期間と料金を選択してください。</div><div class=A id='#trs-1'>1日間 - 有効期限7日分</div><div class=A id='#trs-7'>7日間 - 有効期限8日分</div><div class=A id='#trs-21'>21日間 - 有効期限9日分</div>","",0)}else if(l.container)k=l,A["#trjump"](0,0);else if(t.tredit){if(!Z.json)if(90>A[2])alert("編集機能を利用するには有効期限の残り日数が90日以上必要です。");
else{Sb.style.height=Rb=0;nb.style.overflow="";for(var c="<br><hr><br><table class=trtab width=100%><tr><td class=bth width=1>表題</td><td width=100%><input name=title style='width:100%;'></td></tr><tr><td class=bth width=1>問題</td><td width=100%><textarea name=question maxlength=1024 rows=10 style='width:100%;'></textarea></td></tr><tr><td class=bth width=1>回答</td><td width=100%><input name=answer style='width:100%;'><br>"+v("カンマ区切 例)8m,8p,r2p(リーチ2p)")+
"</td></tr><tr><td class=bth width=1>解説</td><td width=100%><textarea name=explanation maxlength=4096 rows=10 style='width:100%;'></textarea></td></tr><tr><td class=bth width=1>補足</td><td width=100%><textarea name=comment maxlength=4096 rows=10 style='width:100%;'></textarea></td></tr></table><hr><table class=trtab width=100%><tr><td class=bth width=1>局</td><td><input name=kyoku><br>"+v("0:東1局 ... 7:南4局")+"</td></tr><tr><td class=bth width=1>本場</td><td><input name=honba></td></tr><tr><td class=bth width=1>供託</td><td><input name=nagare></td></tr><tr><td class=bth width=1>ドラ</td><td><input name=dora></td></tr><tr><td class=bth width=1>親</td><td><input name=oya><br>"+
v("0:自家 1:下家 2:対面 3:上家")+"</td></tr></table>",d=["自家","下家","対面","上家"],e=0;4>e;++e)c+="<br><hr><br><span class=bth>■"+d[e]+"</span><br><table class=trtab width=100%><tr><td class=bth width=1>点数</td><td width=100%><input name=ten"+e+" style='width:100%;'></td></tr>",e||(c+="<tr><td class=bth width=1>手牌</td><td width=100%><input name=hai"+e+" style='width:100%;'></td></tr>"),c+="<tr><td class=bth width=1>副露</td><td width=100%><input name=m"+
e+" style='width:100%;'></td></tr><tr><td class=bth width=1>河</td><td width=100%><input name=kawa"+e+" style='width:100%;'></td></tr></table>";c=c+"<br><hr><br><div id=verify></div>"+("<br><hr><br><span class=bth>■JSON</span><br><textarea name=json maxlength=8192 rows=40 style='width:100%;font-size:75%;'>"+JSON.stringify(l,null,"\t")+"</textarea>");Ub.innerHTML=c;c=Ub.getElementsByTagName("TEXTAREA");for(d=0;d<c.length;++d)Ua(c[d],"change","json"==c[d].name?n:m);c=Ub.getElementsByTagName("INPUT");
for(d=0;d<c.length;++d)Ua(c[d],"change",m);Dc(Ub,Z)}123==a.charCodeAt(0)&&(b=l,l=JSON.parse(a),l.title=l.title||b.title,l.question=l.question||b.question,l.answer=l.answer||b.answer,l.explanation=l.explanation||b.explanation,l.comment+=b.comment,b=JSON.stringify(l));Z.json.value=b;n()}else A["#trjump"](0,0)},function(){alert("問題ファイルを読み込めませんでした")})}function f(){var a;a="■合計得点<br>"+("'"+Z.ten0.value+
"' + '"+Z.ten1.value+"' + '"+Z.ten2.value+"' + '"+Z.ten3.value+"' = "+(~~Z.ten0.value+~~Z.ten1.value+~~Z.ten2.value+~~Z.ten3.value)+"<br><br>");a+="■使用枚数<br>";for(var b=ma(Z.hai0.value),b=b+(","+ma(Z.dora.value)),c=0;4>c;++c){var b=b+(","+ma(Z["kawa"+c].value)),e=Z["m"+c].value;if(e)for(var e=e.split(","),h=0;h<e.length;++h){var f={m:e[h]};tc(f);var g=f[0];if(1==g.length)switch(f[2]){case 4:case 5:case 2:f=g[0]>>2,g=[f+0,f+1,f+2,f+3]}g&&(b+=","+g)}}c=[];for(h=0;38>h;++h)c[h]=
0;b=b.split(",");for(h=0;h<b.length;++h)f=b[h],""!=f&&255!=f&&254!=f&&(136==f?c[30]++:16==f?c[0]++:52==f?c[1]++:88==f?c[2]++:c[10*~~(f/4/9)+~~(f/4)%9+1]++);c[30]="-";for(h=0;38>h;++h)a+=d(30==h?"0z":ja(36*~~(h/10)+(h%10?h%10*4-1:16)))+c[h]+" ",9==h%10&&(a+="<br>");Z.verify.innerHTML=a}function m(){if(Z.json){var a=l.packet;l={};l.title=b(Z.title.value);l.question=b(Z.question.value);l.answer=b(Z.answer.value);l.explanation=b(Z.explanation.value);l.comment=b(Z.comment.value);""==l.comment&&delete l.comment;
var d="0 0 0 0 0 ".split(" ");"0"!=Z.kyoku.value&&(d[0]=Z.kyoku.value);"0"!=Z.honba.value&&(d[1]=Z.honba.value);"0"!=Z.nagare.value&&(d[2]=Z.nagare.value);""!=Z.dora.value&&(d[5]=ma(Z.dora.value));l.seed=""+d;l.oya=Z.oya.value;l.ten=[Z.ten0.value,Z.ten1.value,Z.ten2.value,Z.ten3.value];Z.hai0.value&&(l.hai0=ka(ma(Z.hai0.value).split(",")));for(d=0;4>d;++d)""!=l.ten[d]&&(l.ten[d]=~~(l.ten[d]/100)),Z["m"+d].value&&(l["m"+d]=Z["m"+d].value),Z["kawa"+d].value&&(l["kawa"+d]=ka(ma(Z["kawa"+d].value).split(",")));
l.ten=""+l.ten;a&&(l.packet=a);Z.json.value=JSON.stringify(l,null,"\t").replace(/"packet": \[[^\]]*\]/,"'packet': "+JSON.stringify(a));c(0);f()}}function n(){if(Z.json){try{l=JSON.parse(Z.json.value)}catch(F){alert("JSONに不具合があるため読み込めませんでした\n\n"+F);return}var a=(l.seed?l.seed:"0,0,0,0,0,").split(",");Z.title.value=l.title||"";Z.question.value=l.question||"";Z.answer.value=l.answer||"";Z.explanation.value=
l.explanation||l.description||"";Z.comment.value=l.comment||"";Z.kyoku.value=l.kyoku||a[0];Z.honba.value=l.honba||a[1];Z.nagare.value=l.nagare||a[2];Z.dora.value=l.dora||ka(a.slice(5));Z.oya.value=l.oya||0;for(var a=(l.ten?l.ten:",,,").split(","),b=0;4>b;++b)Z["ten"+b].value=""!=a[b]?100*a[b]:"",b||(Z["hai"+b].value=l["hai"+b]||""),Z["m"+b].value=l["m"+b]||"",Z["kawa"+b].value=l["kawa"+b]||"";c(0);f()}}var k,l,h,w="",E=!1;return{TRAINING:function(a,b){B.a=4;W.$();b.innerHTML="<div style='width:100%;'><table width=100% cellpadding=0 cellspacing=0><tr><td align=left class=gray id=trtitle></td><td id=trprogress align=right></td></tr></table><hr><div style='position:relative;'><div id=trmain class=vscl style='line-height:1.2em;height:8em;overflow-y:scroll;text-align:left;'><br><br>"+
v("<center>左下のメニューからトレーニングを終了して<br><br>もう一度開いてください。</center>")+"</div><div class=sblink style='visibility:hidden;'>▼</div></div><hr><table width=100% cellpadding=0 cellspacing=0><tr><td align=left width=1><button name=trmenu style='font-family:cwTeX-Q-Kai-T,icons2,serif;'></button></td><td class=ra0 style='border:1px solid #444;' width=100%><span class='bt3 ra0' style='color:#444;font-size:150%;'>卓表示<span></td><td align=right width=1><button name=ok style='width:6em;' disabled>OK</button></td></tr></table></div>";
Dc(b);A.b.classList.add("flipinhs");g(function(){e(a.file)})},Vb:function(a){zb(!1,"ok");A.b.style.display=a?"":"none";u.b.style.display=a?"none":"";u[1572868].innerHTML=" 問題"},Yc:function(a){a&&"NEXT"!=Z.ok.innerHTML&&!hc.v.canvas.style.display?(A.Vb(0),2==V[32].length%3&&rc({tag:"T"}),Z.ok.innerHTML="CLOSE"):(A.b.classList.add("hide"),Za(A.b,"animationend",function(){k&&(k[0]=(k[0]+1)%k.container.length,l=k.container[k[0]]);c(0)}))},jc:function(b){console.log("sendTrainingAns",b);
var d;switch(b.tag){case "REACH":E=!0;W.ra({tag:"REACH",who:0,step:1});return;case "D":d=(E?"r":"")+a(b.p);break;case "N":d="N",b.type&&(d+="-"+b.type),b.hai0&&(d+="-"+b.hai0),b.hai1&&(d+="-"+b.hai1),b.hai2&&(d+="-"+b.hai2)}if(d){b=l.answer.split(",");for(var e=0;e<b.length&&b[e]!=d;++e);e<b.length&&(d="")}setTimeout(function(){if(d)c(1);else{Kb(24,0,0);var a=yb("DIV",ac,"flipinqs tsv",{innerHTML:"○"},{position:"absolute",left:"50%",top:"50%",fontSize:"1600%",fontWeight:"bold",pointerEvents:"none",
marginTop:"-0.5em",marginLeft:"-0.5em"});setTimeout(function(){a.classList.add("hide");Ua(a,"animationend",function(){a.parentNode.removeChild(a);c(1)})},1E3)}},1E3)},trmenu:function(){x.Z("<div class=A id='#trmenu-0'>他の問題に移動</div><div class=A id='#trmenu-1'>トレーニング終了</div>","",0)},"#trmenu":function(a,b){if("1"==b)t.tredit?location.reload():A.exit();else{var c="";if(k)for(var d in k.container)c+="<div class=A id='#trjump-"+
d+"'>Q"+jb(2,~~d+1)+"</div>";else l.title&&(c+="<div class=A id='#trjump-0'>"+l.title+"</div>");x.Z(c,"text-align:left;",0)}},"#trjump":function(a,b){if(k){var d=~~b;l=k.container[d];k[0]=d}c(0)},"#trs":function(a,b){gb("https://tenhou.net/3/tr/subscribe.cgi?file="+w+"&auth="+h+"&type="+b,function(a){a=JSON.parse(a);if("insufficient"==a.error)return B.ERR({code:1020});"ok"==a.error&&e(w)})},qc:function(a,b){if(b){var c={},d=b.subscribing;if(d)for(var e=0;e<d.length;++e)c[d[e].file]=d[e].expire;a.innerHTML=
"";for(var h={free:"<span style='color:#088;font-weight:bold;'>【無料】</span>",member:"<span style='color:#088;font-weight:bold;'>【会員無料】</span>",subscribing:"<span style='color:#880;font-weight:bold;'>【購読中】</span>"},d=b.all,e=0;e<d.length;++e)d[e].dc=1E3*(d[e].type||"undefined").length+e;d.sort(function(a,b){return a.dc-b.dc});for(e=0;e<d.length;++e){var f=d[e],g=f.file,k=c[g],g="https://tenhou.net/0/?training="+g,l="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;'>",
l=l+("<div class=nobr style='overflow:hidden;text-overflow:ellipsis;'>"+(h[k?"subscribing":f.type]||"")+" ");f.tip&&(l+="<span style='color:#F00;font-weight:bold;font-size:75%;'>"+f.tip+"</span> ");l+=f.title+"</div>";l+="<div class=nobr style='color:#CCC;overflow:hidden;text-overflow:ellipsis;font-size:75%;'>";l+="<span style='color:#000;background-color:#666;'>レベル:"+(f.level||"初中")+"</span> ";l+="問題数:"+f.n+" ";f.type&&(l+="毎月２～３回更新 ");
k&&(l+="購読終了:"+k+" ");l+="</div>";l+="<div class=nobr style='color:#666;overflow:hidden;text-overflow:ellipsis;'>"+(f.memo||"")+"</div>";l+="</div>";l+="<a href='"+g+"' class=bt3 target=_blank></a>";yb("DIV",a,"",{innerHTML:l},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=A.trOpen}yb("DIV",a,"gray",{innerHTML:"●「長押し」または「右クリック」から別タブで開く/URLのコピーなどが行えます"},
{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}else a.innerHTML=v("<br>Loading ..."),c=(c=J.uname)&&c.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?RegExp.$1:"00000000",gb("https://tenhou.net/3/tr/free-index.json?"+c,function(b){try{b=JSON.parse(b)}catch(Ab){return}A.qc(a,b)})},trOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)){var b=J.uname;if(!b||!b.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return B.ERR({code:1200}),!1;a=a.target;a=a.href.split(/\?training=/);if(1!=a.length)return A.o({tag:"TRAINING",
file:a[1]}),!1}}}}());var gc=yb("DIV",ac,"nosel ts0",{},{position:"absolute",fontSize:"60%",pointerEvents:"none",display:"none"}),V=function(){var b=0;return{ia:function(){gc.innerHTML=K(364);for(var b=0;4>b;++b)V[32|b]=[],V[48|b]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V[16|b]=[],delete V[64|b]},Wc:function(b){for(var a=[],c=0;c<V[32|b].length;++c)a.push(c);bb(a,V[32|b]);for(c=0;c<V[32|b].length;++c)if(a[c]!=c){var d=R[1024|b<<8|a[c]],e=R[1024|b<<8|c];dc.O(0,e,0);e.Fa(!0,b&&!u.l[1277960]?
136:V[32|b][a[c]]);d=dc.O(0,d.c+e.i.offsetX,d.h+e.i.offsetY,e.c+e.i.offsetX,e.h+e.i.offsetY,.04,e.i,.5,e,1);b||nc(4,0,d/1E3)}ab(V[32|b])},kc:function(b){u.S(256);ic.$();if(1==B.a||!u.l[1277960]){var a=0;b&2&&(a=Math.max(a,V[33].length));b&4&&(a=Math.max(a,V[34].length));b&8&&(a=Math.max(a,V[35].length));for(var a=30*a,c=0;c<a;c+=30)Kb(4,0,c/1E3);var d=0,c=0;lc()[lb++]=function(e){for(c+=e;d<c&&d<a;d+=30)for(e=1;4>e;++e)if(!(~b&1<<e)){var f=~~(d/30),g=R[1024|e<<8|f];g.u&&(f=V[32|e][f],P.Aa(),g.ha(0),
g.w=e,g.i=N[e<<8|M.Xa[f]],g.ha(1),P.Ba())}return d<a}}},Ob:function(d){P.Aa();for(var a=0,c=V[32|d],g=0;14>g;++g){var e=R[1024|d<<8|g];if(e.u){var f=R[1024|d<<8|a];f.Fa(!0,d&&!u.l[1277960]?136:c[a]);f.c=e.c;f.h=e.h;f.oa(-1025,e.ca&1024,!1);f.ha(1);++a;b|=1<<d}else a<c.length&&c.splice(a,1)}for(;14>a;++a)e=R[1024|d<<8|a],e.u&&e.ha(0);P.Ba()},kb:function(d){if((d||u.l[1183750])&&(!d||u.l[1277960])){P.Aa();for(var a=V[32|d],c=[],g=[],e=[],f=-1,m=0;m<a.length;++m){var n=R[1024|d<<8|m];n.u&&(e.push({sb:m,
ca:n.ca,c:n.c,h:n.h}),g.push(a[m]),0==d&&n==ic.Qc()&&(f=c.length),c.push(c.length))}bb(c,g);for(m=0;m<c.length;++m)if(a[e[m].sb]=g[c[m]],n=R[1024|d<<8|e[c[m]].sb],c[m]==m){if(n.c!=n.I||n.h!=n.J)b|=1<<d}else{var k=R[1024|d<<8|e[m].sb];k.Fa(!0,d&&!u.l[1277960]?136:g[c[m]]);n=e[c[m]];k.c=n.c;k.h=n.h;k.oa(-1042,n.ca&1041,!1);k.ha(1);b|=1<<d}P.Ba();-1!=f&&ic.L(R[1024|d<<8|e[c[f]].sb])}},jb:function(){for(var d=0;4>d;++d)if(!(~b&1<<d)){for(var a=[],c=0,g=0,e=0;14>e;++e){var f=R[1024|d<<8|e];if(f.u){var m=
f.c-f.I,n=f.h-f.J;if(0!=m||0!=n)a.length&&c!=m&&g!=n&&(R.Qa(0,200,a),a=[]),c=m,g=n,a.push(f)}}a.length&&R.Qa(0,200,a)}b=0}}}();
function rc(b){if(1==B.a||4==B.a)if(!A.b||A.b.style.display){var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(b)if("REACH"==b.tag)for(var a=na.Oc(V[48]),c=0;c<V[32].length;++c){var g=a[~~(V[32][c]/4)];d[c]|=g&&g.length?1:16}else if("T"==b.tag&&V[64])for(c=V[32].length-1,d[c]|=1,--c;0<=c;--c)d[c]|=16;else if("N"!=b.tag||3!=b[2]&&1!=b[2])for(c=0;14>c;++c)d[c]|=1;else for(a={},1==(b[0][2]>>2)-(b[0][1]>>2)?(0<(b[0][1]>>2)%9&&(a[(b[0][1]>>2)-1]=1),8>(b[0][2]>>2)%9&&(a[(b[0][2]>>2)+1]=1)):a[b[0][0]>>2]=1,c=0;c<V[32].length;++c)d[c]|=
a[V[32][c]>>2]?16:1;else ic.$(),u.S(256);P.Aa();for(c=0;14>c;++c)S.Ua(c,-18,d[c]);P.Ba();b&&ic.o(0,void 0,"T"==b.tag)}};q.requestAnimationFrame=q.requestAnimationFrame||q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||q.oRequestAnimationFrame||q.msRequestAnimationFrame||function(b){setTimeout(b,1E3/60)};
var lc=function(){function b(){}var d={},a,c=0,g=0,e=Date.now(),f=requestAnimationFrame;setInterval(function(){var d=Date.now();c&&g&&c==g&&requestAnimationFrame==f&&(requestAnimationFrame=b,a(c+d-e),requestAnimationFrame=f);g=c;e=d;zc.Xc(d)},250);requestAnimationFrame(function(b){a=b?function(b){var e=0,f=1>=c?0:b-c,h;for(h in d)d[h](f)?++e:delete d[h];if(!e)for(h in d)++e;e?(c=b,requestAnimationFrame(a)):c=0}:window.performance&&window.performance.now?function(){var b=performance.now(),e=0,f=1>=
c?0:b-c,h;for(h in d)d[h](f)?++e:delete d[h];if(!e)for(h in d)++e;e?(c=b,requestAnimationFrame(a)):c=0}:function(){var b=Date.now(),e=0,f=1>=c?0:b-c,h;for(h in d)d[h](f)?++e:delete d[h];if(!e)for(h in d)++e;e?(c=b,requestAnimationFrame(a)):c=0};requestAnimationFrame(a)});return function(){!c&&a&&(requestAnimationFrame(a),c=1);return d}}();function mc(b,d){if(0<d)return lc()[lb++]=function(a){return 0<(d-=a)?!0:(b(),!1)},lb-1;b()}
function Fc(b){var d=A.b.style,a=d.opacity=0;return function(c){a+=c;d.opacity=Math.min(1,a/b);if(a<b)return 1;d.opacity=1;return 0}}function Ec(b){var d=A.b,a=d.style,c=0;return function(g){c+=g;a.opacity=Math.max(0,1-c/250);if(250>c)return 1;a.display="none";a.opacity=1;b&&b(d);return 0}};var O=[0,0,0,0,0,0,0,0],U=[0,0,0,0,0,0,0,0],T=[0,0,0,0,0,0,0,0],Cc=[0,0,0,0,0,0,0,0],Jc=[0,0,0,0,0],Kc=[0,0,0,0,0],qc=[0,0,0,0],pc=[0,0,0,0],Lc=[0,0,0,0],Mc=[0,0,0,0],Zb=0,$b=0,cc=0,Nc=0,Oc=!1;
function Yb(){var b=Tb.offsetWidth*r,d=Tb.offsetHeight*r,a=J.desktop&1;function c(){g[1]=~~(2360*g[0]/31/56);f[0]=f[1]=f[4]=Math.min(~~(12*g[0]/31),~~(12*g[1]/40));e[0]=e[4]=~~(47*g[0]/31)-f[0];e[1]=~~(37*g[1]/40)-f[1];g[4]!=g[0]&&(f[4]=~~(12*g[4]/31),e[4]=~~(47*g[4]/31)-f[4]);g[2]=g[6]=g[0];f[2]=f[6]=f[0];e[2]=e[6]=e[0];g[3]=g[1];f[3]=f[1];e[3]=e[1];g[5]=g[7]=~~(380*e[1]/460);f[5]=f[7]=~~(44*g[5]/19)-e[1];e[5]=e[7]=e[1];var c=2*e[1],h=2*g[0];m=n=0;1==M.a||3==M.a?(m=Math.max(m,h+17*g[0]+2*g[1]+h),
n=Math.max(n,c+17*e[1]+2*e[0]+f[0]+e[4]+f[4]+(a?e[1]:0))):(m=Math.max(m,h+3*g[1]+6*g[0]+3*g[1]+h),n=Math.max(n,c+3*e[0]+6*e[1]+3*e[0]+f[0]+e[4]+f[4]+(a?e[1]:0)));m=Math.max(m,~~(14.1*g[4])+g[0]);Nc=e[7]+f[7]-(e[3]+f[3]);n=Math.max(n,~~(2.1*e[1])+Nc+4*(2*e[1]+e[0])+e[1]+f[1]+e[4]+f[4]);n=Math.max(n,e[0]+4*(2*e[1]+e[0])+~~(2.1*e[1])+Nc+2*e[1]+f[1]+(a?e[1]:0));return m<=b&&n<=d}var g=O,e=U,f=T,m,n;for(g[0]=200;10<g[0];--g[0]){Oc=!0;g[4]=~~(31*(2*e[1]+f[0])/47);if(c())break;Oc=!1;g[4]=~~((b-g[0])/14.1);
if(c())break}g[4]=~~((b-g[0])/14.1);for(g[4]=Math.min(g[4],~~(1.7*g[0]));10<g[4]&&!c();--g[4]);2==J.lthai||!Oc||a||1!=B.a&&4!=B.a||1==M.a||3==M.a||(g[4]=~~((b-g[0])/14.1),g[4]=Math.min(g[4],~~(31*(e[4]+f[4])/47)+f[0]+~~(.3*e[0])),f[4]=~~(12*g[4]/31),e[4]=~~(47*g[4]/31)-f[4]);for(var k=0;8>k;++k)Cc[k]=O[k]-~~(5*T[4==k?4:0]/12);d-n<b-m?n=~~d:m=~~b;cc=Math.max(m,~~(14.1*g[4])+g[0]);Zb=m;$b=n};function oc(b){$a(this,b)}
$a(oc.prototype,{Ja:function(){if(this.P&&!this.Ca)if(this.i&&1==this.u){var b=0;this.ea&&this.ea.i&&1==this.ea.u&&this.c+O[this.w]==this.ea.c+O[this.ea.w]&&this.h+T[this.w]==this.ea.h+U[this.ea.w]+T[this.ea.w]&&(b|=this.ea.xa&&this.ea.xa.i&&1==this.ea.xa.u&&this.ea.c+O[this.ea.w]==this.ea.xa.c&&this.ea.h==this.ea.xa.h?0:1);this.xa&&this.xa.i&&1==this.xa.u&&this.c+O[this.w]==this.xa.c&&this.h+U[this.w]==this.xa.h+U[this.xa.w]&&(b|=2);this.ya&&this.ya.i&&1==this.ya.u&&this.c+O[this.w]==this.ya.c+O[this.ya.w]&&
this.h+U[this.w]+T[this.w]==this.ya.h+T[this.ya.w]&&(b|=4);Bc[this.w<<8|b]?(this.P.i=Bc[this.w<<8|b],this.P.u=1):(delete this.P.i,this.P.u=0)}else delete this.P.i},oa:function(b,d,a){var c=this.ca,c=c&b|d;b=this.la;d=this.da;c&4?(this.la=N[this.w<<8|(c&1?60:50)],this.da=c&1?.3:.2):c&2?(this.la=N[this.w<<8|(c&1?60:50)],this.da=c&1?.2:.1):c&16?(this.la=N[this.w<<8|49],this.da=.3):c&1024?(this.la=N[this.w<<8|50],this.da=.2):c&2048?(this.la=N[this.w<<8|60],this.da=.15):c&256?(this.la=N[this.w<<8|49],
this.da=.3):c&512?(delete this.la,delete this.da):c&4096?(this.la=N[this.w<<8|49],this.da=c&8192?.4:.15):(delete this.la,delete this.da);this.ca=c;!a||this.la==b&&this.da==d||this.ec();return this},ha:function(b){if(!this.i)return this;var d=0,a=0;this.u&&(d=this.P.i?this.P.i.offsetX+this.P.i.ka:this.i.ka,a=this.i.wa);this.u=b;this.Ja();this.ea&&this.ea.Ja();this.ya&&this.ya.Ja();this.hb&&(this.hb.Ja(),this.hb.ya&&this.hb.ya.Ja());this.u&&(d=this.P.i?this.P.i.offsetX+this.P.i.ka:d?d:this.i.ka,a=this.i.wa);
P.Ka(this.c+this.i.offsetX,this.h+this.i.offsetY-this.Ca,d,a);return this},Fa:function(b,d){var a=this.w%4;b&&(a||(a+=4),a&&136==d&&(a+=4));this.i=N[a<<8|M.Xa[d]];this.w=a;this.i||Fb("PH.setImage noimg ",a,d,M.Xa[d]);return this},ec:function(){void 0!==this.i&&0!==this.u&&P.Ka(this.c,this.h-this.Ca,this.i.ka,this.i.wa)},La:function(){void 0!==this.i&&0!==this.u&&P.Ka(this.c,this.h-this.Ca,this.P.i?this.P.i.offsetX+this.P.i.ka:this.i.ka,this.i.wa)}});var R={sa:[]};
(function(){for(var b=[function(a,b){a.xa=b;b.hb=a},function(a,b){a.ea=b;b.ya=a},function(a,b){a.hb=b;b.xa=a},function(a,b){a.ya=b;b.ea=a}],d=[1024,14,2048,34,3072,26,4096,34,5120,5];d.length;)for(var a=d.shift(),c=d.shift(),g=0;4>g;++g){for(var e={},f=0;f<c;++f)R.sa.push(R[a|g<<8|f]=e[f]=new oc({u:0,w:g,c:0,h:0,Ca:0,I:0,J:0})),R.sa.push(e[f].P={u:0}),e[f].ua=e[f].P.ua=e[f];for(f=1;f<c;++f)if(!(2048==a&&17==f||3072==a&&6==f||3072==a&&12==f||4096==a&&17==f))b[g](e[f-1],e[f]);if(2048==a)for(f=0;17>
f;++f)b[(g+1)%4](e[f],e[f+17]),e[f].Ia=e[f+17];if(3072==a)for(f=6;18>f;++f)b[(g+1)%4](e[f],e[f-6]);if(4096==a)for(f=17;34>f;++f)b[(g+1)%4](e[f],e[f-17]);if(5120==a)break}for(f=0;b=R[1024|f];++f)b.X=f})();
$a(R,{L:function(){var b=$a(Jc,[O[0],0,-O[0],0,O[4]]),d=$a(Kc,[0,-U[1],0,U[1],0]),a=$a(qc,[0,O[1],0,-O[1]]),c=$a(pc,[U[0],0,-U[0],0]);$a(Lc,[0,O[1]-O[0],O[0]-O[1],0]);$a(Mc,[U[0]-U[1],U[1]-U[0],0,0]);var g=P.v.canvas.offsetWidth*r,e=P.v.canvas.offsetHeight*r,f=~~((g-Zb)/2),m=~~((e-$b)/2),n=f+Zb,k=m+$b-(J.desktop&1?U[1]:0),l=6*O[0],h=6*U[1],w=f+~~((n-f-l)/2),E=m+2*U[1]+(3==M.a||1==M.a?2*U[0]:0)+3*U[0];R[112]=w;R[113]=E+h;R[114]=w+l;R[115]=E+h-U[1];R[116]=w+l-O[0];R[117]=E-U[0];R[118]=w-O[1];R[119]=
E;for(var z=0;4>z;++z)R.mc(z);for(var C,F=0;C=R[5120|F];++F)C.c=C.I=w+~~((l-5*O[0])/2)+O[0]*F,C.h=C.J=E;if(3==M.a){z=17*O[0]+2*O[1];C=17*U[1]+2*U[0];for(var y=w+~~((l-z)/2),D=E+~~((h-C)/2),y=[{Ga:y+z-1*O[0],Ha:D+C-1*U[0]},{Ga:y+z-1*O[1],Ha:D},{Ga:y,Ha:D},{Ga:y,Ha:D+C-1*U[1]}],z=0;4>z;++z)for(F=0;C=R[4096|z<<8|F];++F)C.c=C.I=y[z].Ga-b[z]*(16-F%17)-(17>F?0:a[z]),C.h=C.J=y[z].Ha-d[z]*(16-F%17)-(17>F?0:c[z]),C.Ca=0}else if(1==M.a)for(z=17*O[0]+O[1],C=17*U[1]+U[0],y=w+~~((l-z)/2),D=E+~~((h-C+T[0])/2),
y=[{Ga:y+z-O[0],Ha:D+C-U[0]},{Ga:y+z-O[1],Ha:D},{Ga:y,Ha:D},{Ga:y,Ha:D+C-U[1]}],z=0;4>z;++z)for(F=0;C=R[4096|z<<8|F];++F)C.c=C.I=y[z].Ga-b[z]*(16-F%17),C.h=C.J=y[z].Ha-d[z]*(16-F%17),C.Ca=17>F?0:T[z];else for(z=0;4>z;++z)for(F=0;C=R[4096|z<<8|F];++F)C.c=C.h=C.Ca=0;E+=T[0];R[16]=w;R[17]=E;R[18]=l;R[19]=h;b=3*O[1];d=3*U[0];R[48]=w+l+T[0];R[49]=E+h+T[0];R[50]=b-T[0];R[51]=d-T[0];R[52]=w+l+T[0];R[53]=E-d;R[54]=b-T[0];R[55]=d-T[0];R[56]=w-b;R[57]=E-d;R[58]=b-T[0];R[59]=d-T[0];R[60]=w-b;R[61]=E+h+T[0];
R[62]=b-T[0];R[63]=d-T[0];D=1==M.a||3==M.a?0:U[0];R[32]=w;R[33]=E+D;R[34]=l;R[35]=h-D-T[0];R[80]=n-~~(14.1*O[4])-O[0];R[81]=k-U[4]-T[4];R[82]=R[98]=n-O[1];R[85]=R[101]=m;R[86]=R[102]=f;R[96]=n-O[0];R[97]=k-T[0]-U[0];R[80]<f&&(b=~~((f-R[80])/2),R[80]+=b,R[96]+=b);C=~~(2.1*U[1])+Nc+4*(2*U[1]+U[0])+(B.s&16?U[1]:0);R[99]=Math.max(m+~~((k-Math.max(2*U[1],U[4]+T[4])-m-C)/2),0);R[83]=Math.min(R[99]+(C-U[1]-T[1]),k-U[4]-T[4]-U[1]);C+=T[1];R[87]=Math.max(m+~~((k-U[4]-T[4]-m-C)/2),0);R[103]=Math.min(R[87]+
(C-U[1]-T[1]),k-U[4]-T[4]-U[1]);z=~~(2.1*O[0])+4*(2*O[0]+O[1])+(B.s&16?O[0]:0);3==M.a&&(z=Math.max(z,17*O[0]+2*O[1]));1==M.a&&(z=Math.max(z,17*O[0]+1*O[1]));R[100]=w+~~((l-z)/2);~B.s&16&&!Oc&&(R[100]=O[1]);B.s&16&&(B.H[1]||(R[100]+=O[0]),B.H[3]||(R[100]=f));R[84]=R[100]+z-O[0];for(z=0;4>z;++z)for(R.pc(z),F=0;C=R[1024|z<<8|F];++F)C.c=C.I,C.h=C.J;fc.L();R[64]=R[68]=~~(R[16]+R[18]/2);R[67]=R[71]=~~(R[17]+R[19]/2);R[65]=~~(R[81]-1.5*U[0]);R[66]=~~(R[82]-1.5*O[1]);R[69]=~~(R[85]+2.5*U[2]);R[70]=~~(R[86]+
2.5*O[3]);for(F in R.sa)R.sa[F].P&&void 0===R.sa[F].I&&console.log(F);R.sa.sort(function(a,b){return(void 0!=a.X?0:-g*e)+(a.P?g*e:0)+(a.ua.Ca+a.ua.J)*g+a.ua.I-((void 0!=b.X?0:-g*e)+(b.P?g*e:0)+(b.ua.Ca+b.ua.J)*g+b.ua.I)})},ga:function(){for(var b=0;b<R.sa.length;++b){var d=R.sa[b];d.u=0;d.P&&(void 0!==d.I&&(d.c=d.I),void 0!==d.J&&(d.h=d.J),d.oa(-1,0,!1),delete d.eb)}for(b=0;4>b;++b)R.yb(b,-2)},pc:function(b){for(var d,a=16;R[2048|b<<8|a];--a);for(var c=0,g=0,a=16;d=R[2048|b<<8|a];--a){d.I=R[96+2*
b]-Jc[b]*(16-a);d.J=R[97+2*b]-Kc[b]*(16-a);var e=d.Ia;e.I=d.I+Jc[(b+1)%4];e.J=d.J+Kc[(b+1)%4];d.w!=b&&(c+=Jc[b]-qc[(b+1)%4],g+=Kc[b]-pc[(b+1)%4]);d.c=d.I+c;d.h=d.J+g;e.c=e.I+c;e.h=e.J+g;d.w!=b&&(d.c+=Lc[b],d.h+=Mc[b],e.c+=Lc[b],e.h+=Mc[b])}for(a=0;d=R[1024|b<<8|a];++a)d.I=0+R[80+2*b]+Jc[b?b:4]*a,d.J=0+R[81+2*b]+Kc[b?b:4]*a},mc:function(b){for(var d=0,a=0,c,g=0;c=R[3072|b<<8|g];++g)if(c.I=R[112+2*b]+Jc[b]*g+(qc[b]-6*Jc[b])*(12<g?2:~~(g/6))+d,c.J=R[113+2*b]+Kc[b]*g+(pc[b]-6*Kc[b])*(12<g?2:~~(g/6))+
a,c.w!=b&&(c.I+=Lc[b],c.J+=Mc[b],d=-Jc[b]+qc[(b+1)%4],a=-Kc[b]+pc[(b+1)%4]),c.c=c.I,c.h=c.J,5==g||11==g)d=a=0}});$a(R,{yb:function(b,d){for(var a,c=0;a=R[3072|b<<8|c];++c)a.w!=b&&(a.w=b),-1!=d||a.u||(d=c);0<=d&&(R[3072|b<<8|d].w=(b+1)%4);R.mc(b)}});
$a(R,function(){function b(a){var b=0,g;for(g in d){var e=d[g];if(0<=e.t){e.qa<=e.t&&(e.t=e.qa);P.Aa();var f,m;for(m in e){var n=e[m],k=n.qb;if(k){var l=k.P.i?k.P.i.offsetX+k.P.i.ka:k.i.ka,h=k.i.wa,w=~~(k.I+(n.Ta-k.I)*(e.qa-e.t)/e.qa);w<=k.c?(l+=k.c-w,k.c=w):(l+=w-k.c,f=k.c,k.c=w,w=f);n=~~(k.J+(n.zb-k.J)*(e.qa-e.t)/e.qa);n<=k.h?(h+=k.h-n,k.h=n):(h+=n-k.h,f=k.h,k.h=n,n=f);P.Ka(w+k.i.offsetX,n+k.i.offsetY,l,h);e.qa<=e.t&&k.ha(k.u)}}P.Ba()}e.qa<=e.t&&delete d[g];e.t+=a;++b}0==b&&uc.Sa&&uc.Sa();return b}
var d={};return{Qa:function(a,c,g){if(dc.aa){P.Aa();for(a=0;a<g.length;++a)c=g[a],c.La(),c.c=c.I,c.h=c.J;for(a=0;a<g.length;++a)c=g[a],c.ha(c.u),c.La();P.Ba()}else{c=d[lb++]={t:-~~a,qa:c};for(a=0;a<g.length;++a)c[a]={qb:g[a],Ta:g[a].c,zb:g[a].h};lc().Qa=b}}}}());var M=function(){function b(){return!1}function d(a){return 16==a||52==a||88==a}function a(a){a=(135-a+g)%136;return R[4096|~~(a/34)<<8|(a%34>>1)+17*(a&1)]}var c,g,e,f;return{a:0,bb:0,Pa:!1,Xa:{136:48},ia:function(a){for(var m=M.Xa,k=0;136>k;++k){var l=~~(k/4);m[k]=10*(~~(l/9)+1)+l%9+1}B.s&2?M.tb=b:(M.tb=d,m[16]=51,m[52]=52,m[88]=53);m=B.na;k=B.R[3];l=B.R[4];e=(4+m-B.R[0]%4)%4;M.Pa=6==k&&0==l;g=((m+(k+1)+(l+1)-1)%4*17+17-1-(k+1)-(l+1))%68*2+2;M.Pa&&(g=34*(e+1));c=[0,0,0,0];M.bb=0;f=null;if(a)for(f=
[],k=0;136>k;++k)f[k]=a[135-k]},Wb:function(b){if(!M.Pa)return a(c[0]++);-1==b&&(b=(e+3)%4);var d=c[b]++;return R[4096|b<<8|33-(17*(d&1)+(d>>1))]},Ma:function(b){if(!M.Pa)return a(135-b^1);var c=(e+(b>>2))%4;b%=4;return R[4096|c<<8|17*(~b&1)+(b>>1)]},Kb:function(a,b){return f?M.Pa?f[135-(34*a+~~(b%34/17)+b%17*2)]:f[(135-(34*a+~~(b%34/17)+b%17*2)+g)%136]:136},fc:function(a){if(!c)return 0;if(0!=(B.s&2048))return 116-c[0]-2*(B.R.length-5);if(!M.Pa)return 122-c[0]-M.bb;for(var b=0,d=-1,e=1;4>=e;++e)B.H[(a+
e)%4]&&b<c[(a+e)%4]&&(b=c[(a+e)%4],d=e);return(30-b)*(B.s&16?3:4)+d-1},tb:b}}();
M.Lc=function(b){function d(a){for(var b=0;b<a.length;++b)a[b]=(a[b]&255)<<24|(a[b]&65280)<<8|(a[b]&16711680)>>>8|(a[b]&4278190080)>>>24;return a}b=b.split(",");if("mt19937ar-sha512-n288-base64"==b[0]){b=function(a){a=atob(a);for(var b=[],c=0;c<a.length;c+=4)b.push(a.charCodeAt(c+0)<<0|a.charCodeAt(c+1)<<8|a.charCodeAt(c+2)<<16|a.charCodeAt(c+3)<<24);return b}(b[1]);var a=-1,c=new ba;ea(c,b,b.length);var g=new ba;return function(b,f){if(f&&a!=b){for(var e=[],n=0;624>n;++n)e[n]=fa(c);ea(g,e,624)}a=
b;for(var k=f?g:c,e=[],l=[],n=0;9>n;++n){for(var h=[],w=0;32>w;++w)h[w]=fa(k);Array.prototype.push.apply(l,d(aa(d(h))))}for(var n=0;n<l.length;++n)l[n]>>>=0;if(B.s&16)for(n=0;136>n;++n)(4>n||32<=n)&&e.push(n);else for(n=0;136>n;++n)e.push(n);w=e.length;for(n=0;n<w-1;++n)k=n+l[n]%(w-n),h=e[n],e[n]=e[k],e[k]=h;return e}}};var Ac=function(){function b(b){if(void 0!==c)return 350<d&&25<d-a&&(c(),a=d),d+=b,!0}var d=0,a=0,c=void 0;return{set:function(g,e){c=g;d=a=0;c?(e&&c(),lc().autoRepeat=b):delete lc().cd}}}();var B=function(){function b(a){if(1==B.a){var b=(~~J.lognext+40-1)%40,c=J["log"+b];if(c){try{c=JSON.parse(c)}catch(z){return}c.sc||(c.sc=a,J["log"+b]=JSON.stringify(c))}}}function d(a,b,c,d,e,f,g){var h,k,l;c instanceof oc?(h=d.w%4,k=d.c,l=d.h,d.ha(0),d=N[c.w<<8|M.Xa[e]]):(h=c,c=R[b|h<<8|d],k=c.c,l=c.h,d=N[h<<8|48]);switch(b){case 5120:l=0;break;case 4096:0==h?l=$b:1==h?k=Zb:2==h?l=0:3==h&&(k=0);h&1&&(k-=Math.round(P.v.canvas.offsetLeft*r));break;case 1024:var w=n?M.Ma(M.bb++):M.Wb(h);1==M.a||3==
M.a?(d=w.i,k=w.c,l=w.h,dc.O(a,w,0)):0==h?l=~~($b/2):1==h?k=~~(Zb/2):2==h?l=~~($b/2):3==h&&(k=~~(Zb/2));n=!1;break;case 3072:c.c=c.I+(dc.aa?0:~~(.2*Jc[h])+~~(.15*qc[h])),c.h=c.J+(dc.aa?0:~~(.2*Kc[h])+~~(.15*pc[h]))}c.Fa(1024==b,e);dc.O(a+0,k,l,c.c,c.h,f,d,.06);b=dc.O(a+10,k,l,c.c,c.h,f,d,.18,c,1);dc.O(a+20,k,l,c.c,c.h,f,d,.06);0!=g&&nc(g,0,b/1E3);return b}function a(a){ic.$();u.S(256);rc();var b={tag:"D",p:a};1==B.a?W.K(b):4==B.a&&A.jc(b);b[0]=a;W.ra(b)}function c(){B.bc=[-1,-1,-1,-1];B.fb=["","",
"",""];for(var a=0,b=0;4>b;++b)who=(B.na+b)%4,B.H[who]&&(B.bc[who]=a,B.fb[who]="東南西北".substr(a,1),++a)}var g={84:0,85:1,86:2,87:3,116:0,117:1,118:2,119:3},e=-1,f=-1,m=null,n,k="",l=!1;return{a:0,s:0,gb:0,na:-1,bc:[],fb:[],R:[],pa:[],Zb:[],Ta:[],Va:[],Ra:[],H:[],connected:0,Pb:0,Qb:0,mb:0,Rb:0,Sb:0,Ab:0,Tb:0,Ub:0,Bb:0,ga:function(){var a=lc(),b;for(b in a)"autoRepeat"!=b&&delete a[b];ec.ga();dc.ia();P.xb();for(b=0;b<R.sa.length;++b)a=R.sa[b],a.u=0,a.P&&(void 0!==a.I&&(a.c=a.I),
void 0!==a.J&&(a.h=a.J),a.oa(0,0,!1),delete a.eb);for(b=0;4>b;++b)R.yb(b,-2);m=null;f=-1;e=B.na=-1;hc.Y(0,-1);fc.ia();V.ia();gc.style.display=hc.v.canvas.style.display="none";ic.$();u.S(256);rc();S.L();A.ga()},ia:function(a){l&&(Kb(40,0,0),l=!1);if("REINIT"==a.tag||3==B.a)dc.aa=!0;n=!1;e=B.na=~~a.oya;B.R=p(a.seed);B.pa=p(a.ten,100);B.Zb=p(a.chip);c();M.ia(a[5]);fc.ia();V.ia();Mb.Kc();hc.Y(void 0,-1);ic.Rc();for(var b=0;4>b;++b)if(B.H[b])for(var f=0;13>f;++f)V[32|b].push(136);var h=0;if(1==M.a){for(b=
0;4>b;++b)for(f=0;34>f;++f)R[4096|b<<8|f].da=0;for(f=0;17>f;++f)for(b=0;4>b;++b)dc.O(d(h,4096,b,f,136,.08,4),R[4096|b<<8|f+17].Fa(!1,136),1),h+=12}else if(3==M.a){for(var g=t.tw+1,b=0;4>b;++b)for(f=0;34>f;++f){var k=M.Kb(b,f),m=R[4096|b<<8|f],k=(k&3840)>>8;k==g?m.oa(-2049,2048,!1):5==k?m.oa(-12289,12288,!1):m.oa(-4097,4096,!1)}for(f=0;17>f;++f)for(b=0;4>b;++b)dc.O(d(h,4096,b,f,M.Kb(b,f)&255,.08,4),R[4096|b<<8|f+17].Fa(!1,M.Kb(b,f+17)&255),1),h+=12}else for(f=0;5>f;++f)d(h,5120,0,f,136,.08,4),h+=45;
dc.O(function(){hc.Y(void 0,e);for(var a=5;a<B.R.length;++a)B.DORA({hai:B.R[a],cc:a-5});if(M.Pa)for(var b=0;4>b;++b){var c=~~(.1*Jc[b]),d=~~(.1*Kc[b]);P.Aa();for(a=0;34>a;++a)if(2<=a%17){var f=R[4096|b<<8|a];f.La();f.c+=c;f.h+=d;f.Ja();f.La()}for(a=0;34>a;++a)R[4096|b<<8|a].Ja();P.Ba()}});for(var D=[0,0,0,0],b=0;4>b;++b)B.H[b]||(D[b]+=136-(B.s&2048?112:108));for(b=0;4>b;++b)for(m=p(a["m"+b]);m.length;)k=m.pop(),B.N({who:b,m:k}),n&&(M.Ma(M.bb).ha(0),++M.bb,n=!1),++D[(b+(k&3))%4],--D[b];a.hai&&(V[32]=
p(a.hai));a.hai0&&(V[32]=p(a.hai0));a.hai1&&(V[33]=p(a.hai1));a.hai2&&(V[34]=p(a.hai2));a.hai3&&(V[35]=p(a.hai3));S.L();for(b=0;4>b;++b)for(B.H[b]&&(D[b]+=13-V[32|b].length),f=0;f<V[32|b].length;++f)136>V[32|b][f]&&V[48|b][V[32|b][f]>>2]++;f=[p(a.kawa0),p(a.kawa1),p(a.kawa2),p(a.kawa3)];for(b=0;4>b;++b){P.Aa();h=0;for(g=!1;f[b].length;)k=f[b].shift(),255==k?(R.yb(b,h),0==b&&(V[64]=na.cb(V[48]))):254==k?g=!0:(m=R[3072|b<<8|h],m.Fa(!1,k&255),m.ha(1),g&&(4==B.mode||1!=B.a&&u.l[1277961])&&m.oa(-257,256,
!1),m.La(),++D[b],++h,g=!1);P.Ba()}dc.aa&&P.Aa();dc.O(function(){for(var a=0;4>a;++a)for(var b=0;b<D[a];++b)M.Wb(a).ha(0);for(var c=0,e=0;52>e;++e)a=(48>e?~~(e/4):e)%4,B.H[a]&&(b=48>e?4*~~(e/16)+e%4:12,V[32|a].length<=b||(d(c,1024,a,b,a&&!u.l[1277960]?136:V[32|a][b],.08,4),3==e%4&&(c+=75)));hc.Y()});dc.aa&&P.Ba();dc.O(function(){for(var a=0;4>a;++a)dc.aa&&P.Aa(),(dc.aa||a||u.l[1183750])&&V.Wc(a),dc.aa&&P.Ba();if(~B.s&2048&&(1==M.a||3==M.a)){P.Aa();M.Ma(14).La();for(var a=M.Ma(14).w,b=~~(.15*Jc[a]),
c=~~(.15*Kc[a]),d=14;48>d;++d){var e=M.Ma(d);if(e.w!=a)break;e.c+=b;e.h+=c;e.La()}M.Ma(13).Ja();M.Ma(15).Ja();P.Ba()}});gc.style.display="none";hc.v.canvas.style.display="";u.l[1183749]=u.l[1183753]=u.l[1183751]=!1;u.l[1183752]=!!J.autowin;u.l[1183750]=!0;u.S(256);if((3==B.a||2==B.a)&&u.l[1277957])for(b=0;4>b;++b)Mb.nc(b);if("REINIT"==a.tag||3==B.a)dc.aa=!1;dc.O(W.Da)},Mb:function(b){var c=f;V[64]||(c=V[32|e][b]);a(c)},ERR:function(a){var b=~~a.code;a="(ERR"+b+")";var c=1;switch(b){case 1001:case 1002:case 1003:case 1004:case 1005:case 1006:case 1012:case 1019:case 1021:A.b.style.display=
"";zb(!1,0);break;case 1020:c|=2;break;case 1027:a="";break;case 1100:case 1101:A.cancel()}x.o(K(b)+a,c,function(){switch(b){case 1014:delete t.wg;break;case 1019:location.reload();break;case 1020:A.purchase()}});return 1},HELO:function(a){if(a.closing)return location.reload(),1;if(2==B.a)return W.K({tag:"WG",id:t.wg,tw:t.tw}),1;var b;A[17]=a.PF4?a.PF4.split(","):[];A[16]=a.PF3?a.PF3.split(","):[];A[18]=a.PF601&&a.PF01C?(b=a.PF601.split(","),b.splice(1,0,0,a.PF01C.split(",")[1]),b):[];A[19]=a.PF602&&
a.PF02C?(b=a.PF602.split(","),b.splice(1,0,0,a.PF02C.split(",")[1]),b):[];A[20]=a.PF603&&a.PF03C?(b=a.PF603.split(","),b.splice(1,0,0,a.PF03C.split(",")[1]),b):[];A[21]=a.PF611&&a.PF11C?(b=a.PF611.split(","),b.splice(1,0,0,a.PF11C.split(",")[1]),b):[];A[22]=a.PF612&&a.PF12C?(b=a.PF612.split(","),b.splice(1,0,0,a.PF12C.split(",")[1]),b):[];A[23]=a.PF613&&a.PF13C?(b=a.PF613.split(","),b.splice(1,0,0,a.PF13C.split(",")[1]),b):[];A[24]=a.PF623&&a.PF23C?(b=a.PF623.split(","),b.splice(1,0,0,a.PF23C.split(",")[1]),
b):[];A[25]=a.PF633&&a.PF33C?(b=a.PF633.split(","),b.splice(1,0,0,a.PF33C.split(",")[1]),b):[];A[0]=decodeURIComponent(a.uname);A[1]=a.expire;A[2]=~~a.expiredays;a.nintei?(a.tag="NINTEI",A.o(a)):A.Hb();return 1},REHELO:function(){W.Cc();return 1},LN:A.xc,REJOIN:function(a){W.K({tag:"JOIN",t:a.t});return 1},CHAT:A.tc,CS:A.uc,DATE:A.vc,RANKING:function(a){a.rankingcs?A.Ac(a):A.zc(a);return 1},SHUFFLE:function(){return 1},GO:function(a){a.gpid&&(J.gpid=a.gpid);B.gb=~~a.lobby;B.s=~~a.type;1!=B.a&&2!=
B.a||W.K({tag:"GOK"});1==B.a&&0==B.gb&&B.s&1&&A.Zc(B.s);B.Pb=B.Rb=B.Tb=1E3*(Aa(B.gb,B.s)?3:5);B.Qb=B.Sb=B.Ub=1E3*(Aa(B.gb,B.s)?5:10);B.mb=B.Ab=B.Bb=5E3;a=(""+(a.csrule||"")).split(",");0<a[36]&&(B.Pb=1E3*~~a[36]);0<a[37]&&(B.Qb=1E3*~~a[37]);0<a[38]&&(B.mb=1E3*~~a[38]);0<a[39]&&(B.Rb=1E3*~~a[39]);0<a[40]&&(B.Sb=1E3*~~a[40]);0<a[41]&&(B.Ab=1E3*~~a[41]);0<a[42]&&(B.Tb=1E3*~~a[42]);0<a[43]&&(B.Ub=1E3*~~a[43]);0<a[44]&&(B.Bb=1E3*~~a[44]);return 1},UN:function(a){if(3<=!!a.n0+!!a.n1+!!a.n2+!!a.n3){B.H=
["","","",""];for(var b=0;4>b;++b)B.H[b]=decodeURIComponent(a["n"+b]).replace("Ⓟ","ⓟ").replace("Ⓢ","ⓢ");B.Va=p(a.dan?a.dan:",,,");B.Ra=p(a.rate?a.rate:",,,");B.Ta=(a.sx?a.sx:",,,").split(",");if(!1!==u.l[14])for(b=0;4>b;++b){if(a=B.H[b])(a=B.H[b])&&a.length?(a=a.charCodeAt(0),a=9372<=a&&9397>=a||9398<=a&&9423>=a||9424<=a&&9449>=a):a=!1,a=!(a||20<=B.Va[b]);a&&(a=(t.tw+b)%4,B.H[b]=3==B.a&&a==t.TW?"私":"ABCD".substr(a,1)+"さん")}}else a.n0&&(B.connected|=1),a.n1&&(B.connected|=
2),a.n2&&(B.connected|=4),a.n3&&(B.connected|=8),hc.Y();return 1},BYE:function(a){B.connected&=~(1<<~~a.who);hc.Y();return 1},TAIKYOKU:function(a){u.l[1183749]=u.l[1183753]=u.l[1183752]=u.l[1183751]=!1;u.l[1183750]=!0;u.b.style.display="";u[1572868].innerHTML="";u.S(126976);W.Na=0;l=(1==B.a||2==B.a)&&"SAIKAI"!=a.tag&&B.s&1;B.na=~~a.oya;if(1==B.a&&a.log){k=a.log;var b=~~J.lognext;J["log"+b]=JSON.stringify({type:B.s,lobby:B.gb,log:k,oya:B.na,uname:B.H});J.lognext=(b+1)%40}B.connected=15;c();R.L();
fc.L();A.o(a);bc.Y();return 1},INIT:function(a){A.$(function(){B.ga();B.ia(a)})},FURITEN:function(a){gc.style.display=~~a.show?"":"none";return 1},T:function(b){if(-1==e)return 1;if(n||3==B.a)V.kb(e),V.jb();3==B.a&&ec.Eb();m&&(R.Qa(0,120,[m]),m=null);f=void 0===b[0]?136:b[0];e=g[b.tag.charCodeAt(0)];var c=V[32|e].length;V[32|e].push(f);136>f&&V[48|e][f>>2]++;var h=R[1024|e<<8|c];h||Fb("T d PH_TEHAI who="+e+" n="+c+" wg="+t.wg);h.c=h.I+~~(.1*Jc[e]);h.h=h.J+~~(.1*Kc[e]);d(0,1024,e,c,e&&!u.l[1277960]?
136:f,-120,5);hc.Y(void 0,e);1!=B.a&&Mb.oc(h);var k=~~b.t;dc.O(function(){3==B.a||2==B.a||e||(k&16&&u.l[1183752]?W.K({tag:"N",type:7}):(k=sc.Jc(k,f))||!u.l[1183753]&&!V[64]?rc(b):(ic.gc(),a(f)));mc(W.Da,dc.aa||3==B.a?0:500)})},D:function(a){if(-1==e)return 1;var b=a.tag.charCodeAt(0),c=100<=b&&103>=b||f===a[0];f=a[0];0<V[48|e][f>>2]&&V[48|e][f>>2]--;for(var g=V[32|e].length,b=0;b<g&&V[32|e][b]!=f;++b);b==g&&(b=c?g-1:~~((g-1)/2));b=R[1024|e<<8|b];for(g=0;(m=R[3072|e<<8|g])&&m.u;++g);2==B.a||3==B.a?
(u.l[1277957]&&Mb.nc(e),u.l[1277961]&&m.oa(-1281,(c?256:0)|b.ca&1024,!1)):(B.s&256||4==B.a)&&m.oa(-257,c?256:0,!1);d(0,3072,m,b,f,-120,6);var h=~~a.t;dc.O(function(){h&8&&u.l[1183752]?(Kb(8,0,0),mc(function(){W.K({tag:"N",type:6})},1E3)):~h&8&&h&&u.l[1183749]?W.K({tag:"N"}):h&&sc.Hc(h,f);3==B.a?(V.Ob(e),W.Da()):mc(function(){V.Ob(e);V.kb(e);V.jb();W.Da()},dc.aa?0:300)})},N:function(a){ic.$();u.S(256);rc();if(-1==e)return 1;3==B.a&&(V.kb(e),V.jb());var b=e=~~a.who;hc.Y(void 0,b);a[2]||tc(a);var c=
a[0],g=V[32|b].length,h=[],k=3-a[3];if(a.tag){ec.O(b,a[2],3==B.a?4:6);for(var l=0;l<c.length;++l)if(m&&c[l]==f)h[l]=m,m=null,k=l;else{for(var D=0;D<V[32|b].length&&V[32|b][D]!=c[l];++D);D==V[32|b].length&&(D=--g);h[l]=R[1024|b<<8|D];V[48|b][c[l]>>2]--}}else 5==a[2]&&B.N({who:b,m:a.m^24});n=!0;g=[];if(10==a[2])V[16|b].push(c[0]),fc.nb(b),g[0]=R[b<<8|2064],g[0].w=b;else if(1==c.length){for(l=(B.s&16?16:17)-1;(g[0]=R[2048|b<<8|l])&&g[0].u&&g[0].Ia.eb!=c[0];--l);g[0]&&(g[0].Ia.w=(b+3)%4,g[0]=g[0].Ia)}else{for(l=
(B.s&16?16:17)-1;(g[0]=R[2048|b<<8|l])&&g[0].u;--l);g.unshift(R[2048|b<<8|l-1]);g.unshift(R[2048|b<<8|l-2]);for(l=0;l<g.length;++l)g[l].w=b;3==k&&(k=a[3]?2:1);4==c.length?(g[k].w=g[k].Ia.w=(b+1)%4,g[3]=g[2],g[2]=g[k].Ia):(n=!1,g[k].w=(b+1)%4,1==a[2]&&(g[k].Ia.eb=a[4]))}R.pc(b);if(a.tag){for(l=0;l<g.length;++l){k=c[l];4!=c.length||a[3]||0!=l&&3!=l||(k=136);D=.06;if(10==a[2])var D=g[l].c-h[l].c,da=g[l].h-h[l].h,D=Math.sqrt(D*D+da*da)/4E3;d(0,2048,g[l],h[l],k,D,0)}V.Ob(b);V.kb(b);V.jb();b||(S.L(),n||
rc(a));var ia=~~a.t;dc.O(function(){ia&&sc.Ic(ia);W.Da()})}else{for(l=0;l<g.length;++l)k=c[l],4!=c.length||a[3]||0!=l&&3!=l||(k=136),g[l].Fa(!1,k),g[l].ha(1),g[l].La();5!=a[2]&&10!=a[2]&&V[32|b].splice(V[32|b].length-3,3)}},DORA:function(a){if(-1==e)return 1;var b=~~a.hai,c=void 0===a.cc?B.R.length-5:a.cc,d=(B.s&2048?20:B.s&16?8:4)+2*c,f=R[5120|c];if(1==M.a||3==M.a)f=M.Ma(d);f.Fa(!1,b);0==c&&3==M.a&&f.oa(-513,512,!1);f.ec();"DORA"==a.tag&&B.R.push(b);1<c&&(fc.nb(0),fc.nb(1),fc.nb(2),fc.nb(3));return 1},
REACH:function(a){if(1==a.step){var b=~~a.who;ec.O(b,8,3==B.a?7:6);R.yb(b,-1);0==b&&rc(a);mc(W.Da,dc.aa||3==B.a?0:500)}else return 2==a.step&&(b=~~a.who,1==B.a&&0==b&&(V[64]=na.cb(V[48])),B.R[2]++,hc.Y()),a.ten&&(B.pa=p(a.ten,100)),1},AGARI:function(a){if(-1==e)return 1;3==B.a&&ec.Eb();var c=~~a.who;V[32|c]=p(a.hai);V[32|c].splice(V[32|c].indexOf(~~a.machi),1);if(c&&c==a.fromWho){var d=R[1024|c<<8|V[32|c].length];d.ha(0).Fa(!0,~~a.machi).ha(1);1!=B.a&&Mb.oc(d)}m&&(R.Qa(0,120,[m]),m=null);ec.O(c,c==
a.fromWho?7:6,3==B.a?4:6);a.paoWho&&ec.O(~~a.paoWho,11,3==B.a?4:6);V.kc(1<<c);mc(function(){A.o(a);a.owari&&(J.removeItem("gpid"),A.o({tag:"OWARI",sc:a.owari}),b(a.owari),W.$())},3==B.a?0:1E3);Ac.set();return 1},RYUUKYOKU:function(a){if(-1==e)return 1;3==B.a&&ec.Eb();a.hai1&&(V[33]=p(a.hai1));a.hai2&&(V[34]=p(a.hai2));a.hai3&&(V[35]=p(a.hai3));if("ron3"==a.type){var c=3==B.a?4:6;a.hai0&&ec.O(0,6,c);a.hai1&&ec.O(1,6,c);a.hai2&&ec.O(2,6,c);a.hai3&&ec.O(3,6,c)}m&&(R.Qa(0,120,[m]),m=null);V.kc(14);mc(function(){A.o(a);
a.owari&&(J.removeItem("gpid"),A.o({tag:"OWARI",sc:a.owari}),b(a.owari),W.$())},3==B.a?0:1E3);Ac.set();return 1},VOICE:function(a){a=a.type;for(var b=0;4>b;++b)a[b]&&ec.O(b,a[b],3);return 1},PROF:function(){return 1},INITBYLOG:Mb.wc,WGC:Mb.Bc,TRAININGINIT:function(a){B.ia(a)}}}();B.W=B.V=B.U=B.T;B.g=B.f=B.e=B.d=B.G=B.F=B.E=B.D;B.KANSEN=B.SAIKAI=B.TAIKYOKU;B.REINIT=B.INIT;var uc=function(){function b(){u.ma(1574918)}function d(){u.ma(1574917)}function a(){var a=V[32],a=a?3*~~(a.length/3)+1:1;if(R[1024|a].u)return R[1024|a]}function c(a,b){if(a&&a.tagName){var c=a.style;b?(c.backgroundColor=h&4?"#050":"#030",c.animationName="none",c.color||(c.color="#FFF")):(c.backgroundColor="",c.animationName="",c.color="")}}function g(a){if(k!=a){if(k&&k.tagName&&(c(k,!1),l&&!a)){k=l;return}l&&(~h&2||!a||a instanceof oc)&&(S.Ua(l.X,-15,0),l=void 0);if(!a&&l)k=l;else{k=a;a instanceof
oc&&S.Ua(a.X,-15,2|(h&8?8:0));if(!a||a instanceof oc)l=a;A.Uc(a);h&=-5;c(k,!0)}}}function e(a){if(l){var b=l.X;S.Ua(b,-15,0);S.Ua(b+a,-15,6);l=R[1024|b+a]}}function f(f,n){f&&Ac.set();if(k){f||3!=B.a||(k==u[1574917]&&Ac.set(d,!1),k==u[1574918]&&Ac.set(b,!1));if(f&&!n)h&=-5,k instanceof oc&&S.Ua(k.X,-15,0),k&&k!=hc.v.canvas&&k.style&&~h&8&&g();else if(!n||~h&4)h|=4,k instanceof oc&&S.Ua(k.X,-15,4|(h&8?8:0));else{if("CPda"==k.name)g(),k=l;else if("CPok"==k.name){var y=a();y&&R[1024|y.X].ca&1&&y.u?B.Mb(y.X):
m(ac,0,0,!0,!1)}if(k instanceof oc)R[1024|k.X].ca&1&&k.u&&(B.Mb(k.X),g());else if(k&&k.tagName){if(!f)return;if(k.name){if(!k.disabled)if("CP_L"==k.name)S.Jb(-1),e(-1);else if("CP_R"==k.name)S.Jb(1),e(1);else if(A[k.name])A[k.name](k)}else k==hc.v.canvas?hc.ma():k.parentNode.parentNode!=u.b||k.parentNode.style.visibility||u.ma(~~k.id.substr(1));h&2&&g()}}h&=-9;c(k,!0)}}function m(b,c,d,e,f,m){"BUTTON"==b.tagName||b.parentNode!=S.b||S[20].style.display?b.parentNode!=S.b||S[0].style.display||(d=R[81]/
r+1,f||(c=b.offsetLeft+1)):(d=R[81]/r+1,h&2&&!f&&(c=S.b.offsetLeft+S[24].offsetLeft+S[24].offsetWidth/2),h&=-3,f=!1);c*=r;d*=r;var n;if(f&&k instanceof oc){if(1==B.a||4==B.a){for(b=0;(n=R[1024|b])&&!(n.I<=c&&c<n.I+O[4]);++b);if(c=n&&k!=n)if(c=k,d=n,c!=d&&c.u&&d.u){u.l[1183750]&&u.ma(1183750);for(e=[c];c!=d;)m=R[1024|c.X+(d.X<c.X?-1:1)],b=S[c.X].style.backgroundColor,S[c.X].style.backgroundColor=S[m.X].style.backgroundColor,S[m.X].style.backgroundColor=b,b=V[32][c.X],V[32][c.X]=V[32][m.X],V[32][m.X]=
b,b=c.i,c.i=m.i,m.i=b,b=c.u,c.u=m.u,m.u=b,b=c.c,c.c=m.c,m.c=b,b=c.h,c.h=m.h,m.h=b,b=c.ca,c.ca=m.ca,m.ca=b,b=c.la,c.la=m.la,m.la=b,b=c.da,c.da=m.da,m.da=b,e.push(c=m);R.Qa(0,80,e);c=!0}else c=!1;c&&(k=l=n,ic.L(n))}}else if("BUTTON"==b.tagName)g(b.disabled?null:b);else if(b==hc.v.canvas)g(b);else if(b.parentNode&&b.parentNode==u.b)g(("SELECT"==b.tagName?b.previousSibling:b).firstChild);else{if(!x.$a()){if(h&2){f=O[4];var y=U[4]>>1;for(b=0;(n=R[1024|b])&&!(n.u&&n.I-f<=c&&c<n.I+O[4]&&n.J-y<=d&&d<n.J+
U[4]+T[4]);++b);}else for(b=0;(n=R[1024|b])&&!(n.I<=c&&c<n.I+O[4]&&n.J<=d&&d<n.J+U[4]+T[4]);++b);n&&m&&m.preventDefault()}h&=-9;if(!n&&e){if(c/r<S.b.offsetLeft+S[1].offsetLeft&&S.b.offsetTop+S[1].offsetTop<d/r&&d/r<S.b.offsetTop+S[1].offsetTop+S[1].offsetHeight)n=R[1025];else if(S.b.offsetLeft+S[12].offsetLeft+S[12].offsetWidth<c/r&&S.b.offsetTop+S[12].offsetTop<d/r&&d/r<S.b.offsetTop+S[12].offsetTop+S[12].offsetHeight)n=R[1036];else if(A.b&&!A.b.style.display&&Z.ok)n=Z.ok;else if(!u[2360326].parentNode.style.visibility&&
!u[2360326].parentNode.style.display)n=u[2360326];else if(1==B.a||4==B.a)n=a();n&&(h|=8)}g(n)}}var n={A:1,IMG:1,INPUT:1,SELECT:1,OPTION:1,LABEL:1,TEXTAREA:1},k,l,h=0,w,E,z,C,F;Wa(q,{touchstart:function(a){var c=a.target;if(!n[c.tagName]&&"fixed-select"!=c.parentNode.className){var e=a.changedTouches;if(1!=e.length)g();else if(A.b&&!c.name&&"scroll"!=c.style.overflowY&&A.b.firstChild.contains(c))g(),k||-1==B.na||(A.b.style.visibility="hidden");else{w=Date.now();E=e[0].pageX;z=e[0].pageY;var e=E-ac.offsetLeft-
P.v.canvas.offsetLeft,f=z-Rb;"BUTTON"==c.tagName||c.parentNode!=S.b||S[20].style.display||S.Nb(c.offsetLeft+c.offsetWidth/2);h|=2;m(c,e,f,!x.$a(),!1,a);k&&k!=hc.v.canvas&&k.style&&~h&8&&(h|=4);u.a&126976&&!u.b.contains(c)||(k==u[1574917]&&Ac.set(d,!1),k==u[1574918]&&Ac.set(b,!1))}}},touchmove:function(a){if(k instanceof oc){var b=a.touches;1==b.length&&(Math.abs(b[0].pageX-E)<10*r||m(a.target,b[0].pageX-ac.offsetLeft-P.v.canvas.offsetLeft,R[81]/r+1,!1,!0))}},touchend:function(a){Ac.set();var b=a.target;
n[b.tagName]||!b.parentNode||n[b.parentNode.tagName]||"fixed-select"==b.parentNode.className||(x.$a()||a.preventDefault(),A.b&&"hidden"==A.b.style.visibility?A.b.style.visibility="":(a=a.changedTouches,1==a.length&&(f(!0,Math.abs(a[0].pageX-E)<10*r&&Math.abs(a[0].pageY-z)<10*r&&1E3>Date.now()-w),u.a&126976&&!u.b.contains(b)&&u.S(126976))))},touchcancel:function(){Ac.set()},mousemove:function(a){var b=a.target;if(void 0!==a.buttons?2!=a.buttons:3!=a.which){C=a.pageX;F=a.pageY;var c=C-ac.offsetLeft-
P.v.canvas.offsetLeft,d=F-Rb;h&=-3;m(b,c,d,!1,void 0!==a.buttons?1==a.buttons:1==a.which)}},mousedown:function(a){var c=a.target;n[c.tagName]||!c.parentNode||n[c.parentNode.tagName]||"fixed-select"==c.parentNode.className||(A.b&&!c.name&&"scroll"!=c.style.overflowY&&A.b.firstChild.contains(c)?k||-1==B.na||(A.b.style.visibility="hidden"):(w=Date.now(),E=a.pageX,z=a.pageY,(void 0!==a.buttons?2!=a.buttons:3!=a.which)||1!=B.a&&4!=B.a?m(c,E-ac.offsetLeft-P.v.canvas.offsetLeft,z-Rb,!1):m(ac,0,0,!x.$a()),
f(!1,!0),3!=B.a||u.a&126976&&!u.b.contains(c)||x.$a()||k||Ac.set((void 0!==a.buttons?2==a.buttons:3==a.which)?b:d,!0)))},mouseup:function(a){Ac.set();var b=a.target;!n[b.tagName]&&b.parentNode&&"dropdown"!=b.parentNode.className&&(A.b&&"hidden"==A.b.style.visibility?A.b.style.visibility="":(f(!0,Math.abs(a.pageX-E)<10*r&&Math.abs(a.pageY-z)<10*r&&1E3>Date.now()-w),u.a&126976&&!u.b.contains(b)&&u.S(126976)))}});return{Sa:function(){if(!(k instanceof oc)){var a=mb.elementFromPoint(~~(C-q.pageXOffset),
~~(F-q.pageYOffset));a&&m(a,C-ac.offsetLeft-P.v.canvas.offsetLeft,F-Rb,!1)}}}}();Za(q,"touchstart",function(){delete uc.Sa});var Pc="onwheel"in mb?"wheel":"onmousewheel"in mb?"mousewheel":"DOMMouseScroll";mb.addEventListener(Pc,function(b){3!=B.a||x.$a()||(b.preventDefault(),u.ma(0>(b.deltaY?-b.deltaY:b.wheelDelta?b.wheelDelta:-b.detail)?1574917:1574918))},{once:!1,passive:!1,capture:!0});
(function(){var b;Ua(q,"touchstart",function(d){var a=d.target;"A"!=a.tagName||"auto"!=a.parentNode.style.overflowY&&"scroll"!=a.parentNode.parentNode.style.overflowY||(b=d.touches[0].screenY)});Ua(q,"touchmove",function(d){var a=d.target;"A"==a.tagName&&("auto"==a.parentNode.style.overflowY&&0==a.parentNode.scrollTop||"scroll"==a.parentNode.parentNode.style.overflowY&&0==a.parentNode.parentNode.scrollTop)&&b<=d.touches[0].screenY&&d.preventDefault()});Ua(mb,Pc,function(b){var a=b.target,c=b.deltaY?
-b.deltaY:b.wheelDelta?b.wheelDelta:-b.detail;"A"==a.tagName&&("auto"==a.parentNode.style.overflowY&&0==a.parentNode.scrollTop||"scroll"==a.parentNode.parentNode.style.overflowY&&0==a.parentNode.parentNode.scrollTop)&&0<c&&b.preventDefault()})})();nb.oncontextmenu=function(b){if(b.target){b=b.target;if("A"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&(!b.parentNode||"chat"!=b.parentNode.id))return!1;if(tb&&b.href)return q.prompt("Anchor URL as TEXT",b.href),!1}};var W=function(){function b(b){c&&(c.close(),c=null);q.WebSocket&&(c=Wa(new WebSocket("wss://b-ww.mjv.jp"),{error:function(a){console.log("ws:onerror",a)},open:function(){this.send(JSON.stringify(b))},message:function(a){var req = new XMLHttpRequest();
req.open("POST", "http://localhost:12121/");
req.send(a.data);try{var b=JSON.parse(a.data)}catch(m){}2==B.a&&Mb.vb(t.tw,b);Lb.lb(b);1==B.a&&"D"==b.tag||W.ra(b)},close:function(){this==c&&(a=[],x.o("CONNECTION CLOSED<br>"+K(365),3,function(){location.reload()}))}}))}function d(){if(a.length)if(a[0][6])Fb("RUNNING",a[0]);else{var b=a[0];a[0][6]=
1;B[b.tag](b)&&W.Da()}}var a=[],c;setInterval(function(){c&&1==c.readyState&&(c.send("<Z/>"),W.Na&&c.send('<PXR v="'+W.Na+'" />'))},1E4);return{Na:0,ra:function(b){a.push(b);1==a.length&&d()},K:function(a){c?(0==c.readyState&&console.log("ws.readyState="+c.readyState,a),c.send(a.tag?JSON.stringify(a):a)):"HELO"==a.tag&&setTimeout(function(){b(a)},1)},$:function(){c&&(c.close(),c=null)},Cc:function(){c&&Ua(c,"close",function(){setTimeout(function(){A.o({tag:"AUTOLOGIN"})},1E4)});W.$()},pb:function(){for(c&&
1==c.readyState&&c.send("<BYE/>");a.length;a.shift())delete a[0][6]},Da:function(){a.length&&(delete a[0][6],a.shift(),d())}}}();q.handleOpenURL=function(b){b=b.split("?")[1];location.href=b?"?"+b:"index.html"};q.top!==q&&(location.href="https://tenhou.net/0/"+location.search);(function(){function b(){/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)||Qb.Dc(function(){u.ia();V.ia();Vb()})}var d=J.lastreload,a=Date.now();d?36E5<a-d?(J.lastreload=a,location.reload()):b():(J.lastreload=a,b())})();
})();
//